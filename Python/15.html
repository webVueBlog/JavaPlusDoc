<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第15天-常用内建模块 | Jeskson-微服务分布式</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="Jeskson文档-架构师">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/JavaPlusDoc/assets/css/0.styles.69a89f58.css" as="style"><link rel="preload" href="/JavaPlusDoc/assets/js/app.ff4b1912.js" as="script"><link rel="preload" href="/JavaPlusDoc/assets/js/7.dfc0397a.js" as="script"><link rel="preload" href="/JavaPlusDoc/assets/js/2.cfbace72.js" as="script"><link rel="preload" href="/JavaPlusDoc/assets/js/1.d59a348b.js" as="script"><link rel="preload" href="/JavaPlusDoc/assets/js/132.f2e05b7b.js" as="script"><link rel="prefetch" href="/JavaPlusDoc/assets/js/10.8af913bb.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/100.2c53fcbd.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/101.8ccd9f40.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/102.6abe231e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/103.0e437ead.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/104.d915d7e5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/105.5d55ab62.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/106.07d5a34b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/107.513f25ac.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/108.7cda8012.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/109.b70451e6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/11.7e3aeb50.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/110.b8dbdfb8.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/111.71acaa8b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/112.ca35903a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/113.2db92a40.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/114.6e775813.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/115.d4fcd4df.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/116.5fbd9309.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/117.67d2a408.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/118.458ec435.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/119.044db67a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/120.433d403c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/121.4a247941.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/122.edf76321.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/123.24f157cc.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/124.8d2eafc2.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/125.9fcad17b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/126.ea0c1e50.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/127.eb6e5a6c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/128.c37745dd.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/129.d42e1da1.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/130.1f940759.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/131.f048f51b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/133.1025c747.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/134.e986b5c6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/135.ee67ecb2.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/136.51486790.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/137.7afd61da.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/138.a9b7f1d5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/139.b0abdadb.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/140.928f8b9d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/141.75ac97ba.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/142.e4a40851.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/143.abb68380.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/144.4a31149b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/145.4a204821.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/146.df6efac7.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/147.35f39f6d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/148.8f687af8.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/149.75598127.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/15.ab64ce54.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/150.7c950dfa.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/151.1a568fbd.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/152.39d4b618.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/153.f7912ca4.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/154.a7e8c404.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/155.11719bb5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/156.b0f61c27.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/157.78f0d5ec.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/158.96bd7aa7.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/159.c826f336.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/16.5859debf.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/160.79fcd999.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/161.6e041a18.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/162.c1dd8613.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/163.ab44d65f.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/164.55f30c4b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/165.1945cc91.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/166.7ce08c0a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/167.39902e9e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/168.0a015885.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/169.68d1a118.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/17.f3af3709.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/170.284bccfc.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/171.8abc7f27.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/172.1fda5d51.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/173.bb2d4d2b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/174.b34f63a3.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/175.28b93c68.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/176.7c670e26.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/177.5163bae9.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/178.51467a77.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/179.9738c734.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/18.7387f7e6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/180.ec8da569.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/181.321020b2.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/182.eaa16e7a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/183.fd9bacb6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/184.987ef50e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/185.65f18305.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/186.ece5c753.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/187.b0e4a1ac.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/188.5ac430dd.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/189.e5a35218.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/19.f4fea483.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/190.0d633d69.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/191.cb84e758.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/192.5696bda6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/193.c152ca1b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/194.58104929.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/195.f5268146.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/196.09b66f73.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/197.ac23f446.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/198.261200a2.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/199.724aa135.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/20.070d4a3f.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/200.2fc8b0b5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/201.8d7b1f57.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/202.b803e840.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/203.2eff0b6c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/204.d5a4c7c6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/205.88bbae92.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/206.cd68581c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/207.85c260ec.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/208.fd085d80.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/209.d2453e08.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/21.78933f38.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/210.116334ba.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/211.345d1772.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/212.1a27f8c9.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/213.59877e34.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/214.6480dee2.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/215.70ae1d89.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/216.09ca4312.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/217.af7bdf8c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/218.02a40cca.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/219.f484832f.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/22.4753ae4d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/220.6ba39f2b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/221.d585a6e3.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/222.557543ae.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/223.5140b6e5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/224.eaa0e691.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/225.356a94a3.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/226.fc10b75b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/227.9af00c34.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/228.4dc3c41b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/229.d11b02a5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/23.5ad2a326.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/230.519fdeb6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/231.680b752e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/232.1adf38e1.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/233.fcc3e8cc.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/234.7295f17c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/235.860622cd.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/236.07a1c33e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/237.8b3b18c5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/238.02b07b10.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/239.4b1eaae1.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/24.d8ef76cb.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/240.7a378249.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/241.50826979.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/242.a827cb6e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/243.02ee6149.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/244.95a1f931.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/245.839cc4a8.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/246.a8298108.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/247.17c29ff6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/248.076346b6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/249.a5694c3b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/25.56c87efe.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/250.db53d9fa.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/251.e5678920.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/252.4a97a73b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/253.fab94cc6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/254.f6fe60a9.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/255.5c90176f.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/256.51b253fa.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/257.7545eceb.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/258.d30ea980.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/259.19f6dd5e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/26.e137a506.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/260.b45fa309.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/261.b82f3b68.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/262.66dbb3e0.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/263.1bd0b88a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/264.e2d16987.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/265.a999dac8.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/266.0e3ffc82.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/267.31bcc9c4.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/268.21cadd7e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/269.6d41a49b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/27.8fd1e34f.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/270.cdc34c03.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/271.14d67f07.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/272.6b7ef511.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/273.29143d7e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/274.98c8d414.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/275.fcbb9b74.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/276.57d87a0b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/277.f32479eb.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/278.6c8f70ff.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/279.ee430fb0.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/28.ec80e187.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/280.6482b349.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/281.a146cd78.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/282.859de97e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/283.c15404e4.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/284.01dad2ca.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/285.619be44a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/286.d242787c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/287.c87ab04d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/288.e030d44a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/289.59a5a660.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/29.a2b39230.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/290.eab48a51.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/291.1f4b1e47.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/292.a13c9a99.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/293.b4eb7ce5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/294.d4abf953.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/295.8daf6058.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/296.368c24d4.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/297.3f74b182.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/298.6988474c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/299.dfad3465.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/3.40e3acc6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/30.9a11650a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/300.17321217.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/301.d9a1826e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/302.09a7987d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/303.5025013f.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/304.d4b8a3d1.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/305.159772d2.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/306.24c63e31.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/307.e6a6d270.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/308.4e507498.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/309.aee111c8.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/31.874f8153.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/310.5f1b5ca1.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/311.34ae5cb3.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/312.c43ea236.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/313.b847ec00.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/314.d64f5684.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/315.7d106bd1.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/316.867e71e0.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/317.494bb25c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/318.b855401a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/319.6ac2e09f.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/32.ee0b114a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/320.5c40f84e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/321.f2cf33ad.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/322.3fa8fc56.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/323.8a4d04ec.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/324.8105e17f.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/325.2550dcad.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/326.c3ff61c8.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/327.3a7ecc7c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/328.fed3b915.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/329.827908ae.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/33.cd82de30.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/330.937816d2.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/331.c852bfdf.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/332.c505b6c7.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/333.bef6e033.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/334.08a55ffe.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/335.6b268219.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/336.82d3fb2a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/337.39956547.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/338.6136640d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/339.81f5ad5b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/34.9c90a2a7.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/340.48782f66.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/341.d47516d3.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/342.4436bb4a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/343.908c9bd3.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/344.697ee8bd.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/345.ab9f1f75.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/346.076fd1c5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/347.3be42a59.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/348.97ba33db.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/349.3c07d100.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/35.d8543719.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/350.ec1bc3db.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/351.9d3153e4.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/352.e71317f4.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/353.261cb101.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/354.f3e47221.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/355.b307a3ed.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/356.b38d86c2.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/357.d1d9dc9d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/358.a03fc094.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/359.6b15776d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/36.ca9f16ca.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/360.bb0c54dd.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/361.35cefb19.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/362.56d3b2f7.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/363.86a26ed2.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/364.94d338d5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/365.07637682.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/366.575090a7.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/367.a24af406.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/368.84aaad95.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/369.878f8b2f.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/37.21403d6a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/370.dd867f9d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/371.dd80e718.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/372.c7b54b81.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/373.e2554640.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/374.b9b710d2.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/375.c9ad50e0.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/376.9b86837b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/377.05760818.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/378.12ec82d0.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/379.173b0296.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/38.bc6b1c3c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/380.d0bdf0e1.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/381.79d7a925.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/382.2c726e6e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/383.c3692568.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/384.7d008b7d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/385.08ce6856.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/386.12bb7596.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/387.4ee785b3.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/388.ebe74e39.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/389.05b70f9b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/39.8a7f24eb.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/390.bdcfda98.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/391.5f2295e0.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/392.8e12903a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/393.c553ee9b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/394.142fba6a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/395.2330c45a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/396.a7c9d0aa.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/397.e8412077.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/398.464f44c4.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/399.aaa72c53.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/4.8b5d3c01.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/40.98ac2f84.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/400.154963b8.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/401.894a8c6f.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/402.8f683588.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/403.b8dbd9cb.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/404.fc97c865.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/405.398fff13.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/406.ada3f6c6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/407.46666ee3.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/408.39295bc5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/409.00710db4.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/41.b36c815d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/410.0cb22004.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/411.e5923416.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/412.f58d3da9.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/413.0f6f7f8b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/414.015eb6b2.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/415.b155b195.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/416.3244bedb.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/417.26b9b844.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/418.37dd3bda.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/419.4a64bc57.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/42.8c4dfaf7.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/420.15ff5f8b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/421.988f32c6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/422.75528a99.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/423.366db802.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/424.508f7b6c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/425.6f763bb5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/426.659742ea.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/427.8b3d75d8.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/428.2f29aadb.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/429.2f28db07.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/43.815d0502.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/430.abf10612.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/431.9e64562c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/432.99f2f904.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/433.6296d93e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/434.f7904247.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/435.98715d2d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/436.9fefac84.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/437.fea151e9.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/438.7191b005.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/439.f3ccd045.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/44.ba19f402.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/440.2de0c08c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/441.8e3cb7b2.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/442.b93b4817.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/443.39c48a3a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/444.1655e664.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/445.97e47e06.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/446.d2adebf8.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/447.4be86ce4.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/448.0b587761.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/449.ddf18f4c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/45.4182ef1e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/450.28fa53ca.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/451.ef5b2bd0.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/452.e121c917.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/453.c8132e49.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/454.2432fab6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/455.34584ef6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/456.9903968f.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/457.63aa6849.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/458.0b9d9b23.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/459.9f021166.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/46.2a154851.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/460.a629ff70.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/461.d75e8448.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/462.552a8aef.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/463.ec331fd1.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/464.1890b541.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/465.2a0bd1b9.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/466.610de9f1.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/467.2d46b708.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/468.04a56bcc.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/469.7d6a224c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/47.9b096bd4.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/470.da81c67e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/471.e592f995.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/472.bc085169.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/473.0cb79355.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/474.7f396d93.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/475.e2adea36.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/476.8b82e0ff.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/477.8bd4fa06.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/478.3fa4b579.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/479.6029394b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/48.fff8acb7.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/480.1eb05b6f.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/481.18496764.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/482.11a56dce.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/483.285ea6df.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/484.b15c921d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/485.53d859c3.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/486.4680c312.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/487.2376b70e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/488.bd4ff8a8.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/489.7c19b407.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/49.510ceb1b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/490.5c95e6f9.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/491.c22e75d5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/492.e7342ffc.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/493.7e251855.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/494.b4a9a5ea.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/495.36fc9e68.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/496.7616b0ef.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/497.a627b99d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/498.e6ec30be.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/499.9f8c621b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/5.dd2e9586.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/50.1c015ec1.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/500.e4f04fa7.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/501.23e805ce.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/502.c7707c65.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/503.3f577d77.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/504.5fd17fd2.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/505.0e03be2a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/506.e87bada7.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/507.2b245401.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/508.87b73a39.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/509.cc69075a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/51.fa0d4ce8.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/510.6490c5fe.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/511.be7a1d82.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/512.c680c2c9.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/513.36b29e3e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/514.d3ae3a27.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/515.cdb5681f.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/516.469418ff.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/517.24928bff.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/518.6a26365b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/519.59e59dea.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/52.03c9ff54.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/520.23673bd1.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/521.a5806db8.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/522.73be9af3.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/523.0e7e4925.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/524.327700e3.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/525.c768492d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/526.febcc9d9.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/527.dd5fd0b5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/528.7e1d4ec5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/529.8bdce1a4.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/53.7e80043a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/530.44e010d9.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/531.f67a86b7.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/532.09b7ead5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/533.7adabdfa.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/534.f868f74a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/535.c98d4c0e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/536.370ce042.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/537.753a8af1.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/538.d017f77d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/539.a133376e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/54.f7955daf.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/540.f4dbc9d0.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/55.686f3985.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/56.cb0430ac.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/57.eb834e65.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/58.bf089253.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/59.14efcce4.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/6.bab6d49b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/60.eaf6e3a4.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/61.3bbdc790.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/62.38f6d5ec.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/63.02f1b305.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/64.1722673d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/65.6547e007.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/66.4e8931dc.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/67.cfca24ed.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/68.8add83f1.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/69.1693fd1e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/70.179cc187.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/71.313fbab6.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/72.0e0d03ef.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/73.9b65b544.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/74.b4c4befd.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/75.f2ffd04c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/76.d8a485ae.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/77.df0cc69e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/78.63985859.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/79.1b530da0.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/8.482e3594.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/80.48deda5a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/81.26d7dd05.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/82.526c2b16.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/83.a00c4a7e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/84.f55a4b6a.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/85.62ab46e7.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/86.82d619c9.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/87.e726803b.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/88.a864fe77.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/89.dee71f5d.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/9.cb5e384c.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/90.f1aadb95.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/91.94144a2e.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/92.72d39ce5.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/93.b68bfc16.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/94.8957be11.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/95.eb9d19f3.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/96.093d0db2.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/97.5ba97253.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/98.6bf338d4.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/99.ba035d72.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/vendors~docsearch.0b3f4b62.js"><link rel="prefetch" href="/JavaPlusDoc/assets/js/vendors~flowchart.2a4bfc54.js">
    <link rel="stylesheet" href="/JavaPlusDoc/assets/css/0.styles.69a89f58.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Jeskson-微服务分布式</h3> <p class="description" data-v-59e6cb88>Jeskson文档-架构师</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2025
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/JavaPlusDoc/" class="home-link router-link-active"><!----> <span class="site-name">Jeskson-微服务分布式</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/JavaPlusDoc/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      学习路线
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/" class="nav-link"><i class="undefined"></i>
  入门指南
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/basic-grammar/basic-data-type.html" class="nav-link"><i class="undefined"></i>
  基础到进阶
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/high-concurrency/why-cache.html" class="nav-link"><i class="undefined"></i>
  架构师成长
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      刷题练习
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/coding-practice/" class="nav-link"><i class="undefined"></i>
  🎯 题库首页
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/coding-practice/topics/" class="nav-link"><i class="undefined"></i>
  📚 专题练习
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/coding-practice/written-exam/" class="nav-link"><i class="undefined"></i>
  📝 笔试真题
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/coding-practice/interview/" class="nav-link"><i class="undefined"></i>
  💼 面试真题
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/coding-practice/contest/" class="nav-link"><i class="undefined"></i>
  🏆 竞赛题库
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/coding-practice/statistics/" class="nav-link"><i class="undefined"></i>
  📊 刷题统计
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      技术分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/basic-grammar/basic-data-type.html" class="nav-link"><i class="undefined"></i>
  Java基础
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/java-up/nginx.html" class="nav-link"><i class="undefined"></i>
  Java进阶
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/go/" class="nav-link"><i class="undefined"></i>
  GO语言技术
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/iot/" class="nav-link"><i class="undefined"></i>
  物联网架构
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/high-concurrency/why-cache.html" class="nav-link"><i class="undefined"></i>
  分布式架构
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/worker/1.html" class="nav-link"><i class="undefined"></i>
  微服务
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/mysql/mysql.html" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/sql/" class="nav-link"><i class="undefined"></i>
  SQL专属手册
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/linux/linux.html" class="nav-link"><i class="undefined"></i>
  运维与部署
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/docker/docker-tutorial.html" class="nav-link"><i class="undefined"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/uniapp/充电宝小程序实现.html" class="nav-link"><i class="undefined"></i>
  UniApp小程序
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/products/" class="nav-link"><i class="undefined"></i>
  产品系列
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      实战案例
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/worker/1.html" class="nav-link"><i class="undefined"></i>
  系统设计
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/high-concurrency/why-cache.html" class="nav-link"><i class="undefined"></i>
  性能优化
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/java-up/nginx.html" class="nav-link"><i class="undefined"></i>
  项目实践
</a></li><li class="dropdown-item"><!----> <a href="https://1024bibi.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  📝 简历制作工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      资源
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://webvueblog.github.io/JavaPlusDoc/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  官方文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/webVueBlog/JavaPlusDoc" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  GitHub仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/webVueBlog" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  作者主页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/wechat-contact-demo.html" class="nav-link"><i class="undefined"></i>
  微信联系
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><!----> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>496</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>22</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/JavaPlusDoc/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      学习路线
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/" class="nav-link"><i class="undefined"></i>
  入门指南
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/basic-grammar/basic-data-type.html" class="nav-link"><i class="undefined"></i>
  基础到进阶
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/high-concurrency/why-cache.html" class="nav-link"><i class="undefined"></i>
  架构师成长
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      刷题练习
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/coding-practice/" class="nav-link"><i class="undefined"></i>
  🎯 题库首页
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/coding-practice/topics/" class="nav-link"><i class="undefined"></i>
  📚 专题练习
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/coding-practice/written-exam/" class="nav-link"><i class="undefined"></i>
  📝 笔试真题
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/coding-practice/interview/" class="nav-link"><i class="undefined"></i>
  💼 面试真题
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/coding-practice/contest/" class="nav-link"><i class="undefined"></i>
  🏆 竞赛题库
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/coding-practice/statistics/" class="nav-link"><i class="undefined"></i>
  📊 刷题统计
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      技术分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/basic-grammar/basic-data-type.html" class="nav-link"><i class="undefined"></i>
  Java基础
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/java-up/nginx.html" class="nav-link"><i class="undefined"></i>
  Java进阶
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/go/" class="nav-link"><i class="undefined"></i>
  GO语言技术
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/iot/" class="nav-link"><i class="undefined"></i>
  物联网架构
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/high-concurrency/why-cache.html" class="nav-link"><i class="undefined"></i>
  分布式架构
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/worker/1.html" class="nav-link"><i class="undefined"></i>
  微服务
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/mysql/mysql.html" class="nav-link"><i class="undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/sql/" class="nav-link"><i class="undefined"></i>
  SQL专属手册
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/linux/linux.html" class="nav-link"><i class="undefined"></i>
  运维与部署
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/docker/docker-tutorial.html" class="nav-link"><i class="undefined"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/uniapp/充电宝小程序实现.html" class="nav-link"><i class="undefined"></i>
  UniApp小程序
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/products/" class="nav-link"><i class="undefined"></i>
  产品系列
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      实战案例
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/worker/1.html" class="nav-link"><i class="undefined"></i>
  系统设计
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/high-concurrency/why-cache.html" class="nav-link"><i class="undefined"></i>
  性能优化
</a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/java-up/nginx.html" class="nav-link"><i class="undefined"></i>
  项目实践
</a></li><li class="dropdown-item"><!----> <a href="https://1024bibi.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  📝 简历制作工具
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      资源
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://webvueblog.github.io/JavaPlusDoc/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  官方文档
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/webVueBlog/JavaPlusDoc" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  GitHub仓库
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/webVueBlog" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  作者主页
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/JavaPlusDoc/wechat-contact-demo.html" class="nav-link"><i class="undefined"></i>
  微信联系
</a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/JavaPlusDoc/" class="sidebar-heading clickable router-link-active open"><span>文档指南</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/" aria-current="page" class="sidebar-link">学前必读</a></li><li><a href="/JavaPlusDoc/encrypted-article.html" class="sidebar-link">加密文章示例</a></li><li><a href="/JavaPlusDoc/plugin-demo.html" class="sidebar-link">插件功能演示</a></li><li><a href="/JavaPlusDoc/share-demo.html" class="sidebar-link">社交分享功能演示</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>后端专属笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>达达JAVA基础问答</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/basic/1.html" class="sidebar-link">第1天-第一个程序</a></li><li><a href="/JavaPlusDoc/basic/2.html" class="sidebar-link">第2天-基础语法</a></li><li><a href="/JavaPlusDoc/basic/3.html" class="sidebar-link">第3天-基本概念</a></li><li><a href="/JavaPlusDoc/basic/4.html" class="sidebar-link">第4天-基本数据类型</a></li><li><a href="/JavaPlusDoc/basic/5.html" class="sidebar-link">第5天-变量的声明实例</a></li><li><a href="/JavaPlusDoc/basic/6.html" class="sidebar-link">第6天-变量命名规则</a></li><li><a href="/JavaPlusDoc/basic/7.html" class="sidebar-link">第7天-修饰符</a></li><li><a href="/JavaPlusDoc/basic/8.html" class="sidebar-link">第8天-运算符</a></li><li><a href="/JavaPlusDoc/basic/9.html" class="sidebar-link">第9天-循环结构</a></li><li><a href="/JavaPlusDoc/basic/10.html" class="sidebar-link">第10天-条件语句</a></li><li><a href="/JavaPlusDoc/basic/11.html" class="sidebar-link">第11天-switch-case</a></li><li><a href="/JavaPlusDoc/basic/12.html" class="sidebar-link">第12天-Number-Math类</a></li><li><a href="/JavaPlusDoc/basic/13.html" class="sidebar-link">第13天-Character</a></li><li><a href="/JavaPlusDoc/basic/14.html" class="sidebar-link">第14天-String</a></li><li><a href="/JavaPlusDoc/basic/15.html" class="sidebar-link">第15天-StringBuffer</a></li><li><a href="/JavaPlusDoc/basic/16.html" class="sidebar-link">第16天-数组</a></li><li><a href="/JavaPlusDoc/basic/17.html" class="sidebar-link">第17天-日期时间</a></li><li><a href="/JavaPlusDoc/basic/18.html" class="sidebar-link">第18天-正则表达式</a></li><li><a href="/JavaPlusDoc/basic/19.html" class="sidebar-link">第19天-方法</a></li><li><a href="/JavaPlusDoc/basic/20.html" class="sidebar-link">第20天-构造方法</a></li><li><a href="/JavaPlusDoc/basic/21.html" class="sidebar-link">第21天-流</a></li><li><a href="/JavaPlusDoc/basic/22.html" class="sidebar-link">第22天-异常处理</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>达达JAVA写法思路</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/basic/23.html" class="sidebar-link">第23天-继承的概念</a></li><li><a href="/JavaPlusDoc/basic/24.html" class="sidebar-link">第24天-重写与重载</a></li><li><a href="/JavaPlusDoc/basic/25.html" class="sidebar-link">第25天-多态</a></li><li><a href="/JavaPlusDoc/basic/26.html" class="sidebar-link">第26天-抽象类</a></li><li><a href="/JavaPlusDoc/basic/27.html" class="sidebar-link">第27天-封装</a></li><li><a href="/JavaPlusDoc/basic/28.html" class="sidebar-link">第28天-接口</a></li><li><a href="/JavaPlusDoc/basic/29.html" class="sidebar-link">第29天-枚举</a></li><li><a href="/JavaPlusDoc/basic/30.html" class="sidebar-link">第30天-反射</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>达达JAVA进阶教程</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/basicUp/31.html" class="sidebar-link">第31天-数据结构</a></li><li><a href="/JavaPlusDoc/basicUp/32.html" class="sidebar-link">第32天-集合框架</a></li><li><a href="/JavaPlusDoc/basicUp/33.html" class="sidebar-link">第33天-ArrayList</a></li><li><a href="/JavaPlusDoc/basicUp/34.html" class="sidebar-link">第34天-LinkedList</a></li><li><a href="/JavaPlusDoc/basicUp/35.html" class="sidebar-link">第35天-HashSet</a></li><li><a href="/JavaPlusDoc/basicUp/36.html" class="sidebar-link">第36天-HashMap</a></li><li><a href="/JavaPlusDoc/basicUp/37.html" class="sidebar-link">第37天-Iterator</a></li><li><a href="/JavaPlusDoc/basicUp/38.html" class="sidebar-link">第38天-Object</a></li><li><a href="/JavaPlusDoc/basicUp/39.html" class="sidebar-link">第39天-NIO</a></li><li><a href="/JavaPlusDoc/basicUp/40.html" class="sidebar-link">第40天-泛型</a></li><li><a href="/JavaPlusDoc/basicUp/41.html" class="sidebar-link">第41天-序列化</a></li><li><a href="/JavaPlusDoc/basicUp/42.html" class="sidebar-link">第42天-网络编程</a></li><li><a href="/JavaPlusDoc/basicUp/43.html" class="sidebar-link">第43天-发送邮件</a></li><li><a href="/JavaPlusDoc/basicUp/44.html" class="sidebar-link">第44天-多线程编程</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>刷题练习平台</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/coding-practice/" class="sidebar-link">题库导航</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/JavaPlusDoc/coding-practice/topics/" class="sidebar-heading clickable"><span>📝 专题练习</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/JavaPlusDoc/coding-practice/written-exam/" class="sidebar-heading clickable"><span>📝 笔试真题</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/JavaPlusDoc/coding-practice/interview/" class="sidebar-heading clickable"><span>💼 面试真题</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/JavaPlusDoc/coding-practice/contest/" class="sidebar-heading clickable"><span>🏆 竞赛题库</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/JavaPlusDoc/coding-practice/statistics/" class="sidebar-heading clickable"><span>📊 学习统计</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>SQL专属笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/sql/" class="sidebar-link">手册简介</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>基础语法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/sql/basic/syntax.html" class="sidebar-link">SQL基础语法</a></li><li><a href="/JavaPlusDoc/sql/basic/data-types.html" class="sidebar-link">数据类型</a></li><li><a href="/JavaPlusDoc/sql/basic/constraints.html" class="sidebar-link">约束条件</a></li><li><a href="/JavaPlusDoc/sql/basic/ddl.html" class="sidebar-link">DDL数据定义语言</a></li><li><a href="/JavaPlusDoc/sql/basic/dml.html" class="sidebar-link">DML数据操作语言</a></li><li><a href="/JavaPlusDoc/sql/basic/dql.html" class="sidebar-link">DQL数据查询语言</a></li><li><a href="/JavaPlusDoc/sql/basic/dcl.html" class="sidebar-link">DCL数据控制语言</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>查询操作</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/sql/query/select-basic.html" class="sidebar-link">SELECT查询基础</a></li><li><a href="/JavaPlusDoc/sql/query/where.html" class="sidebar-link">WHERE条件查询</a></li><li><a href="/JavaPlusDoc/sql/query/join.html" class="sidebar-link">JOIN表连接</a></li><li><a href="/JavaPlusDoc/sql/query/subquery.html" class="sidebar-link">子查询</a></li><li><a href="/JavaPlusDoc/sql/query/group-by.html" class="sidebar-link">GROUP BY分组</a></li><li><a href="/JavaPlusDoc/sql/query/order-by.html" class="sidebar-link">ORDER BY排序</a></li><li><a href="/JavaPlusDoc/sql/query/pagination.html" class="sidebar-link">分页查询</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>性能优化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/sql/perfor/indexr.html" class="sidebar-link">性能优化概述</a></li><li><a href="/JavaPlusDoc/sql/perfor/indexes.html" class="sidebar-link">索引原理与应用</a></li><li><a href="/JavaPlusDoc/sql/perfor/query-optimization.html" class="sidebar-link">查询优化</a></li><li><a href="/JavaPlusDoc/sql/perfor/execution-plans.html" class="sidebar-link">执行计划分析</a></li><li><a href="/JavaPlusDoc/sql/perfor/tuning.html" class="sidebar-link">性能调优</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>高级特性</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/sql/advanced/indexr.html" class="sidebar-link">高级特性概述</a></li><li><a href="/JavaPlusDoc/sql/advanced/transactions.html" class="sidebar-link">事务处理</a></li><li><a href="/JavaPlusDoc/sql/advanced/stored-procedures.html" class="sidebar-link">存储过程与函数</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>函数大全</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/sql/functions/aggregate.html" class="sidebar-link">聚合函数</a></li><li><a href="/JavaPlusDoc/sql/functions/string.html" class="sidebar-link">字符串函数</a></li><li><a href="/JavaPlusDoc/sql/functions/numeric.html" class="sidebar-link">数值函数</a></li><li><a href="/JavaPlusDoc/sql/functions/datetime.html" class="sidebar-link">日期时间函数</a></li><li><a href="/JavaPlusDoc/sql/functions/conditional.html" class="sidebar-link">条件函数</a></li><li><a href="/JavaPlusDoc/sql/functions/window.html" class="sidebar-link">窗口函数</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>实战案例</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/sql/examples/ecommerce.html" class="sidebar-link">电商系统实战</a></li><li><a href="/JavaPlusDoc/sql/examples/analytics.html" class="sidebar-link">数据分析实战</a></li><li><a href="/JavaPlusDoc/sql/examples/reports.html" class="sidebar-link">报表查询实战</a></li><li><a href="/JavaPlusDoc/sql/examples/migration.html" class="sidebar-link">数据迁移实战</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>数据库特定</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/sql/databases/mysql.html" class="sidebar-link">MySQL</a></li><li><a href="/JavaPlusDoc/sql/databases/postgresql.html" class="sidebar-link">PostgreSQL</a></li><li><a href="/JavaPlusDoc/sql/databases/sqlserver.html" class="sidebar-link">SQL Server</a></li><li><a href="/JavaPlusDoc/sql/databases/oracle.html" class="sidebar-link">Oracle</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>UniApp小程序开发</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/uniapp/充电宝小程序实现.html" class="sidebar-link">充电宝小程序实现</a></li><li><a href="/JavaPlusDoc/uniapp/充电桩小程序实现.html" class="sidebar-link">充电桩小程序实现</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Python专属笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>Python基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/Python/1.html" class="sidebar-link">第1天-Python历史</a></li><li><a href="/JavaPlusDoc/Python/2.html" class="sidebar-link">第2天-安装Python</a></li><li><a href="/JavaPlusDoc/Python/3.html" class="sidebar-link">第3天-第一个程序</a></li><li><a href="/JavaPlusDoc/Python/4.html" class="sidebar-link">第4天-Python基础</a></li><li><a href="/JavaPlusDoc/Python/5.html" class="sidebar-link">第5天-函数</a></li><li><a href="/JavaPlusDoc/Python/6.html" class="sidebar-link">第6天-高级特性</a></li><li><a href="/JavaPlusDoc/Python/7.html" class="sidebar-link">第7天-函数式编程</a></li><li><a href="/JavaPlusDoc/Python/8.html" class="sidebar-link">第8天-模块</a></li><li><a href="/JavaPlusDoc/Python/9.html" class="sidebar-link">第9天-面向对象编程</a></li><li><a href="/JavaPlusDoc/Python/10.html" class="sidebar-link">第10天-高级编程</a></li><li><a href="/JavaPlusDoc/Python/11.html" class="sidebar-link">第11天-错误和调试</a></li><li><a href="/JavaPlusDoc/Python/12.html" class="sidebar-link">第12天-IO编程</a></li><li><a href="/JavaPlusDoc/Python/13.html" class="sidebar-link">第13天-进程和线程</a></li><li><a href="/JavaPlusDoc/Python/14.html" class="sidebar-link">第14天-正则表达式</a></li><li><a href="/JavaPlusDoc/Python/15.html" aria-current="page" class="active sidebar-link">第15天-常用内建模块</a></li><li><a href="/JavaPlusDoc/Python/16.html" class="sidebar-link">第16天-常用第三方模块</a></li><li><a href="/JavaPlusDoc/Python/17.html" class="sidebar-link">第17天-图形界面</a></li><li><a href="/JavaPlusDoc/Python/18.html" class="sidebar-link">第18天-网络编程</a></li><li><a href="/JavaPlusDoc/Python/19.html" class="sidebar-link">第19天-电子邮件</a></li><li><a href="/JavaPlusDoc/Python/20.html" class="sidebar-link">第20天-访问数据库</a></li><li><a href="/JavaPlusDoc/Python/21.html" class="sidebar-link">第21天-Web开发</a></li><li><a href="/JavaPlusDoc/Python/22.html" class="sidebar-link">第22天-异步IO</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Java核心技术</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>基础篇</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/e/JVM深入解析.html" class="sidebar-link">JVM深入解析</a></li><li><a href="/JavaPlusDoc/e/JDK开发工具详解.html" class="sidebar-link">JDK开发工具详解</a></li><li><a href="/JavaPlusDoc/e/Java实战演示.html" class="sidebar-link">Java实战演示</a></li><li><a href="/JavaPlusDoc/basic-grammar/java-jdk-jre-jvm.html" class="sidebar-link">Java、JDK、JRE、JVM详解</a></li><li><a href="/JavaPlusDoc/basic-grammar/basic-data-type.html" class="sidebar-link">Java基本数据类型</a></li><li><a href="/JavaPlusDoc/basic-grammar/type-cast.html" class="sidebar-link">数据类型转换</a></li><li><a href="/JavaPlusDoc/basic-grammar/int-cache.html" class="sidebar-link">数据类型缓存池</a></li><li><a href="/JavaPlusDoc/basic-grammar/operator.html" class="sidebar-link">运算符</a></li><li><a href="/JavaPlusDoc/basic-grammar/flow-control.html" class="sidebar-link">流程控制</a></li><li><a href="/JavaPlusDoc/basic-grammar/string-source.html" class="sidebar-link">String类详解</a></li><li><a href="/JavaPlusDoc/basic-grammar/constant-pool.html" class="sidebar-link">字符串常量池</a></li><li><a href="/JavaPlusDoc/basic-grammar/builder-buffer.html" class="sidebar-link">StringBuilder和Buffer</a></li><li><a href="/JavaPlusDoc/basic-grammar/equals.html" class="sidebar-link">字符串比较</a></li><li><a href="/JavaPlusDoc/basic-grammar/object-class.html" class="sidebar-link">面向对象基础</a></li><li><a href="/JavaPlusDoc/basic-grammar/package.html" class="sidebar-link">Java包机制</a></li><li><a href="/JavaPlusDoc/basic-grammar/var.html" class="sidebar-link">变量与方法</a></li><li><a href="/JavaPlusDoc/basic-grammar/construct.html" class="sidebar-link">构造方法</a></li><li><a href="/JavaPlusDoc/basic-grammar/abstract.html" class="sidebar-link">抽象类</a></li><li><a href="/JavaPlusDoc/basic-grammar/interface.html" class="sidebar-link">接口和内部类</a></li><li><a href="/JavaPlusDoc/basic-grammar/encapsulation-inheritance-polymorphism.html" class="sidebar-link">封装继承多态</a></li><li><a href="/JavaPlusDoc/basic-grammar/this-super.html" class="sidebar-link">this与super关键字</a></li><li><a href="/JavaPlusDoc/basic-grammar/immutable.html" class="sidebar-link">不可变对象</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>集合框架</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/basic-grammar/gailan.html" class="sidebar-link">集合框架概览</a></li><li><a href="/JavaPlusDoc/basic-grammar/arraylist.html" class="sidebar-link">ArrayList详解</a></li><li><a href="/JavaPlusDoc/basic-grammar/linkedlist.html" class="sidebar-link">LinkedList详解</a></li><li><a href="/JavaPlusDoc/basic-grammar/stack.html" class="sidebar-link">栈Stack详解</a></li><li><a href="/JavaPlusDoc/basic-grammar/hashmap.html" class="sidebar-link">HashMap详解</a></li><li><a href="/JavaPlusDoc/basic-grammar/linkedhashmap.html" class="sidebar-link">LinkedHashMap详解</a></li><li><a href="/JavaPlusDoc/basic-grammar/treemap.html" class="sidebar-link">TreeMap详解</a></li><li><a href="/JavaPlusDoc/basic-grammar/ArrayDeque.html" class="sidebar-link">ArrayDeque详解</a></li><li><a href="/JavaPlusDoc/basic-grammar/PriorityQueue.html" class="sidebar-link">PriorityQueue详解</a></li><li><a href="/JavaPlusDoc/basic-grammar/array-linked-list.html" class="sidebar-link">ArrayList vs LinkedList</a></li><li><a href="/JavaPlusDoc/basic-grammar/generic.html" class="sidebar-link">Java泛型</a></li><li><a href="/JavaPlusDoc/basic-grammar/iterator-iterable.html" class="sidebar-link">Iterator和Iterable</a></li><li><a href="/JavaPlusDoc/basic-grammar/fail-fast.html" class="sidebar-link">foreach循环陷阱</a></li><li><a href="/JavaPlusDoc/basic-grammar/comparable-omparator.html" class="sidebar-link">Comparable和Comparator</a></li><li><a href="/JavaPlusDoc/basic-grammar/WeakHashMap.html" class="sidebar-link">WeakHashMap详解</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>JVM与性能</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/aJava/jvm.html" class="sidebar-link">JVM基础</a></li><li><a href="/JavaPlusDoc/aJava/JVM内存区域.html" class="sidebar-link">JVM内存区域</a></li><li><a href="/JavaPlusDoc/aJava/程序计数器.html" class="sidebar-link">程序计数器</a></li><li><a href="/JavaPlusDoc/aJava/线程.html" class="sidebar-link">线程</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>并发编程</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/thread/thread.html" class="sidebar-link">多线程入门</a></li><li><a href="/JavaPlusDoc/thread/callable-future-futuretask.html" class="sidebar-link">线程执行结果获取</a></li><li><a href="/JavaPlusDoc/thread/thread-state-and-method.html" class="sidebar-link">线程的6种状态</a></li><li><a href="/JavaPlusDoc/thread/threadpool-executor.html" class="sidebar-link">深入浅出Java线程池ThreadPoolExecutor</a></li><li><a href="/JavaPlusDoc/jobPro/synchronized.html" class="sidebar-link">synchronized和lock</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>IO与网络</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/java-up/shangtou.html" class="sidebar-link">JavaIO知识体系</a></li><li><a href="/JavaPlusDoc/java-up/file-path.html" class="sidebar-link">文件流</a></li><li><a href="/JavaPlusDoc/java-up/reader-writer.html" class="sidebar-link">字节流与字符流</a></li><li><a href="/JavaPlusDoc/java-up/char-byte.html" class="sidebar-link">转换流</a></li><li><a href="/JavaPlusDoc/java-up/serialize.html" class="sidebar-link">序列化和反序列化</a></li><li><a href="/JavaPlusDoc/nio/nio.html" class="sidebar-link">NIO基础</a></li><li><a href="/JavaPlusDoc/nio/BIONIOAIO.html" class="sidebar-link">NIO vs BIO vs AIO</a></li><li><a href="/JavaPlusDoc/nio/buffer-channel.html" class="sidebar-link">Buffer和Channel</a></li><li><a href="/JavaPlusDoc/nio/network-connect.html" class="sidebar-link">网络编程实践</a></li><li><a href="/JavaPlusDoc/nio/moxing.html" class="sidebar-link">IO模型</a></li><li><a href="/JavaPlusDoc/jobPro/IO.html" class="sidebar-link">IO多路复用</a></li><li><a href="/JavaPlusDoc/java-up/netty.html" class="sidebar-link">Netty入门</a></li><li><a href="/JavaPlusDoc/nio/socket-communication-basics.html" class="sidebar-link">Socket通信基础</a></li><li><a href="/JavaPlusDoc/nio/tcp-udp-programming.html" class="sidebar-link">TCP与UDP编程</a></li><li><a href="/JavaPlusDoc/nio/network-protocols-deep-dive.html" class="sidebar-link">网络协议深入解析</a></li><li><a href="/JavaPlusDoc/nio/nio-netty-framework.html" class="sidebar-link">NIO与Netty框架</a></li><li><a href="/JavaPlusDoc/nio/socket-programming-practice.html" class="sidebar-link">Socket编程实战案例</a></li><li><a href="/JavaPlusDoc/nio/socket-performance-optimization.html" class="sidebar-link">Socket性能优化与调试</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/JavaPlusDoc/gaobingfaxitong/1" class="sidebar-heading clickable"><span>高并发系统</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/gaobingfaxitong/1.html" class="sidebar-link">它的通用设计方法是什么</a></li><li><a href="/JavaPlusDoc/gaobingfaxitong/2.html" class="sidebar-link">架构分层</a></li><li><a href="/JavaPlusDoc/gaobingfaxitong/3.html" class="sidebar-link">如何提升系统性能</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>物联网架构系列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/iot/" class="sidebar-link">IoT架构概览</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>架构分层设计</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/iot/device-layer.html" class="sidebar-link">设备层架构</a></li><li><a href="/JavaPlusDoc/iot/network-layer.html" class="sidebar-link">网络层架构</a></li><li><a href="/JavaPlusDoc/iot/application-layer.html" class="sidebar-link">应用层架构</a></li><li><a href="/JavaPlusDoc/iot/frontend-layer.html" class="sidebar-link">前端展示层</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>设备接入与管理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/iot/device-access.html" class="sidebar-link">设备接入层</a></li><li><a href="/JavaPlusDoc/iot/device-management-layer.html" class="sidebar-link">设备管理层</a></li><li><a href="/JavaPlusDoc/iot/device-authentication.html" class="sidebar-link">设备认证</a></li><li><a href="/JavaPlusDoc/iot/device-control.html" class="sidebar-link">设备控制</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>协议适配层</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/iot/protocol-adapter-layer.html" class="sidebar-link">协议适配器</a></li><li><a href="/JavaPlusDoc/iot/mqtt-access-layer.html" class="sidebar-link">MQTT接入</a></li><li><a href="/JavaPlusDoc/iot/http-access-layer.html" class="sidebar-link">HTTP接入</a></li><li><a href="/JavaPlusDoc/iot/coap-access-layer.html" class="sidebar-link">CoAP接入</a></li><li><a href="/JavaPlusDoc/iot/tcp-udp-access-layer.html" class="sidebar-link">TCP/UDP接入</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>数据处理与存储</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/iot/data-processing.html" class="sidebar-link">数据处理层</a></li><li><a href="/JavaPlusDoc/iot/data-reception.html" class="sidebar-link">数据接收</a></li><li><a href="/JavaPlusDoc/iot/redis.html" class="sidebar-link">Redis缓存</a></li><li><a href="/JavaPlusDoc/iot/kafka.html" class="sidebar-link">Kafka消息队列</a></li><li><a href="/JavaPlusDoc/iot/cassandra.html" class="sidebar-link">Cassandra存储</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>实战项目</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/iot/practice-projects.html" class="sidebar-link">实践项目案例</a></li><li><a href="/JavaPlusDoc/iot/geofence.html" class="sidebar-link">电子围栏功能设计</a></li><li><a href="/JavaPlusDoc/iot/charging-station-gateway.html" class="sidebar-link">充电桩设备网关</a></li><li><a href="/JavaPlusDoc/iot/netty-gateway-design.html" class="sidebar-link">百万台设备Netty网关架构</a></li><li><a href="/JavaPlusDoc/iot/netty-gateway-design-mi.html" class="sidebar-link">小米实战过亿设备Netty网关架构</a></li><li><a href="/JavaPlusDoc/iot/netty-gateway-bat.html" class="sidebar-link">哈喽电池设备Netty网关架构</a></li><li><a href="/JavaPlusDoc/iot/user-organization-permissions.html" class="sidebar-link">用户组织权限</a></li><li><a href="/JavaPlusDoc/iot/database-storage.html" class="sidebar-link">架构懂了就来了解数据库存储扩展千亿读写</a></li><li><a href="/JavaPlusDoc/iot/mermaid-test.html" class="sidebar-link">Mermaid图表测试</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>GO语言技术</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/go/" class="sidebar-link">GO技术手册导航</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>基础语法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/go/basic-grammar/basic-syntax.html" class="sidebar-link">GO语言基础语法</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>高级特性</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/go/advanced/concurrency.html" class="sidebar-link">并发编程</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>标准库</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/go/stdlib/http.html" class="sidebar-link">HTTP编程</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>最佳实践</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/go/best-practices/testing.html" class="sidebar-link">测试最佳实践</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>实战项目</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/go/projects/web-service.html" class="sidebar-link">Web服务开发实战</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>分布式架构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>缓存系统</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/high-concurrency/why-cache.html" class="sidebar-link">缓存使用场景</a></li><li><a href="/JavaPlusDoc/high-concurrency/redis-single-thread-model.html" class="sidebar-link">Redis vs Memcached</a></li><li><a href="/JavaPlusDoc/high-concurrency/redis-data-types.html" class="sidebar-link">Redis数据类型</a></li><li><a href="/JavaPlusDoc/high-concurrency/redis-expiration-policies-and-lru.html" class="sidebar-link">Redis过期策略</a></li><li><a href="/JavaPlusDoc/high-concurrency/how-to-ensure-high-concurrency-and-high-availability-of-redis.html" class="sidebar-link">Redis高并发与高可用</a></li><li><a href="/JavaPlusDoc/high-concurrency/redis-master-slave.html" class="sidebar-link">Redis主从架构</a></li><li><a href="/JavaPlusDoc/high-concurrency/redis-persistence.html" class="sidebar-link">Redis持久化</a></li><li><a href="/JavaPlusDoc/high-concurrency/redis-sentinel.html" class="sidebar-link">Redis哨兵集群</a></li><li><a href="/JavaPlusDoc/jobPro/redis.html" class="sidebar-link">Redis应用场景</a></li><li><a href="/JavaPlusDoc/redis/redis-key-expiration.html" class="sidebar-link">Redis key过期问题解决方案</a></li><li><a href="/JavaPlusDoc/java-up/redis-springboot.html" class="sidebar-link">SpringBoot整合Redis</a></li><li><a href="/JavaPlusDoc/redis/xuebeng-chuantou-jichuan.html" class="sidebar-link">缓存雪崩、穿透、击穿</a></li><li><a href="/JavaPlusDoc/redis/redis-lua.html" class="sidebar-link">深入分析Redis Lua脚本运行原理</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>消息队列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/messagequeue/why-mq.html" class="sidebar-link">为什么使用消息队列</a></li><li><a href="/JavaPlusDoc/messagequeue/how-to-ensure-high-availability-of-message-queues.html" class="sidebar-link">消息队列高可用</a></li><li><a href="/JavaPlusDoc/messagequeue/how-to-ensure-that-messages-are-not-repeatedly-consumed.html" class="sidebar-link">消息不重复消费</a></li><li><a href="/JavaPlusDoc/messagequeue/how-to-ensure-the-reliable-transmission-of-messages.html" class="sidebar-link">消息可靠传输</a></li><li><a href="/JavaPlusDoc/messagequeue/how-to-ensure-the-order-of-messages.html" class="sidebar-link">消息顺序性</a></li><li><a href="/JavaPlusDoc/messagequeue/mq-time-delay-and-expired-failure.html" class="sidebar-link">消息队列延时问题</a></li><li><a href="/JavaPlusDoc/messagequeue/mq-design.html" class="sidebar-link">消息队列设计</a></li><li><a href="/JavaPlusDoc/java-up/rabbitmq.html" class="sidebar-link">RabbitMQ入门</a></li><li><a href="/JavaPlusDoc/power/kafka.html" class="sidebar-link">Kafka基础</a></li><li><a href="/JavaPlusDoc/power/kafkas.html" class="sidebar-link">Kafka集群</a></li><li><a href="/JavaPlusDoc/power/comsumer.html" class="sidebar-link">Kafka消费者</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>搜索引擎</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/searchEngine/es-architecture.html" class="sidebar-link">ES分布式架构原理</a></li><li><a href="/JavaPlusDoc/searchEngine/es-write-query-search.html" class="sidebar-link">ES写入数据原理</a></li><li><a href="/JavaPlusDoc/searchEngine/es-optimizing-query-performance.html" class="sidebar-link">ES查询效率优化</a></li><li><a href="/JavaPlusDoc/searchEngine/es-production-cluster.html" class="sidebar-link">ES生产集群部署</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>微服务架构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/worker/3.html" class="sidebar-link">微服务优雅上下线</a></li><li><a href="/JavaPlusDoc/worker/1.html" class="sidebar-link">滚动部署</a></li><li><a href="/JavaPlusDoc/worker/2.html" class="sidebar-link">Nacos优雅停机</a></li><li><a href="/JavaPlusDoc/dubbo/dubbo.html" class="sidebar-link">Dubbo基础</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>数据库技术</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/mysql/mysql.html" class="sidebar-link">SQL执行过程</a></li><li><a href="/JavaPlusDoc/mysql/shiwu-shixia.html" class="sidebar-link">MySQL事务实现</a></li><li><a href="/JavaPlusDoc/mysql/lijie-shiwu.html" class="sidebar-link">深入理解MySQL事务</a></li><li><a href="/JavaPlusDoc/mysql/mysql-locks.html" class="sidebar-link">MySQL锁机制详解</a></li><li><a href="/JavaPlusDoc/mysql/redis-shuju-yizhixing.html" class="sidebar-link">MySQL和Redis数据一致性</a></li><li><a href="/JavaPlusDoc/jobPro/InnoDB.html" class="sidebar-link">MyISAM vs InnoDB</a></li><li><a href="/JavaPlusDoc/java-up/mongodb.html" class="sidebar-link">MongoDB基础</a></li><li><a href="/JavaPlusDoc/java-up/mongodb-backup-restore.html" class="sidebar-link">MongoDB备份与恢复</a></li><li><a href="/JavaPlusDoc/MyBatis-Plus/getting-started.html" class="sidebar-link">MyBatis-Plus入门</a></li><li><a href="/JavaPlusDoc/MyBatis-Plus/service-interface.html" class="sidebar-link">MyBatis-Plus接口</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>运维与部署</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>Docker容器技术</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/docker/docker-tutorial.html" class="sidebar-link">Docker教程</a></li><li><a href="/JavaPlusDoc/docker/docker架构.html" class="sidebar-link">docker架构</a></li><li><a href="/JavaPlusDoc/docker/docker-install.html" class="sidebar-link">Docker安装指南</a></li><li><a href="/JavaPlusDoc/docker/docker-mirror.html" class="sidebar-link">Docker配置国内源</a></li><li><a href="/JavaPlusDoc/docker/docker-images.html" class="sidebar-link">Docker镜像管理</a></li><li><a href="/JavaPlusDoc/docker/docker-containers.html" class="sidebar-link">Docker容器管理</a></li><li><a href="/JavaPlusDoc/docker/docker-network.html" class="sidebar-link">Docker网络配置</a></li><li><a href="/JavaPlusDoc/docker/docker-volumes.html" class="sidebar-link">Docker数据卷管理</a></li><li><a href="/JavaPlusDoc/docker/docker-dockerfile.html" class="sidebar-link">Dockerfile最佳实践</a></li><li><a href="/JavaPlusDoc/docker/docker-compose.html" class="sidebar-link">Docker Compose详解</a></li><li><a href="/JavaPlusDoc/docker/docker-swarm.html" class="sidebar-link">Docker Swarm集群</a></li><li><a href="/JavaPlusDoc/docker/docker-security.html" class="sidebar-link">Docker安全最佳实践</a></li><li><a href="/JavaPlusDoc/docker/docker-production.html" class="sidebar-link">Docker生产环境部署</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>基础设施</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/aJava/设备网关后端设计.html" class="sidebar-link">设备网关后端设计</a></li><li><a href="/JavaPlusDoc/aJava/Redis底层数据结构原理.html" class="sidebar-link">Redis底层数据结构原理</a></li><li><a href="/JavaPlusDoc/aJava/HashMap底层原理.html" class="sidebar-link">HashMap底层原理</a></li><li><a href="/JavaPlusDoc/aJava/MySQL的InnoDB原理.html" class="sidebar-link">MySQL的InnoDB原理</a></li><li><a href="/JavaPlusDoc/aJava/充电桩业务实现.html" class="sidebar-link">充电桩业务实现</a></li><li><a href="/JavaPlusDoc/aJava/充电宝业务实现.html" class="sidebar-link">充电宝业务实现</a></li><li><a href="/JavaPlusDoc/aJava/数据库分片技术实现.html" class="sidebar-link">数据库分片技术实现</a></li><li><a href="/JavaPlusDoc/aJava/Redis分片技术实现.html" class="sidebar-link">Redis分片技术实现</a></li><li><a href="/JavaPlusDoc/aJava/MongoDB分片技术实现.html" class="sidebar-link">MongoDB分片技术实现</a></li><li><a href="/JavaPlusDoc/aJava/Elasticsearch分片技术实现.html" class="sidebar-link">Elasticsearch分片技术实现</a></li><li><a href="/JavaPlusDoc/aJava/HBase分片技术实现.html" class="sidebar-link">HBase分片技术实现</a></li><li><a href="/JavaPlusDoc/aJava/ClickHouse分片技术实现.html" class="sidebar-link">ClickHouse分片技术实现</a></li><li><a href="/JavaPlusDoc/aJava/PostgreSQL分片技术实现.html" class="sidebar-link">PostgreSQL分片技术实现</a></li><li><a href="/JavaPlusDoc/aJava/Oracle分片技术实现.html" class="sidebar-link">Oracle分片技术实现</a></li><li><a href="/JavaPlusDoc/aJava/SQLServer分片技术实现.html" class="sidebar-link">SQLServer分片技术实现</a></li><li><a href="/JavaPlusDoc/aJava/云计算是什么.html" class="sidebar-link">云计算基础</a></li><li><a href="/JavaPlusDoc/aJava/mysql是什么.html" class="sidebar-link">mysql是什么</a></li><li><a href="/JavaPlusDoc/aJava/mogodb是什么.html" class="sidebar-link">mogodb是什么</a></li><li><a href="/JavaPlusDoc/aJava/安全组是什么.html" class="sidebar-link">安全组是什么</a></li><li><a href="/JavaPlusDoc/aJava/子网掩码是什么.html" class="sidebar-link">子网掩码是什么</a></li><li><a href="/JavaPlusDoc/aJava/路由器是什么.html" class="sidebar-link">路由器是什么</a></li><li><a href="/JavaPlusDoc/aJava/交换机是什么.html" class="sidebar-link">交换机是什么</a></li><li><a href="/JavaPlusDoc/aJava/CDN是什么.html" class="sidebar-link">CDN是什么</a></li><li><a href="/JavaPlusDoc/aJava/nginx是什么.html" class="sidebar-link">nginx是什么</a></li><li><a href="/JavaPlusDoc/aJava/tomcat是什么.html" class="sidebar-link">tomcat是什么</a></li><li><a href="/JavaPlusDoc/aJava/Eureka是什么.html" class="sidebar-link">Eureka是什么</a></li><li><a href="/JavaPlusDoc/aJava/nacos是什么.html" class="sidebar-link">nacos是什么</a></li><li><a href="/JavaPlusDoc/aJava/Zookeeper是什么.html" class="sidebar-link">Zookeeper是什么</a></li><li><a href="/JavaPlusDoc/aJava/ElasticSearch是什么.html" class="sidebar-link">ElasticSearch是什么</a></li><li><a href="/JavaPlusDoc/aJava/微服务是什么.html" class="sidebar-link">微服务基础</a></li><li><a href="/JavaPlusDoc/aJava/HDFS是什么.html" class="sidebar-link">HDFS基础</a></li><li><a href="/JavaPlusDoc/aJava/块存储是什么.html" class="sidebar-link">块存储</a></li><li><a href="/JavaPlusDoc/aJava/对象存储是什么.html" class="sidebar-link">对象存储</a></li><li><a href="/JavaPlusDoc/aJava/存储快照是什么.html" class="sidebar-link">存储快照</a></li><li><a href="/JavaPlusDoc/aJava/负载均衡是什么.html" class="sidebar-link">负载均衡</a></li><li><a href="/JavaPlusDoc/aJava/什么是灰度发布.html" class="sidebar-link">灰度发布</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>DevOps工具链</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/aJava/Jenkins是什么.html" class="sidebar-link">Jenkins基础</a></li><li><a href="/JavaPlusDoc/aJava/Ansible是什么.html" class="sidebar-link">Ansible基础</a></li><li><a href="/JavaPlusDoc/aJava/DevOps是什么.html" class="sidebar-link">DevOps概念</a></li><li><a href="/JavaPlusDoc/aJava/WAF和DDOS的区别是什么.html" class="sidebar-link">WAF和DDOS防护</a></li><li><a href="/JavaPlusDoc/linux/linux.html" class="sidebar-link">Linux常用命令</a></li><li><a href="/JavaPlusDoc/linux/nginx-env.html" class="sidebar-link">Nginx环境配置</a></li><li><a href="/JavaPlusDoc/linux/kibana-install.html" class="sidebar-link">Kibana安装与使用</a></li><li><a href="/JavaPlusDoc/java-up/nginx.html" class="sidebar-link">Nginx入门</a></li><li><a href="/JavaPlusDoc/java-up/ssl.html" class="sidebar-link">Nginx SSL配置</a></li><li><a href="/JavaPlusDoc/worker/nginx-optimization.html" class="sidebar-link">Nginx优化与防盗链</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>部署与监控</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/worker/elk.html" class="sidebar-link">ELK日志系统</a></li><li><a href="/JavaPlusDoc/worker/elfk-cluster.html" class="sidebar-link">ELFK生产集群搭建</a></li><li><a href="/JavaPlusDoc/worker/jenkins.html" class="sidebar-link">Jenkins部署SpringBoot</a></li><li><a href="/JavaPlusDoc/worker/rocketmq.html" class="sidebar-link">RocketMQ安装</a></li><li><a href="/JavaPlusDoc/worker/grafana.html" class="sidebar-link">Grafana监控</a></li><li><a href="/JavaPlusDoc/worker/prometheus.html" class="sidebar-link">Prometheus单机部署</a></li><li><a href="/JavaPlusDoc/worker/grafana-database-monitoring.html" class="sidebar-link">Grafana监控MySQL、Redis和MongoDB</a></li><li><a href="/JavaPlusDoc/worker/k8s-monitoring.html" class="sidebar-link">K8s监控</a></li><li><a href="/JavaPlusDoc/worker/cpu-troubleshooting.html" class="sidebar-link">CPU使用率100%异常排查</a></li><li><a href="/JavaPlusDoc/worker/springboot.html" class="sidebar-link">SpringBoot启动脚本</a></li><li><a href="/JavaPlusDoc/worker/skywalking.html" class="sidebar-link">SkyWalking监控</a></li><li><a href="/JavaPlusDoc/worker/7.html" class="sidebar-link">前端自动化部署</a></li><li><a href="/JavaPlusDoc/sre/sre.html" class="sidebar-link">SRE实践</a></li><li><a href="/JavaPlusDoc/sre/monitor.html" class="sidebar-link">分布式监控</a></li><li><a href="/JavaPlusDoc/sre/serviceQuality.html" class="sidebar-link">服务质量目标</a></li><li><a href="/JavaPlusDoc/sre/errorBudget.html" class="sidebar-link">错误预算</a></li><li><a href="/JavaPlusDoc/sre/system.html" class="sidebar-link">系统性能指标</a></li><li><a href="/JavaPlusDoc/sre/server-mining-virus-removal.html" class="sidebar-link">服务器挖矿病毒清除</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>ElasticSearch</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/es/es-architecture.html" class="sidebar-link">ElasticSearch架构</a></li><li><a href="/JavaPlusDoc/es/es-optimizing-query-performance.html" class="sidebar-link">查询性能优化</a></li><li><a href="/JavaPlusDoc/es/es-cluster-setup.html" class="sidebar-link">Linux搭建ES集群与Kibana</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>产品系列</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/products/" class="sidebar-link">产品概述</a></li><li><a href="/JavaPlusDoc/products/product-gallery.html" class="sidebar-link">【溜溜梅】官方商城小程序</a></li><li><a href="/JavaPlusDoc/products/productChange.html" class="sidebar-link">小区充电桩小程序</a></li><li><a href="/JavaPlusDoc/products/photoImage.html" class="sidebar-link">话圈小程序</a></li><li><a href="/JavaPlusDoc/products/changeChange.html" class="sidebar-link">速绿充电小程序体验设计</a></li><li><a href="/JavaPlusDoc/products/changeChange2.html" class="sidebar-link">恒想充充电桩小程序改版设计</a></li><li><a href="/JavaPlusDoc/products/productShare.html" class="sidebar-link">分销小程序</a></li><li><a href="/JavaPlusDoc/products/product-car.html" class="sidebar-link">电动车充电桩小程序</a></li><li><a href="/JavaPlusDoc/products/无人岛商业计划书.html" class="sidebar-link">无人岛商业计划书</a></li><li><a href="/JavaPlusDoc/products/蜗牛睡眠高嵩.html" class="sidebar-link">蜗牛睡眠高嵩</a></li><li><a href="/JavaPlusDoc/products/优质行业报告网站.html" class="sidebar-link">优质行业报告网站</a></li><li><a href="/JavaPlusDoc/products/篮球场如何赚钱.html" class="sidebar-link">篮球场如何赚钱</a></li><li><a href="/JavaPlusDoc/products/enterprise-platform.html" class="sidebar-link">企业级应用平台</a></li><li><a href="/JavaPlusDoc/products/microservice-framework.html" class="sidebar-link">微服务框架</a></li><li><a href="/JavaPlusDoc/products/data-analytics-suite.html" class="sidebar-link">数据分析套件</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>实战案例</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>Web应用开发</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/jobPro/login.html" class="sidebar-link">用户注册登录系统</a></li><li><a href="/JavaPlusDoc/jobPro/lan.html" class="sidebar-link">多语言国际化</a></li><li><a href="/JavaPlusDoc/jobPro/jobPro.html" class="sidebar-link">PC网站微信扫码登录</a></li><li><a href="/JavaPlusDoc/jobPro/wechat-miniprogram-guide.html" class="sidebar-link">微信小程序开发完全指南</a></li><li><a href="/JavaPlusDoc/jobPro/wechat-customer-service.html" class="sidebar-link">微信小程序API客服消息</a></li><li><a href="/JavaPlusDoc/jobPro/wechat-open-api.html" class="sidebar-link">微信小程序开放接口</a></li><li><a href="/JavaPlusDoc/jobPro/wechat-operation-center.html" class="sidebar-link">微信小程序运维中心</a></li><li><a href="/JavaPlusDoc/jobPro/appMsg.html" class="sidebar-link">微信小程序消息推送</a></li><li><a href="/JavaPlusDoc/jobPro/miniprogram.html" class="sidebar-link">微信小程序自动化部署</a></li><li><a href="/JavaPlusDoc/jobPro/appPay.html" class="sidebar-link">微信小程序支付功能</a></li><li><a href="/JavaPlusDoc/jobPro/uniapp.html" class="sidebar-link">iOS/Android打包发布</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>GO语言应用</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/go/projects/web-service.html" class="sidebar-link">GO Web服务开发实战</a></li><li><a href="/JavaPlusDoc/go/advanced/concurrency.html" class="sidebar-link">GO并发编程实践</a></li><li><a href="/JavaPlusDoc/go/stdlib/http.html" class="sidebar-link">GO HTTP编程指南</a></li><li><a href="/JavaPlusDoc/go/best-practices/testing.html" class="sidebar-link">GO测试最佳实践</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>技术架构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/tech/high-availability-group-buying.html" class="sidebar-link">500万日订单下的高可用拼购系统</a></li><li><a href="/JavaPlusDoc/tech/twenty-million-orders-architecture.html" class="sidebar-link">2000万日订单背后的技术架构</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>企业级应用</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/java-up/aop-log.html" class="sidebar-link">SpringAOP实践</a></li><li><a href="/JavaPlusDoc/java-up/ioc.html" class="sidebar-link">SpringIoC实践</a></li><li><a href="/JavaPlusDoc/java-up/transaction.html" class="sidebar-link">事务支持</a></li><li><a href="/JavaPlusDoc/java-up/Filter-Interceptor-Listener.html" class="sidebar-link">过滤器与拦截器</a></li><li><a href="/JavaPlusDoc/java-up/quartz.html" class="sidebar-link">SpringBoot整合Quartz</a></li><li><a href="/JavaPlusDoc/java-up/mybatis.html" class="sidebar-link">SpringBoot整合MyBatis</a></li><li><a href="/JavaPlusDoc/java-up/validator.html" class="sidebar-link">数据校验</a></li><li><a href="/JavaPlusDoc/worker/6.html" class="sidebar-link">API数据加密</a></li><li><a href="/JavaPlusDoc/data/data.html" class="sidebar-link">大数据开发实践</a></li><li><a href="/JavaPlusDoc/order/order-BizOrderService.html" class="sidebar-link">订单流程设计</a></li><li><a href="/JavaPlusDoc/linuxPrometheus/linux.html" class="sidebar-link">数据导入导出优化</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>物联网应用</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/iot/iot.html" class="sidebar-link">物联网基础</a></li><li><a href="/JavaPlusDoc/iot/kafka.html" class="sidebar-link">物联网Kafka应用</a></li><li><a href="/JavaPlusDoc/iot/redis.html" class="sidebar-link">物联网Redis应用</a></li><li><a href="/JavaPlusDoc/iot/cassandra.html" class="sidebar-link">物联网Cassandra应用</a></li><li><a href="/JavaPlusDoc/iot/server.html" class="sidebar-link">物联网设备管理</a></li><li><a href="/JavaPlusDoc/iot/byteArray.html" class="sidebar-link">字节数组处理</a></li><li><a href="/JavaPlusDoc/iot/iotJob.html" class="sidebar-link">物联网业务流程</a></li><li><a href="/JavaPlusDoc/iot/protocol-adapter-layer.html" class="sidebar-link">协议适配层</a></li><li><a href="/JavaPlusDoc/iot/device-management-layer.html" class="sidebar-link">设备管理层</a></li><li><a href="/JavaPlusDoc/iot/application-service-layer.html" class="sidebar-link">应用服务层</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Java线程</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/thread/java-multithreading-basics.html" class="sidebar-link">Java多线程基础</a></li><li><a href="/JavaPlusDoc/thread/java-thread-synchronization.html" class="sidebar-link">Java线程同步机制</a></li><li><a href="/JavaPlusDoc/thread/java-concurrent-utilities.html" class="sidebar-link">Java并发工具类</a></li><li><a href="/JavaPlusDoc/thread/java-threadpool-advanced.html" class="sidebar-link">Java线程池深入解析</a></li><li><a href="/JavaPlusDoc/thread/java-memory-model.html" class="sidebar-link">Java内存模型与并发编程</a></li><li><a href="/JavaPlusDoc/thread/java-concurrency-best-practices.html" class="sidebar-link">Java并发编程最佳实践</a></li><li><a href="/JavaPlusDoc/thread/thread-state-and-method.html" class="sidebar-link">线程状态与方法</a></li><li><a href="/JavaPlusDoc/thread/callable-future-futuretask.html" class="sidebar-link">Callable、Future、FutureTask</a></li><li><a href="/JavaPlusDoc/thread/threadpool-executor.html" class="sidebar-link">ThreadPoolExecutor详解</a></li><li><a href="/JavaPlusDoc/aThread/linux.html" class="sidebar-link">linux线程基础</a></li><li><a href="/JavaPlusDoc/aThread/jvm.html" class="sidebar-link">jvm基础知识</a></li><li><a href="/JavaPlusDoc/aThread/jvmThread.html" class="sidebar-link">jvm线程</a></li><li><a href="/JavaPlusDoc/aThread/jvmThreadEvent.html" class="sidebar-link">jvm线程通信原理</a></li><li><a href="/JavaPlusDoc/aThread/jvmThreadSync.html" class="sidebar-link">jvm线程同步机制</a></li><li><a href="/JavaPlusDoc/aThread/jvmLock.html" class="sidebar-link">java锁实现原理</a></li><li><a href="/JavaPlusDoc/aThread/jvmAtomic.html" class="sidebar-link">java原子操作类实现原理</a></li><li><a href="/JavaPlusDoc/aThread/jvmConcurrent.html" class="sidebar-link">java并发容器实现原理</a></li><li><a href="/JavaPlusDoc/aThread/javaThreadPool.html" class="sidebar-link">java线程池实现原理</a></li><li><a href="/JavaPlusDoc/aThread/javaThreadPoolUse.html" class="sidebar-link">java线程池使用</a></li><li><a href="/JavaPlusDoc/aThread/javaThreadSkill.html" class="sidebar-link">java多线程编程技巧</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>电商业务交易系统</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/ecommerce/product-management.html" class="sidebar-link">商品管理系统</a></li><li><a href="/JavaPlusDoc/ecommerce/order-management.html" class="sidebar-link">订单管理系统</a></li><li><a href="/JavaPlusDoc/ecommerce/payment-system.html" class="sidebar-link">支付系统设计</a></li><li><a href="/JavaPlusDoc/ecommerce/shopping-cart.html" class="sidebar-link">购物车系统</a></li><li><a href="/JavaPlusDoc/ecommerce/inventory-management.html" class="sidebar-link">库存管理系统</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>跨境电商系统架构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/ecommerce/cross-border/" class="sidebar-link">系统架构概述</a></li><li><a href="/JavaPlusDoc/ecommerce/cross-border/product-catalog-service.html" class="sidebar-link">商品管理系统</a></li><li><a href="/JavaPlusDoc/ecommerce/cross-border/pricing-engine.html" class="sidebar-link">价格计算引擎</a></li><li><a href="/JavaPlusDoc/ecommerce/cross-border/order-processing-system.html" class="sidebar-link">订单处理系统</a></li><li><a href="/JavaPlusDoc/ecommerce/cross-border/payment-gateway-system.html" class="sidebar-link">支付网关系统</a></li><li><a href="/JavaPlusDoc/ecommerce/cross-border/logistics-delivery-system.html" class="sidebar-link">物流配送系统</a></li><li><a href="/JavaPlusDoc/ecommerce/cross-border/after-sales-service.html" class="sidebar-link">售后服务系统</a></li><li><a href="/JavaPlusDoc/ecommerce/cross-border/user-management-system.html" class="sidebar-link">用户管理与权限系统</a></li><li><a href="/JavaPlusDoc/ecommerce/cross-border/search-recommendation-engine.html" class="sidebar-link">搜索推荐引擎</a></li><li><a href="/JavaPlusDoc/ecommerce/cross-border/shopping-cart-system.html" class="sidebar-link">购物车系统</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>营销系统</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/marketing/coupon-system.html" class="sidebar-link">优惠券系统</a></li><li><a href="/JavaPlusDoc/marketing/flash-sale-system.html" class="sidebar-link">秒杀系统</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>物联网设备接入系统</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/iot/device-access.html" class="sidebar-link">设备接入系统</a></li><li><a href="/JavaPlusDoc/iot/device-management.html" class="sidebar-link">设备管理服务</a></li><li><a href="/JavaPlusDoc/iot/device-authentication.html" class="sidebar-link">设备认证服务</a></li><li><a href="/JavaPlusDoc/iot/data-reception.html" class="sidebar-link">数据接收服务</a></li><li><a href="/JavaPlusDoc/iot/device-control.html" class="sidebar-link">设备控制服务</a></li><li><a href="/JavaPlusDoc/iot/protocol-adapter.html" class="sidebar-link">协议适配器</a></li><li><a href="/JavaPlusDoc/iot/mqtt-access-layer.html" class="sidebar-link">MQTT设备接入层</a></li><li><a href="/JavaPlusDoc/iot/coap-access-layer.html" class="sidebar-link">CoAP设备接入层</a></li><li><a href="/JavaPlusDoc/iot/http-access-layer.html" class="sidebar-link">HTTP设备接入层</a></li><li><a href="/JavaPlusDoc/iot/tcp-udp-access-layer.html" class="sidebar-link">TCP/UDP设备接入层</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>计算机基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaPlusDoc/cs/os.html" class="sidebar-link">操作系统</a></li><li><a href="/JavaPlusDoc/cs/wangluo.html" class="sidebar-link">计算机网络</a></li><li><a href="/JavaPlusDoc/cs/tcp-ip.html" class="sidebar-link">TCP/IP协议详解</a></li><li><a href="/JavaPlusDoc/aJava/cookie-session-token.html" class="sidebar-link">Cookie/Session/Token</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>第15天-常用内建模块</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2025
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">第15天-常用内建模块</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>哪吒</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2023/6/15</span></i> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="第15天-常用内建模块"><a href="#第15天-常用内建模块" class="header-anchor">#</a> 第15天-常用内建模块</h1> <h2 id="学习目标"><a href="#学习目标" class="header-anchor">#</a> 学习目标</h2> <p>通过本章学习，你将掌握：</p> <ul><li>理解Python内建模块的概念和作用</li> <li>掌握常用内建模块的使用方法</li> <li>学会使用os、sys、datetime、json等核心模块</li> <li>掌握collections、itertools、functools等高级模块</li> <li>学会使用random、math、statistics等数学模块</li> <li>理解模块的导入机制和最佳实践</li> <li>学会在实际项目中合理选择和使用内建模块</li></ul> <hr> <h2 id="一、内建模块概述"><a href="#一、内建模块概述" class="header-anchor">#</a> 一、内建模块概述</h2> <h3 id="_1-1-什么是内建模块"><a href="#_1-1-什么是内建模块" class="header-anchor">#</a> 1.1 什么是内建模块</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> os

<span class="token keyword">def</span> <span class="token function">builtin_modules_introduction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;内建模块介绍&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== Python内建模块介绍 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;
    内建模块（Built-in Modules）是Python标准库的一部分，
    随Python解释器一起安装，无需额外安装即可使用。
    
    主要特点：
    • 官方维护，稳定可靠
    • 性能优化，通常用C语言实现
    • 功能丰富，覆盖各种常见需求
    • 跨平台兼容
    • 文档完善
    
    常用分类：
    • 系统交互：os, sys, platform
    • 时间处理：datetime, time, calendar
    • 数据处理：json, csv, pickle
    • 数学计算：math, statistics, random
    • 集合工具：collections, itertools
    • 函数工具：functools, operator
    • 文件处理：pathlib, glob, shutil
    • 网络通信：urllib, http, socket
    • 并发编程：threading, multiprocessing, asyncio
    &quot;&quot;&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 查看已加载的模块</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n当前已加载的模块数量:&quot;</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>modules<span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 查看内建模块列表（部分）</span>
    builtin_module_names <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string">'os'</span><span class="token punctuation">,</span> <span class="token string">'sys'</span><span class="token punctuation">,</span> <span class="token string">'datetime'</span><span class="token punctuation">,</span> <span class="token string">'json'</span><span class="token punctuation">,</span> <span class="token string">'math'</span><span class="token punctuation">,</span> <span class="token string">'random'</span><span class="token punctuation">,</span>
        <span class="token string">'collections'</span><span class="token punctuation">,</span> <span class="token string">'itertools'</span><span class="token punctuation">,</span> <span class="token string">'functools'</span><span class="token punctuation">,</span> <span class="token string">'pathlib'</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n常用内建模块:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> module_name <span class="token keyword">in</span> builtin_module_names<span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            module <span class="token operator">=</span> <span class="token builtin">__import__</span><span class="token punctuation">(</span>module_name<span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>module_name<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>module<span class="token punctuation">.</span>__doc__<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">if</span> module<span class="token punctuation">.</span>__doc__ <span class="token keyword">else</span> <span class="token string">'系统模块'</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> ImportError<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>module_name<span class="token punctuation">}</span></span><span class="token string">: 模块未找到&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 模块导入方式</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n模块导入方式:&quot;</span><span class="token punctuation">)</span>
    import_examples <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;import os                    # 导入整个模块&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;import os.path               # 导入子模块&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;from os import getcwd        # 导入特定函数&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;from os import *             # 导入所有（不推荐）&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;import os as operating_sys   # 使用别名&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;from os import getcwd as pwd # 函数别名&quot;</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> example <span class="token keyword">in</span> import_examples<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>example<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

<span class="token comment"># 运行介绍</span>
builtin_modules_introduction<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_1-2-模块导入机制"><a href="#_1-2-模块导入机制" class="header-anchor">#</a> 1.2 模块导入机制</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> importlib
<span class="token keyword">from</span> types <span class="token keyword">import</span> ModuleType

<span class="token keyword">def</span> <span class="token function">module_import_mechanism</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;模块导入机制详解&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== 模块导入机制详解 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 1. 模块搜索路径</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. 模块搜索路径:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Python按以下顺序搜索模块:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> path <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>path<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">. </span><span class="token interpolation"><span class="token punctuation">{</span>path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 2. 导入过程</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. 模块导入过程:&quot;</span><span class="token punctuation">)</span>
    import_process <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;1. 检查sys.modules缓存&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;2. 在sys.path中搜索模块文件&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;3. 编译模块代码（如果需要）&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;4. 执行模块代码&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;5. 将模块对象添加到sys.modules&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;6. 将模块绑定到当前命名空间&quot;</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> step <span class="token keyword">in</span> import_process<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>step<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 3. 动态导入</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. 动态导入示例:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 使用importlib动态导入</span>
    module_name <span class="token operator">=</span> <span class="token string">'math'</span>
    math_module <span class="token operator">=</span> importlib<span class="token punctuation">.</span>import_module<span class="token punctuation">(</span>module_name<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;动态导入</span><span class="token interpolation"><span class="token punctuation">{</span>module_name<span class="token punctuation">}</span></span><span class="token string">模块: </span><span class="token interpolation"><span class="token punctuation">{</span>math_module<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;计算π的值: </span><span class="token interpolation"><span class="token punctuation">{</span>math_module<span class="token punctuation">.</span>pi<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 使用__import__</span>
    os_module <span class="token operator">=</span> <span class="token builtin">__import__</span><span class="token punctuation">(</span><span class="token string">'os'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;使用__import__导入os: </span><span class="token interpolation"><span class="token punctuation">{</span>os_module<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 4. 模块重新加载</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. 模块重新加载:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;注意：模块只会被导入一次，后续import会使用缓存&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 检查模块是否已加载</span>
    <span class="token keyword">if</span> <span class="token string">'json'</span> <span class="token keyword">in</span> sys<span class="token punctuation">.</span>modules<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;json模块已在缓存中&quot;</span><span class="token punctuation">)</span>
        <span class="token comment"># 重新加载模块</span>
        json_module <span class="token operator">=</span> importlib<span class="token punctuation">.</span><span class="token builtin">reload</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>modules<span class="token punctuation">[</span><span class="token string">'json'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;json模块已重新加载&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 5. 模块属性检查</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. 模块属性检查:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">import</span> json
    
    module_info <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'模块名称'</span><span class="token punctuation">:</span> json<span class="token punctuation">.</span>__name__<span class="token punctuation">,</span>
        <span class="token string">'模块文件'</span><span class="token punctuation">:</span> <span class="token builtin">getattr</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span> <span class="token string">'__file__'</span><span class="token punctuation">,</span> <span class="token string">'内建模块'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'模块文档'</span><span class="token punctuation">:</span> json<span class="token punctuation">.</span>__doc__<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">50</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'...'</span> <span class="token keyword">if</span> json<span class="token punctuation">.</span>__doc__ <span class="token keyword">else</span> <span class="token string">'None'</span><span class="token punctuation">,</span>
        <span class="token string">'模块版本'</span><span class="token punctuation">:</span> <span class="token builtin">getattr</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span> <span class="token string">'__version__'</span><span class="token punctuation">,</span> <span class="token string">'未知'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> module_info<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 6. 查看模块内容</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n6. json模块的主要函数:&quot;</span><span class="token punctuation">)</span>
    json_functions <span class="token operator">=</span> <span class="token punctuation">[</span>name <span class="token keyword">for</span> name <span class="token keyword">in</span> <span class="token builtin">dir</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token keyword">not</span> name<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  公共函数/属性: </span><span class="token interpolation"><span class="token punctuation">{</span>json_functions<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

<span class="token comment"># 运行导入机制演示</span>
module_import_mechanism<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="二、系统交互模块"><a href="#二、系统交互模块" class="header-anchor">#</a> 二、系统交互模块</h2> <h3 id="_2-1-os模块-操作系统接口"><a href="#_2-1-os模块-操作系统接口" class="header-anchor">#</a> 2.1 os模块 - 操作系统接口</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> os
<span class="token keyword">import</span> platform
<span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path

<span class="token keyword">def</span> <span class="token function">os_module_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;os模块演示&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== os模块演示 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 1. 系统信息</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. 系统信息:&quot;</span><span class="token punctuation">)</span>
    system_info <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'操作系统'</span><span class="token punctuation">:</span> os<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
        <span class="token string">'平台'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'架构'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>architecture<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">'处理器'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>processor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'主机名'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>node<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'Python版本'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>python_version<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> system_info<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 2. 路径操作</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. 路径操作:&quot;</span><span class="token punctuation">)</span>
    current_dir <span class="token operator">=</span> os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  当前工作目录: </span><span class="token interpolation"><span class="token punctuation">{</span>current_dir<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 路径拼接</span>
    file_path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>current_dir<span class="token punctuation">,</span> <span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'example.txt'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  拼接路径: </span><span class="token interpolation"><span class="token punctuation">{</span>file_path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 路径分解</span>
    dir_name <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>dirname<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span>
    base_name <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>basename<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span>
    name<span class="token punctuation">,</span> ext <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>splitext<span class="token punctuation">(</span>base_name<span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  目录名: </span><span class="token interpolation"><span class="token punctuation">{</span>dir_name<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  文件名: </span><span class="token interpolation"><span class="token punctuation">{</span>base_name<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  文件名(无扩展名): </span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  扩展名: </span><span class="token interpolation"><span class="token punctuation">{</span>ext<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 路径判断</span>
    path_checks <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'是否存在'</span><span class="token punctuation">:</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>current_dir<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'是否为文件'</span><span class="token punctuation">:</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isfile<span class="token punctuation">(</span>current_dir<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'是否为目录'</span><span class="token punctuation">:</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isdir<span class="token punctuation">(</span>current_dir<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'是否为绝对路径'</span><span class="token punctuation">:</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>isabs<span class="token punctuation">(</span>current_dir<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  路径检查 (</span><span class="token interpolation"><span class="token punctuation">{</span>current_dir<span class="token punctuation">}</span></span><span class="token string">):&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> check<span class="token punctuation">,</span> result <span class="token keyword">in</span> path_checks<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>check<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 3. 目录操作</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. 目录操作:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 列出目录内容</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        files <span class="token operator">=</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  当前目录文件数量: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  前5个文件: </span><span class="token interpolation"><span class="token punctuation">{</span>files<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token format-spec">5]</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">except</span> PermissionError<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  无权限访问目录&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 递归遍历目录</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  递归遍历目录结构:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> root<span class="token punctuation">,</span> dirs<span class="token punctuation">,</span> files <span class="token keyword">in</span> os<span class="token punctuation">.</span>walk<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        level <span class="token operator">=</span> root<span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span>os<span class="token punctuation">.</span>sep<span class="token punctuation">)</span>
        indent <span class="token operator">=</span> <span class="token string">' '</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">*</span> level
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>indent<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>basename<span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">/&quot;</span></span><span class="token punctuation">)</span>
        subindent <span class="token operator">=</span> <span class="token string">' '</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span>level <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> <span class="token builtin">file</span> <span class="token keyword">in</span> files<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span>  <span class="token comment"># 只显示前3个文件</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>subindent<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">file</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>subindent<span class="token punctuation">}</span></span><span class="token string">... 还有</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">3</span><span class="token punctuation">}</span></span><span class="token string">个文件&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> level <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">:</span>  <span class="token comment"># 限制遍历深度</span>
            <span class="token keyword">break</span>
    
    <span class="token comment"># 4. 环境变量</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. 环境变量:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 获取环境变量</span>
    important_env_vars <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'PATH'</span><span class="token punctuation">,</span> <span class="token string">'HOME'</span><span class="token punctuation">,</span> <span class="token string">'USER'</span><span class="token punctuation">,</span> <span class="token string">'PYTHONPATH'</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> var <span class="token keyword">in</span> important_env_vars<span class="token punctuation">:</span>
        value <span class="token operator">=</span> os<span class="token punctuation">.</span>environ<span class="token punctuation">.</span>get<span class="token punctuation">(</span>var<span class="token punctuation">,</span> <span class="token string">'未设置'</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">50</span><span class="token punctuation">:</span>
            value <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">50</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'...'</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>var<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 设置环境变量</span>
    os<span class="token punctuation">.</span>environ<span class="token punctuation">[</span><span class="token string">'MY_APP_CONFIG'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'production'</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  设置自定义环境变量: </span><span class="token interpolation"><span class="token punctuation">{</span>os<span class="token punctuation">.</span>environ<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'MY_APP_CONFIG'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 5. 进程操作</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. 进程信息:&quot;</span><span class="token punctuation">)</span>
    process_info <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'进程ID'</span><span class="token punctuation">:</span> os<span class="token punctuation">.</span>getpid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'父进程ID'</span><span class="token punctuation">:</span> os<span class="token punctuation">.</span>getppid<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>os<span class="token punctuation">,</span> <span class="token string">'getppid'</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">'不支持'</span><span class="token punctuation">,</span>
        <span class="token string">'用户ID'</span><span class="token punctuation">:</span> os<span class="token punctuation">.</span>getuid<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>os<span class="token punctuation">,</span> <span class="token string">'getuid'</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">'不支持'</span><span class="token punctuation">,</span>
        <span class="token string">'组ID'</span><span class="token punctuation">:</span> os<span class="token punctuation">.</span>getgid<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>os<span class="token punctuation">,</span> <span class="token string">'getgid'</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">'不支持'</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> process_info<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

<span class="token comment"># 运行os模块演示</span>
os_module_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-2-sys模块-系统特定参数"><a href="#_2-2-sys模块-系统特定参数" class="header-anchor">#</a> 2.2 sys模块 - 系统特定参数</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> sys
<span class="token keyword">import</span> gc

<span class="token keyword">def</span> <span class="token function">sys_module_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;sys模块演示&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== sys模块演示 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 1. Python解释器信息</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. Python解释器信息:&quot;</span><span class="token punctuation">)</span>
    interpreter_info <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'Python版本'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>version<span class="token punctuation">,</span>
        <span class="token string">'版本信息'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>version_info<span class="token punctuation">,</span>
        <span class="token string">'平台'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>platform<span class="token punctuation">,</span>
        <span class="token string">'可执行文件路径'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>executable<span class="token punctuation">,</span>
        <span class="token string">'字节序'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>byteorder<span class="token punctuation">,</span>
        <span class="token string">'默认编码'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>getdefaultencoding<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'文件系统编码'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>getfilesystemencoding<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> interpreter_info<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token builtin">len</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">60</span><span class="token punctuation">:</span>
            value <span class="token operator">=</span> value<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">60</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'...'</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 2. 命令行参数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. 命令行参数:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  脚本名称: </span><span class="token interpolation"><span class="token punctuation">{</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">if</span> sys<span class="token punctuation">.</span>argv <span class="token keyword">else</span> <span class="token string">'None'</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  参数列表: </span><span class="token interpolation"><span class="token punctuation">{</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  参数数量: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 3. 模块路径</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. 模块搜索路径:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  路径数量: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> path <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>path<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">. </span><span class="token interpolation"><span class="token punctuation">{</span>path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>path<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  ... 还有</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>path<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">}</span></span><span class="token string">个路径&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 4. 内存和性能信息</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. 内存和性能信息:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 引用计数</span>
    test_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  test_list的引用计数: </span><span class="token interpolation"><span class="token punctuation">{</span>sys<span class="token punctuation">.</span>getrefcount<span class="token punctuation">(</span>test_list<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 对象大小</span>
    objects_size <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'整数1'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>getsizeof<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'字符串&quot;hello&quot;'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>getsizeof<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'列表[1,2,3]'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>getsizeof<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'字典{&quot;a&quot;:1}'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>getsizeof<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> obj<span class="token punctuation">,</span> size <span class="token keyword">in</span> objects_size<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>obj<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>size<span class="token punctuation">}</span></span><span class="token string"> 字节&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 递归限制</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  递归限制: </span><span class="token interpolation"><span class="token punctuation">{</span>sys<span class="token punctuation">.</span>getrecursionlimit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 5. 标准输入输出</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. 标准输入输出:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 标准流信息</span>
    streams <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'stdin'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">,</span>
        <span class="token string">'stdout'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>stdout<span class="token punctuation">,</span>
        <span class="token string">'stderr'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>stderr
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> name<span class="token punctuation">,</span> stream <span class="token keyword">in</span> streams<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">type</span><span class="token punctuation">(</span>stream<span class="token punctuation">)</span><span class="token punctuation">.</span>__name__<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>stream<span class="token punctuation">,</span> <span class="token string">'encoding'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    编码: </span><span class="token interpolation"><span class="token punctuation">{</span>stream<span class="token punctuation">.</span>encoding<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 重定向示例</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  输出重定向示例:&quot;</span><span class="token punctuation">)</span>
    original_stdout <span class="token operator">=</span> sys<span class="token punctuation">.</span>stdout
    
    <span class="token comment"># 创建字符串缓冲区</span>
    <span class="token keyword">from</span> io <span class="token keyword">import</span> StringIO
    string_buffer <span class="token operator">=</span> StringIO<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 重定向stdout</span>
    sys<span class="token punctuation">.</span>stdout <span class="token operator">=</span> string_buffer
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;这条消息被重定向到缓冲区&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;这是第二条消息&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 恢复stdout</span>
    sys<span class="token punctuation">.</span>stdout <span class="token operator">=</span> original_stdout
    
    <span class="token comment"># 获取重定向的内容</span>
    captured_output <span class="token operator">=</span> string_buffer<span class="token punctuation">.</span>getvalue<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  捕获的输出: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">repr</span><span class="token punctuation">(</span>captured_output<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 6. 程序退出</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n6. 程序退出控制:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 退出钩子</span>
    <span class="token keyword">def</span> <span class="token function">cleanup_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  执行清理操作...&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">import</span> atexit
    atexit<span class="token punctuation">.</span>register<span class="token punctuation">(</span>cleanup_function<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  已注册退出钩子函数&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 异常钩子</span>
    <span class="token keyword">def</span> <span class="token function">exception_handler</span><span class="token punctuation">(</span>exc_type<span class="token punctuation">,</span> exc_value<span class="token punctuation">,</span> exc_traceback<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  捕获未处理异常: </span><span class="token interpolation"><span class="token punctuation">{</span>exc_type<span class="token punctuation">.</span>__name__<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>exc_value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 设置异常钩子（仅作演示，实际使用需谨慎）</span>
    original_excepthook <span class="token operator">=</span> sys<span class="token punctuation">.</span>excepthook
    sys<span class="token punctuation">.</span>excepthook <span class="token operator">=</span> exception_handler
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  已设置异常钩子&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 恢复原始异常钩子</span>
    sys<span class="token punctuation">.</span>excepthook <span class="token operator">=</span> original_excepthook
    
    <span class="token comment"># 7. 模块管理</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n7. 已加载模块:&quot;</span><span class="token punctuation">)</span>
    loaded_modules <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>sys<span class="token punctuation">.</span>modules<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  已加载模块数量: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>loaded_modules<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 显示一些常见模块</span>
    common_modules <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'os'</span><span class="token punctuation">,</span> <span class="token string">'sys'</span><span class="token punctuation">,</span> <span class="token string">'json'</span><span class="token punctuation">,</span> <span class="token string">'datetime'</span><span class="token punctuation">,</span> <span class="token string">'math'</span><span class="token punctuation">]</span>
    loaded_common <span class="token operator">=</span> <span class="token punctuation">[</span>m <span class="token keyword">for</span> m <span class="token keyword">in</span> common_modules <span class="token keyword">if</span> m <span class="token keyword">in</span> sys<span class="token punctuation">.</span>modules<span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  常见已加载模块: </span><span class="token interpolation"><span class="token punctuation">{</span>loaded_common<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

<span class="token comment"># 运行sys模块演示</span>
sys_module_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-3-platform模块-平台信息"><a href="#_2-3-platform模块-平台信息" class="header-anchor">#</a> 2.3 platform模块 - 平台信息</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> platform
<span class="token keyword">import</span> sys

<span class="token keyword">def</span> <span class="token function">platform_module_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;platform模块演示&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== platform模块演示 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 1. 系统信息</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. 系统基本信息:&quot;</span><span class="token punctuation">)</span>
    basic_info <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'系统名称'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'系统版本'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'系统详细版本'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'平台标识'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>platform<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'架构'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>architecture<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'机器类型'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>machine<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'处理器'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>processor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'网络名称'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>node<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> basic_info<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token builtin">tuple</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            value <span class="token operator">=</span> <span class="token string">' | '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token keyword">for</span> v <span class="token keyword">in</span> value<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 2. Python信息</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. Python解释器信息:&quot;</span><span class="token punctuation">)</span>
    python_info <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'Python版本'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>python_version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'Python版本元组'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>python_version_tuple<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'Python分支'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>python_branch<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'Python修订版'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>python_revision<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'Python实现'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>python_implementation<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'Python编译器'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>python_compiler<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> python_info<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token builtin">tuple</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            value <span class="token operator">=</span> <span class="token string">'.'</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 3. 特定系统信息</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. 特定系统信息:&quot;</span><span class="token punctuation">)</span>
    
    system <span class="token operator">=</span> platform<span class="token punctuation">.</span>system<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">if</span> system <span class="token operator">==</span> <span class="token string">'Windows'</span><span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            win_info <span class="token operator">=</span> <span class="token punctuation">{</span>
                <span class="token string">'Windows版本'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>win32_ver<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token string">'Windows版本(详细)'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>win32_edition<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>platform<span class="token punctuation">,</span> <span class="token string">'win32_edition'</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">'不支持'</span>
            <span class="token punctuation">}</span>
            
            <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> win_info<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token builtin">tuple</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    value <span class="token operator">=</span> <span class="token string">' | '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token keyword">for</span> v <span class="token keyword">in</span> value <span class="token keyword">if</span> v<span class="token punctuation">)</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">except</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  无法获取Windows特定信息&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">elif</span> system <span class="token operator">==</span> <span class="token string">'Linux'</span><span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            linux_info <span class="token operator">=</span> <span class="token punctuation">{</span>
                <span class="token string">'Linux发行版'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>linux_distribution<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>platform<span class="token punctuation">,</span> <span class="token string">'linux_distribution'</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">'已弃用'</span><span class="token punctuation">,</span>
                <span class="token string">'Libc版本'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>libc_ver<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            
            <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> linux_info<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token builtin">tuple</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    value <span class="token operator">=</span> <span class="token string">' | '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token keyword">for</span> v <span class="token keyword">in</span> value <span class="token keyword">if</span> v<span class="token punctuation">)</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">except</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  无法获取Linux特定信息&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">elif</span> system <span class="token operator">==</span> <span class="token string">'Darwin'</span><span class="token punctuation">:</span>  <span class="token comment"># macOS</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            mac_info <span class="token operator">=</span> <span class="token punctuation">{</span>
                <span class="token string">'macOS版本'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>mac_ver<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            
            <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> mac_info<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token builtin">tuple</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    value <span class="token operator">=</span> <span class="token string">' | '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token keyword">for</span> v <span class="token keyword">in</span> value <span class="token keyword">if</span> v<span class="token punctuation">)</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">except</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  无法获取macOS特定信息&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 4. 硬件信息</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. 硬件信息:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># CPU信息</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token keyword">import</span> multiprocessing
        cpu_count <span class="token operator">=</span> multiprocessing<span class="token punctuation">.</span>cpu_count<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  CPU核心数: </span><span class="token interpolation"><span class="token punctuation">{</span>cpu_count<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">except</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  无法获取CPU信息&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 内存信息（需要psutil库，这里只做演示）</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token keyword">import</span> psutil
        memory <span class="token operator">=</span> psutil<span class="token punctuation">.</span>virtual_memory<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  总内存: </span><span class="token interpolation"><span class="token punctuation">{</span>memory<span class="token punctuation">.</span>total <span class="token operator">//</span> <span class="token punctuation">(</span><span class="token number">1024</span><span class="token operator">**</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string"> GB&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  可用内存: </span><span class="token interpolation"><span class="token punctuation">{</span>memory<span class="token punctuation">.</span>available <span class="token operator">//</span> <span class="token punctuation">(</span><span class="token number">1024</span><span class="token operator">**</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string"> GB&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  内存使用率: </span><span class="token interpolation"><span class="token punctuation">{</span>memory<span class="token punctuation">.</span>percent<span class="token punctuation">}</span></span><span class="token string">%&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">except</span> ImportError<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  内存信息需要psutil库&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 5. 系统兼容性检查</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. 系统兼容性检查:&quot;</span><span class="token punctuation">)</span>
    
    compatibility_checks <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'是否为Windows'</span><span class="token punctuation">:</span> system <span class="token operator">==</span> <span class="token string">'Windows'</span><span class="token punctuation">,</span>
        <span class="token string">'是否为Linux'</span><span class="token punctuation">:</span> system <span class="token operator">==</span> <span class="token string">'Linux'</span><span class="token punctuation">,</span>
        <span class="token string">'是否为macOS'</span><span class="token punctuation">:</span> system <span class="token operator">==</span> <span class="token string">'Darwin'</span><span class="token punctuation">,</span>
        <span class="token string">'是否为64位'</span><span class="token punctuation">:</span> platform<span class="token punctuation">.</span>architecture<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'64bit'</span><span class="token punctuation">,</span>
        <span class="token string">'Python版本&gt;=3.6'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>version_info <span class="token operator">&gt;=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'Python版本&gt;=3.8'</span><span class="token punctuation">:</span> sys<span class="token punctuation">.</span>version_info <span class="token operator">&gt;=</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> check<span class="token punctuation">,</span> result <span class="token keyword">in</span> compatibility_checks<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        status <span class="token operator">=</span> <span class="token string">&quot;✓&quot;</span> <span class="token keyword">if</span> result <span class="token keyword">else</span> <span class="token string">&quot;✗&quot;</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>status<span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>check<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 6. 环境报告</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n6. 完整环境报告:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">generate_environment_report</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;生成环境报告&quot;&quot;&quot;</span>
        report <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        report<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">&quot;=== 系统环境报告 ===&quot;</span><span class="token punctuation">)</span>
        report<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;操作系统: </span><span class="token interpolation"><span class="token punctuation">{</span>platform<span class="token punctuation">.</span>platform<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        report<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;Python版本: </span><span class="token interpolation"><span class="token punctuation">{</span>platform<span class="token punctuation">.</span>python_version<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        report<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;Python实现: </span><span class="token interpolation"><span class="token punctuation">{</span>platform<span class="token punctuation">.</span>python_implementation<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        report<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;架构: </span><span class="token interpolation"><span class="token punctuation">{</span>platform<span class="token punctuation">.</span>architecture<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        report<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;处理器: </span><span class="token interpolation"><span class="token punctuation">{</span>platform<span class="token punctuation">.</span>processor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        report<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;主机名: </span><span class="token interpolation"><span class="token punctuation">{</span>platform<span class="token punctuation">.</span>node<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        report<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;生成时间: </span><span class="token interpolation"><span class="token punctuation">{</span>platform<span class="token punctuation">.</span>python_build<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token keyword">return</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>report<span class="token punctuation">)</span>
    
    report <span class="token operator">=</span> generate_environment_report<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>report<span class="token punctuation">)</span>

<span class="token comment"># 运行platform模块演示</span>
platform_module_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="三、时间处理模块"><a href="#三、时间处理模块" class="header-anchor">#</a> 三、时间处理模块</h2> <h3 id="_3-1-datetime模块-日期时间处理"><a href="#_3-1-datetime模块-日期时间处理" class="header-anchor">#</a> 3.1 datetime模块 - 日期时间处理</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> datetime
<span class="token keyword">from</span> datetime <span class="token keyword">import</span> date<span class="token punctuation">,</span> time<span class="token punctuation">,</span> datetime <span class="token keyword">as</span> dt<span class="token punctuation">,</span> timedelta<span class="token punctuation">,</span> timezone
<span class="token keyword">import</span> calendar

<span class="token keyword">def</span> <span class="token function">datetime_module_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;datetime模块演示&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== datetime模块演示 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 1. 基本日期时间对象</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. 基本日期时间对象:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 当前时间</span>
    now <span class="token operator">=</span> dt<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
    today <span class="token operator">=</span> date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span>
    current_time <span class="token operator">=</span> dt<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  当前日期时间: </span><span class="token interpolation"><span class="token punctuation">{</span>now<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  当前日期: </span><span class="token interpolation"><span class="token punctuation">{</span>today<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  当前时间: </span><span class="token interpolation"><span class="token punctuation">{</span>current_time<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 创建特定日期时间</span>
    specific_date <span class="token operator">=</span> date<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span>
    specific_time <span class="token operator">=</span> time<span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    specific_datetime <span class="token operator">=</span> dt<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  特定日期: </span><span class="token interpolation"><span class="token punctuation">{</span>specific_date<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  特定时间: </span><span class="token interpolation"><span class="token punctuation">{</span>specific_time<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  特定日期时间: </span><span class="token interpolation"><span class="token punctuation">{</span>specific_datetime<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 2. 日期时间格式化</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. 日期时间格式化:&quot;</span><span class="token punctuation">)</span>
    
    format_examples <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;年-月-日&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;%Y/%m/%d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;年/月/日&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;%d/%m/%Y&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;日/月/年&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;完整日期时间&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;%A, %B %d, %Y&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;英文格式&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;%Y年%m月%d日&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;中文格式&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;%H:%M:%S&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;时:分:秒&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;%I:%M %p&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;12小时制&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> fmt<span class="token punctuation">,</span> description <span class="token keyword">in</span> format_examples<span class="token punctuation">:</span>
        formatted <span class="token operator">=</span> now<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span>fmt<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>description<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>formatted<span class="token punctuation">}</span></span><span class="token string"> (</span><span class="token interpolation"><span class="token punctuation">{</span>fmt<span class="token punctuation">}</span></span><span class="token string">)&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 3. 字符串解析</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. 字符串解析:&quot;</span><span class="token punctuation">)</span>
    
    date_strings <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">(</span><span class="token string">&quot;2023-12-25&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;%Y-%m-%d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;25/12/2023&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;%d/%m/%Y&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;2023-12-25 14:30:00&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;December 25, 2023&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;%B %d, %Y&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> date_str<span class="token punctuation">,</span> fmt <span class="token keyword">in</span> date_strings<span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            parsed <span class="token operator">=</span> dt<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span>date_str<span class="token punctuation">,</span> fmt<span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  '</span><span class="token interpolation"><span class="token punctuation">{</span>date_str<span class="token punctuation">}</span></span><span class="token string">' -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span>parsed<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> ValueError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  '</span><span class="token interpolation"><span class="token punctuation">{</span>date_str<span class="token punctuation">}</span></span><span class="token string">' 解析失败: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 4. 时间计算</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. 时间计算:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 时间差</span>
    start_date <span class="token operator">=</span> dt<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    end_date <span class="token operator">=</span> dt<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span>
    time_diff <span class="token operator">=</span> end_date <span class="token operator">-</span> start_date
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  开始日期: </span><span class="token interpolation"><span class="token punctuation">{</span>start_date<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  结束日期: </span><span class="token interpolation"><span class="token punctuation">{</span>end_date<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  时间差: </span><span class="token interpolation"><span class="token punctuation">{</span>time_diff<span class="token punctuation">.</span>days<span class="token punctuation">}</span></span><span class="token string"> 天&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 时间增减</span>
    base_date <span class="token operator">=</span> dt<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    time_operations <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">(</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;7天后&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token operator">-</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;7天前&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>timedelta<span class="token punctuation">(</span>hours<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;3小时后&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>timedelta<span class="token punctuation">(</span>weeks<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;2周后&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;30天后&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> delta<span class="token punctuation">,</span> description <span class="token keyword">in</span> time_operations<span class="token punctuation">:</span>
        result_date <span class="token operator">=</span> base_date <span class="token operator">+</span> delta
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>description<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>result_date<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%Y-%m-%d %H:%M'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 5. 时区处理</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. 时区处理:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># UTC时间</span>
    utc_now <span class="token operator">=</span> dt<span class="token punctuation">.</span>now<span class="token punctuation">(</span>timezone<span class="token punctuation">.</span>utc<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  UTC时间: </span><span class="token interpolation"><span class="token punctuation">{</span>utc_now<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 本地时间</span>
    local_now <span class="token operator">=</span> dt<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  本地时间: </span><span class="token interpolation"><span class="token punctuation">{</span>local_now<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 时区转换</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token keyword">import</span> zoneinfo  <span class="token comment"># Python 3.9+</span>
        
        <span class="token comment"># 创建不同时区的时间</span>
        tokyo_tz <span class="token operator">=</span> zoneinfo<span class="token punctuation">.</span>ZoneInfo<span class="token punctuation">(</span><span class="token string">&quot;Asia/Tokyo&quot;</span><span class="token punctuation">)</span>
        london_tz <span class="token operator">=</span> zoneinfo<span class="token punctuation">.</span>ZoneInfo<span class="token punctuation">(</span><span class="token string">&quot;Europe/London&quot;</span><span class="token punctuation">)</span>
        
        tokyo_time <span class="token operator">=</span> utc_now<span class="token punctuation">.</span>astimezone<span class="token punctuation">(</span>tokyo_tz<span class="token punctuation">)</span>
        london_time <span class="token operator">=</span> utc_now<span class="token punctuation">.</span>astimezone<span class="token punctuation">(</span>london_tz<span class="token punctuation">)</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  东京时间: </span><span class="token interpolation"><span class="token punctuation">{</span>tokyo_time<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  伦敦时间: </span><span class="token interpolation"><span class="token punctuation">{</span>london_time<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
    <span class="token keyword">except</span> ImportError<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  时区转换需要Python 3.9+或pytz库&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 6. 日期时间属性</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n6. 日期时间属性:&quot;</span><span class="token punctuation">)</span>
    
    sample_dt <span class="token operator">=</span> dt<span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">123456</span><span class="token punctuation">)</span>
    
    attributes <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'年'</span><span class="token punctuation">:</span> sample_dt<span class="token punctuation">.</span>year<span class="token punctuation">,</span>
        <span class="token string">'月'</span><span class="token punctuation">:</span> sample_dt<span class="token punctuation">.</span>month<span class="token punctuation">,</span>
        <span class="token string">'日'</span><span class="token punctuation">:</span> sample_dt<span class="token punctuation">.</span>day<span class="token punctuation">,</span>
        <span class="token string">'时'</span><span class="token punctuation">:</span> sample_dt<span class="token punctuation">.</span>hour<span class="token punctuation">,</span>
        <span class="token string">'分'</span><span class="token punctuation">:</span> sample_dt<span class="token punctuation">.</span>minute<span class="token punctuation">,</span>
        <span class="token string">'秒'</span><span class="token punctuation">:</span> sample_dt<span class="token punctuation">.</span>second<span class="token punctuation">,</span>
        <span class="token string">'微秒'</span><span class="token punctuation">:</span> sample_dt<span class="token punctuation">.</span>microsecond<span class="token punctuation">,</span>
        <span class="token string">'星期几'</span><span class="token punctuation">:</span> sample_dt<span class="token punctuation">.</span>weekday<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># 0=Monday</span>
        <span class="token string">'ISO星期几'</span><span class="token punctuation">:</span> sample_dt<span class="token punctuation">.</span>isoweekday<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># 1=Monday</span>
        <span class="token string">'年中第几天'</span><span class="token punctuation">:</span> sample_dt<span class="token punctuation">.</span>timetuple<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>tm_yday
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> attr<span class="token punctuation">,</span> value <span class="token keyword">in</span> attributes<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>attr<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 7. 实用函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n7. 实用日期时间函数:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">get_age</span><span class="token punctuation">(</span>birth_date<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;计算年龄&quot;&quot;&quot;</span>
        today <span class="token operator">=</span> date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span>
        age <span class="token operator">=</span> today<span class="token punctuation">.</span>year <span class="token operator">-</span> birth_date<span class="token punctuation">.</span>year
        <span class="token keyword">if</span> today<span class="token punctuation">.</span>month <span class="token operator">&lt;</span> birth_date<span class="token punctuation">.</span>month <span class="token keyword">or</span> <span class="token punctuation">(</span>today<span class="token punctuation">.</span>month <span class="token operator">==</span> birth_date<span class="token punctuation">.</span>month <span class="token keyword">and</span> today<span class="token punctuation">.</span>day <span class="token operator">&lt;</span> birth_date<span class="token punctuation">.</span>day<span class="token punctuation">)</span><span class="token punctuation">:</span>
            age <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> age
    
    <span class="token keyword">def</span> <span class="token function">get_days_until</span><span class="token punctuation">(</span>target_date<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;计算距离目标日期的天数&quot;&quot;&quot;</span>
        today <span class="token operator">=</span> date<span class="token punctuation">.</span>today<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>target_date<span class="token punctuation">,</span> dt<span class="token punctuation">)</span><span class="token punctuation">:</span>
            target_date <span class="token operator">=</span> target_date<span class="token punctuation">.</span>date<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>target_date <span class="token operator">-</span> today<span class="token punctuation">)</span><span class="token punctuation">.</span>days
    
    <span class="token keyword">def</span> <span class="token function">get_quarter</span><span class="token punctuation">(</span>date_obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;获取季度&quot;&quot;&quot;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>date_obj<span class="token punctuation">.</span>month <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span>
    
    <span class="token keyword">def</span> <span class="token function">is_weekend</span><span class="token punctuation">(</span>date_obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;判断是否为周末&quot;&quot;&quot;</span>
        <span class="token keyword">return</span> date_obj<span class="token punctuation">.</span>weekday<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">5</span>
    
    <span class="token comment"># 测试实用函数</span>
    birth_date <span class="token operator">=</span> date<span class="token punctuation">(</span><span class="token number">1990</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>
    new_year <span class="token operator">=</span> date<span class="token punctuation">(</span><span class="token number">2024</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  年龄计算: 生于</span><span class="token interpolation"><span class="token punctuation">{</span>birth_date<span class="token punctuation">}</span></span><span class="token string">，现在</span><span class="token interpolation"><span class="token punctuation">{</span>get_age<span class="token punctuation">(</span>birth_date<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">岁&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  距离新年: </span><span class="token interpolation"><span class="token punctuation">{</span>get_days_until<span class="token punctuation">(</span>new_year<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">天&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  当前季度: 第</span><span class="token interpolation"><span class="token punctuation">{</span>get_quarter<span class="token punctuation">(</span>today<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">季度&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  今天是否周末: </span><span class="token interpolation"><span class="token punctuation">{</span>is_weekend<span class="token punctuation">(</span>today<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 8. 日历操作</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n8. 日历操作:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 获取月份信息</span>
    year<span class="token punctuation">,</span> month <span class="token operator">=</span> <span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">12</span>
    
    <span class="token comment"># 月份天数</span>
    days_in_month <span class="token operator">=</span> calendar<span class="token punctuation">.</span>monthrange<span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>year<span class="token punctuation">}</span></span><span class="token string">年</span><span class="token interpolation"><span class="token punctuation">{</span>month<span class="token punctuation">}</span></span><span class="token string">月有</span><span class="token interpolation"><span class="token punctuation">{</span>days_in_month<span class="token punctuation">}</span></span><span class="token string">天&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 是否闰年</span>
    is_leap <span class="token operator">=</span> calendar<span class="token punctuation">.</span>isleap<span class="token punctuation">(</span>year<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>year<span class="token punctuation">}</span></span><span class="token string">年是否闰年: </span><span class="token interpolation"><span class="token punctuation">{</span>is_leap<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 月份第一天是星期几</span>
    first_weekday <span class="token operator">=</span> calendar<span class="token punctuation">.</span>monthrange<span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    weekdays <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'周一'</span><span class="token punctuation">,</span> <span class="token string">'周二'</span><span class="token punctuation">,</span> <span class="token string">'周三'</span><span class="token punctuation">,</span> <span class="token string">'周四'</span><span class="token punctuation">,</span> <span class="token string">'周五'</span><span class="token punctuation">,</span> <span class="token string">'周六'</span><span class="token punctuation">,</span> <span class="token string">'周日'</span><span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>year<span class="token punctuation">}</span></span><span class="token string">年</span><span class="token interpolation"><span class="token punctuation">{</span>month<span class="token punctuation">}</span></span><span class="token string">月1日是</span><span class="token interpolation"><span class="token punctuation">{</span>weekdays<span class="token punctuation">[</span>first_weekday<span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 显示月历</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  </span><span class="token interpolation"><span class="token punctuation">{</span>year<span class="token punctuation">}</span></span><span class="token string">年</span><span class="token interpolation"><span class="token punctuation">{</span>month<span class="token punctuation">}</span></span><span class="token string">月日历:&quot;</span></span><span class="token punctuation">)</span>
    month_calendar <span class="token operator">=</span> calendar<span class="token punctuation">.</span>month<span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>month_calendar<span class="token punctuation">)</span>

<span class="token comment"># 运行datetime模块演示</span>
datetime_module_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-2-time模块-时间处理"><a href="#_3-2-time模块-时间处理" class="header-anchor">#</a> 3.2 time模块 - 时间处理</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> time
<span class="token keyword">import</span> datetime

<span class="token keyword">def</span> <span class="token function">time_module_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;time模块演示&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== time模块演示 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 1. 时间戳</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. 时间戳操作:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 当前时间戳</span>
    current_timestamp <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  当前时间戳: </span><span class="token interpolation"><span class="token punctuation">{</span>current_timestamp<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  时间戳(整数): </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">int</span><span class="token punctuation">(</span>current_timestamp<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 时间戳转换</span>
    timestamp_to_struct <span class="token operator">=</span> time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span>current_timestamp<span class="token punctuation">)</span>
    timestamp_to_string <span class="token operator">=</span> time<span class="token punctuation">.</span>ctime<span class="token punctuation">(</span>current_timestamp<span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  时间戳转结构: </span><span class="token interpolation"><span class="token punctuation">{</span>timestamp_to_struct<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  时间戳转字符串: </span><span class="token interpolation"><span class="token punctuation">{</span>timestamp_to_string<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 字符串转时间戳</span>
    time_string <span class="token operator">=</span> <span class="token string">&quot;2023-12-25 14:30:00&quot;</span>
    time_struct <span class="token operator">=</span> time<span class="token punctuation">.</span>strptime<span class="token punctuation">(</span>time_string<span class="token punctuation">,</span> <span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">)</span>
    timestamp <span class="token operator">=</span> time<span class="token punctuation">.</span>mktime<span class="token punctuation">(</span>time_struct<span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  字符串'</span><span class="token interpolation"><span class="token punctuation">{</span>time_string<span class="token punctuation">}</span></span><span class="token string">'转时间戳: </span><span class="token interpolation"><span class="token punctuation">{</span>timestamp<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 2. 时间结构</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. 时间结构操作:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 当前时间结构</span>
    local_time <span class="token operator">=</span> time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token punctuation">)</span>
    utc_time <span class="token operator">=</span> time<span class="token punctuation">.</span>gmtime<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  本地时间结构: </span><span class="token interpolation"><span class="token punctuation">{</span>local_time<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  UTC时间结构: </span><span class="token interpolation"><span class="token punctuation">{</span>utc_time<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 时间结构属性</span>
    time_attributes <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'年'</span><span class="token punctuation">:</span> local_time<span class="token punctuation">.</span>tm_year<span class="token punctuation">,</span>
        <span class="token string">'月'</span><span class="token punctuation">:</span> local_time<span class="token punctuation">.</span>tm_mon<span class="token punctuation">,</span>
        <span class="token string">'日'</span><span class="token punctuation">:</span> local_time<span class="token punctuation">.</span>tm_mday<span class="token punctuation">,</span>
        <span class="token string">'时'</span><span class="token punctuation">:</span> local_time<span class="token punctuation">.</span>tm_hour<span class="token punctuation">,</span>
        <span class="token string">'分'</span><span class="token punctuation">:</span> local_time<span class="token punctuation">.</span>tm_min<span class="token punctuation">,</span>
        <span class="token string">'秒'</span><span class="token punctuation">:</span> local_time<span class="token punctuation">.</span>tm_sec<span class="token punctuation">,</span>
        <span class="token string">'星期几'</span><span class="token punctuation">:</span> local_time<span class="token punctuation">.</span>tm_wday<span class="token punctuation">,</span>  <span class="token comment"># 0=Monday</span>
        <span class="token string">'年中第几天'</span><span class="token punctuation">:</span> local_time<span class="token punctuation">.</span>tm_yday<span class="token punctuation">,</span>
        <span class="token string">'是否夏令时'</span><span class="token punctuation">:</span> local_time<span class="token punctuation">.</span>tm_isdst
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> attr<span class="token punctuation">,</span> value <span class="token keyword">in</span> time_attributes<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>attr<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 3. 时间格式化</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. 时间格式化:&quot;</span><span class="token punctuation">)</span>
    
    format_examples <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;标准格式&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;%Y/%m/%d&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;日期格式&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;%H:%M:%S&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;时间格式&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;%A, %B %d, %Y&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;完整英文格式&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;%c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;本地完整格式&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;%x&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;本地日期格式&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">&quot;%X&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;本地时间格式&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> fmt<span class="token punctuation">,</span> description <span class="token keyword">in</span> format_examples<span class="token punctuation">:</span>
        formatted <span class="token operator">=</span> time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span>fmt<span class="token punctuation">,</span> local_time<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>description<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>formatted<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 4. 性能测量</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. 性能测量:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 使用time.time()测量</span>
    start_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 模拟一些计算</span>
    total <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>i <span class="token operator">*</span> i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    end_time <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
    execution_time <span class="token operator">=</span> end_time <span class="token operator">-</span> start_time
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  计算结果: </span><span class="token interpolation"><span class="token punctuation">{</span>total<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  执行时间(time): </span><span class="token interpolation"><span class="token punctuation">{</span>execution_time<span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">秒&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 使用time.perf_counter()测量（更精确）</span>
    start_perf <span class="token operator">=</span> time<span class="token punctuation">.</span>perf_counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 同样的计算</span>
    total <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>i <span class="token operator">*</span> i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    end_perf <span class="token operator">=</span> time<span class="token punctuation">.</span>perf_counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
    perf_time <span class="token operator">=</span> end_perf <span class="token operator">-</span> start_perf
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  执行时间(perf_counter): </span><span class="token interpolation"><span class="token punctuation">{</span>perf_time<span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">秒&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 使用time.process_time()测量CPU时间</span>
    start_process <span class="token operator">=</span> time<span class="token punctuation">.</span>process_time<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 同样的计算</span>
    total <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>i <span class="token operator">*</span> i <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    end_process <span class="token operator">=</span> time<span class="token punctuation">.</span>process_time<span class="token punctuation">(</span><span class="token punctuation">)</span>
    process_time <span class="token operator">=</span> end_process <span class="token operator">-</span> start_process
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  CPU时间(process_time): </span><span class="token interpolation"><span class="token punctuation">{</span>process_time<span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">秒&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 5. 睡眠和延迟</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. 睡眠和延迟:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  开始睡眠测试...&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 短暂睡眠</span>
    sleep_start <span class="token operator">=</span> time<span class="token punctuation">.</span>perf_counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span>  <span class="token comment"># 睡眠0.1秒</span>
    sleep_end <span class="token operator">=</span> time<span class="token punctuation">.</span>perf_counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
    actual_sleep <span class="token operator">=</span> sleep_end <span class="token operator">-</span> sleep_start
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  预期睡眠: 0.1秒&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  实际睡眠: </span><span class="token interpolation"><span class="token punctuation">{</span>actual_sleep<span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">秒&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  误差: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">abs</span><span class="token punctuation">(</span>actual_sleep <span class="token operator">-</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">秒&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 6. 时区信息</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n6. 时区信息:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 时区偏移</span>
    timezone_offset <span class="token operator">=</span> time<span class="token punctuation">.</span>timezone
    daylight_offset <span class="token operator">=</span> time<span class="token punctuation">.</span>altzone <span class="token keyword">if</span> time<span class="token punctuation">.</span>daylight <span class="token keyword">else</span> time<span class="token punctuation">.</span>timezone
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  时区偏移: </span><span class="token interpolation"><span class="token punctuation">{</span>timezone_offset<span class="token punctuation">}</span></span><span class="token string">秒 (</span><span class="token interpolation"><span class="token punctuation">{</span>timezone_offset<span class="token operator">/</span><span class="token number">3600</span><span class="token punctuation">}</span></span><span class="token string">小时)&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  夏令时偏移: </span><span class="token interpolation"><span class="token punctuation">{</span>daylight_offset<span class="token punctuation">}</span></span><span class="token string">秒 (</span><span class="token interpolation"><span class="token punctuation">{</span>daylight_offset<span class="token operator">/</span><span class="token number">3600</span><span class="token punctuation">}</span></span><span class="token string">小时)&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  是否支持夏令时: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">bool</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>daylight<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 时区名称</span>
    <span class="token keyword">if</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>time<span class="token punctuation">,</span> <span class="token string">'tzname'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  时区名称: </span><span class="token interpolation"><span class="token punctuation">{</span>time<span class="token punctuation">.</span>tzname<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 7. 实用时间函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n7. 实用时间函数:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">format_duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;格式化持续时间&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> seconds <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>seconds<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string">秒&quot;</span></span>
        <span class="token keyword">elif</span> seconds <span class="token operator">&lt;</span> <span class="token number">3600</span><span class="token punctuation">:</span>
            minutes <span class="token operator">=</span> seconds <span class="token operator">//</span> <span class="token number">60</span>
            secs <span class="token operator">=</span> seconds <span class="token operator">%</span> <span class="token number">60</span>
            <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">int</span><span class="token punctuation">(</span>minutes<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">分</span><span class="token interpolation"><span class="token punctuation">{</span>secs<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string">秒&quot;</span></span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            hours <span class="token operator">=</span> seconds <span class="token operator">//</span> <span class="token number">3600</span>
            minutes <span class="token operator">=</span> <span class="token punctuation">(</span>seconds <span class="token operator">%</span> <span class="token number">3600</span><span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">60</span>
            secs <span class="token operator">=</span> seconds <span class="token operator">%</span> <span class="token number">60</span>
            <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">int</span><span class="token punctuation">(</span>hours<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">小时</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">int</span><span class="token punctuation">(</span>minutes<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">分</span><span class="token interpolation"><span class="token punctuation">{</span>secs<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string">秒&quot;</span></span>
    
    <span class="token keyword">def</span> <span class="token function">time_since</span><span class="token punctuation">(</span>timestamp<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;计算距离某个时间戳的时间&quot;&quot;&quot;</span>
        now <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
        diff <span class="token operator">=</span> now <span class="token operator">-</span> timestamp
        
        <span class="token keyword">if</span> diff <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">int</span><span class="token punctuation">(</span>diff<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">秒前&quot;</span></span>
        <span class="token keyword">elif</span> diff <span class="token operator">&lt;</span> <span class="token number">3600</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">int</span><span class="token punctuation">(</span>diff<span class="token operator">//</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">分钟前&quot;</span></span>
        <span class="token keyword">elif</span> diff <span class="token operator">&lt;</span> <span class="token number">86400</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">int</span><span class="token punctuation">(</span>diff<span class="token operator">//</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">小时前&quot;</span></span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">int</span><span class="token punctuation">(</span>diff<span class="token operator">//</span><span class="token number">86400</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">天前&quot;</span></span>
    
    <span class="token keyword">def</span> <span class="token function">benchmark_function</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;函数性能基准测试&quot;&quot;&quot;</span>
        start <span class="token operator">=</span> time<span class="token punctuation">.</span>perf_counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
        result <span class="token operator">=</span> func<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
        end <span class="token operator">=</span> time<span class="token punctuation">.</span>perf_counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> result<span class="token punctuation">,</span> end <span class="token operator">-</span> start
    
    <span class="token comment"># 测试实用函数</span>
    durations <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">3665</span><span class="token punctuation">,</span> <span class="token number">7325</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> duration <span class="token keyword">in</span> durations<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>duration<span class="token punctuation">}</span></span><span class="token string">秒 = </span><span class="token interpolation"><span class="token punctuation">{</span>format_duration<span class="token punctuation">(</span>duration<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 测试时间距离</span>
    past_timestamp <span class="token operator">=</span> current_timestamp <span class="token operator">-</span> <span class="token number">3665</span>  <span class="token comment"># 1小时前</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  时间距离: </span><span class="token interpolation"><span class="token punctuation">{</span>time_since<span class="token punctuation">(</span>past_timestamp<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 基准测试示例</span>
    <span class="token keyword">def</span> <span class="token function">test_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    result<span class="token punctuation">,</span> duration <span class="token operator">=</span> benchmark_function<span class="token punctuation">(</span>test_function<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  基准测试: 结果=</span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">}</span></span><span class="token string">, 耗时=</span><span class="token interpolation"><span class="token punctuation">{</span>duration<span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">秒&quot;</span></span><span class="token punctuation">)</span>

<span class="token comment"># 运行time模块演示</span>
time_module_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="四、数据处理模块"><a href="#四、数据处理模块" class="header-anchor">#</a> 四、数据处理模块</h2> <h3 id="_4-1-json模块-json数据处理"><a href="#_4-1-json模块-json数据处理" class="header-anchor">#</a> 4.1 json模块 - JSON数据处理</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> json
<span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime
<span class="token keyword">from</span> decimal <span class="token keyword">import</span> Decimal

<span class="token keyword">def</span> <span class="token function">json_module_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;json模块演示&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== json模块演示 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 1. 基本序列化和反序列化</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. 基本JSON操作:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># Python对象转JSON</span>
    python_data <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
        <span class="token string">&quot;is_student&quot;</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token string">&quot;scores&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">92</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;address&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;city&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;district&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;朝阳区&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;phone&quot;</span><span class="token punctuation">:</span> <span class="token boolean">None</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment"># 转换为JSON字符串</span>
    json_string <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>python_data<span class="token punctuation">,</span> ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  Python对象转JSON:&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>json_string<span class="token punctuation">)</span>
    
    <span class="token comment"># JSON字符串转Python对象</span>
    parsed_data <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>json_string<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  JSON转Python对象: </span><span class="token interpolation"><span class="token punctuation">{</span>parsed_data<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  数据类型: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">type</span><span class="token punctuation">(</span>parsed_data<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 2. 文件操作</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. JSON文件操作:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 写入JSON文件</span>
    filename <span class="token operator">=</span> <span class="token string">&quot;test_data.json&quot;</span>
    
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            json<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>python_data<span class="token punctuation">,</span> f<span class="token punctuation">,</span> ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  数据已写入文件: </span><span class="token interpolation"><span class="token punctuation">{</span>filename<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 读取JSON文件</span>
        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            loaded_data <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  从文件读取数据: </span><span class="token interpolation"><span class="token punctuation">{</span>loaded_data<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  文件操作错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 3. JSON格式化选项</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. JSON格式化选项:&quot;</span><span class="token punctuation">)</span>
    
    sample_data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;中文&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;测试&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;numbers&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;nested&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">&quot;key&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
    
    format_options <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;默认格式&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;indent&quot;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;缩进格式&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;indent&quot;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;ensure_ascii&quot;</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;支持中文&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;separators&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">,</span> <span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;紧凑格式&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;sort_keys&quot;</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;键排序&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;indent&quot;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;ensure_ascii&quot;</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token string">&quot;sort_keys&quot;</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;完整格式&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> options<span class="token punctuation">,</span> description <span class="token keyword">in</span> format_options<span class="token punctuation">:</span>
        formatted <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>sample_data<span class="token punctuation">,</span> <span class="token operator">**</span>options<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>description<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>formatted<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 4. 自定义序列化</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. 自定义序列化:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 包含不可序列化对象的数据</span>
    complex_data <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;datetime&quot;</span><span class="token punctuation">:</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">&quot;decimal&quot;</span><span class="token punctuation">:</span> Decimal<span class="token punctuation">(</span><span class="token string">'10.50'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">&quot;set&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;bytes&quot;</span><span class="token punctuation">:</span> <span class="token string">b&quot;hello&quot;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment"># 自定义JSON编码器</span>
    <span class="token keyword">class</span> <span class="token class-name">CustomJSONEncoder</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>JSONEncoder<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">default</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> datetime<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> obj<span class="token punctuation">.</span>isoformat<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> Decimal<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token builtin">float</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
            <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token builtin">set</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token builtin">list</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
            <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token builtin">bytes</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> obj<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    
    <span class="token comment"># 使用自定义编码器</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        custom_json <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>complex_data<span class="token punctuation">,</span> cls<span class="token operator">=</span>CustomJSONEncoder<span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  自定义序列化结果:&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>custom_json<span class="token punctuation">)</span>
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  序列化错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 使用default参数</span>
    <span class="token keyword">def</span> <span class="token function">json_serializer</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;自定义序列化函数&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> datetime<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> obj<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> Decimal<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">str</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token builtin">set</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">list</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
        <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token builtin">bytes</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> obj<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;Object of type </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">type</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string"> is not JSON serializable&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        default_json <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>complex_data<span class="token punctuation">,</span> default<span class="token operator">=</span>json_serializer<span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  使用default参数:&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>default_json<span class="token punctuation">)</span>
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  序列化错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 5. JSON验证和错误处理</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. JSON验证和错误处理:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 有效和无效的JSON字符串</span>
    json_samples <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">(</span><span class="token string">'{&quot;name&quot;: &quot;张三&quot;, &quot;age&quot;: 25}'</span><span class="token punctuation">,</span> <span class="token string">&quot;有效JSON&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'{&quot;name&quot;: &quot;张三&quot;, &quot;age&quot;: 25,}'</span><span class="token punctuation">,</span> <span class="token string">&quot;尾随逗号（无效）&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'{name: &quot;张三&quot;, age: 25}'</span><span class="token punctuation">,</span> <span class="token string">&quot;无引号键（无效）&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'[1, 2, 3]'</span><span class="token punctuation">,</span> <span class="token string">&quot;数组格式&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'&quot;simple string&quot;'</span><span class="token punctuation">,</span> <span class="token string">&quot;简单字符串&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">,</span> <span class="token string">&quot;数字&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'true'</span><span class="token punctuation">,</span> <span class="token string">&quot;布尔值&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'null'</span><span class="token punctuation">,</span> <span class="token string">&quot;空值&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'{&quot;nested&quot;: {&quot;deep&quot;: {&quot;value&quot;: 42}}}'</span><span class="token punctuation">,</span> <span class="token string">&quot;嵌套对象&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> json_str<span class="token punctuation">,</span> description <span class="token keyword">in</span> json_samples<span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            parsed <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>json_str<span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  ✓ </span><span class="token interpolation"><span class="token punctuation">{</span>description<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>parsed<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> json<span class="token punctuation">.</span>JSONDecodeError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  ✗ </span><span class="token interpolation"><span class="token punctuation">{</span>description<span class="token punctuation">}</span></span><span class="token string">: 解析错误 - </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">.</span>msg<span class="token punctuation">}</span></span><span class="token string"> (位置: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">.</span>pos<span class="token punctuation">}</span></span><span class="token string">)&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 6. JSON Schema验证（概念演示）</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n6. JSON数据验证:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">validate_user_data</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;简单的用户数据验证&quot;&quot;&quot;</span>
        required_fields <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'email'</span><span class="token punctuation">]</span>
        errors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        
        <span class="token comment"># 检查必需字段</span>
        <span class="token keyword">for</span> field <span class="token keyword">in</span> required_fields<span class="token punctuation">:</span>
            <span class="token keyword">if</span> field <span class="token keyword">not</span> <span class="token keyword">in</span> data<span class="token punctuation">:</span>
                errors<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;缺少必需字段: </span><span class="token interpolation"><span class="token punctuation">{</span>field<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 类型检查</span>
        <span class="token keyword">if</span> <span class="token string">'age'</span> <span class="token keyword">in</span> data <span class="token keyword">and</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            errors<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">&quot;age字段必须是整数&quot;</span><span class="token punctuation">)</span>
        
        <span class="token keyword">if</span> <span class="token string">'age'</span> <span class="token keyword">in</span> data <span class="token keyword">and</span> data<span class="token punctuation">[</span><span class="token string">'age'</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
            errors<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">&quot;age字段必须是正数&quot;</span><span class="token punctuation">)</span>
        
        <span class="token keyword">if</span> <span class="token string">'email'</span> <span class="token keyword">in</span> data <span class="token keyword">and</span> <span class="token string">'@'</span> <span class="token keyword">not</span> <span class="token keyword">in</span> <span class="token builtin">str</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'email'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            errors<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">&quot;email字段格式无效&quot;</span><span class="token punctuation">)</span>
        
        <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span>errors<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">,</span> errors
    
    <span class="token comment"># 测试数据验证</span>
    test_users <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;zhangsan@example.com&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;25&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;lisi@example.com&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment"># age类型错误</span>
        <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;wangwu@example.com&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment"># age负数</span>
        <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;赵六&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment"># 缺少email</span>
        <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;钱七&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;qianqi.example.com&quot;</span><span class="token punctuation">}</span>  <span class="token comment"># email格式错误</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> user <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>test_users<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        is_valid<span class="token punctuation">,</span> errors <span class="token operator">=</span> validate_user_data<span class="token punctuation">(</span>user<span class="token punctuation">)</span>
        status <span class="token operator">=</span> <span class="token string">&quot;✓&quot;</span> <span class="token keyword">if</span> is_valid <span class="token keyword">else</span> <span class="token string">&quot;✗&quot;</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>status<span class="token punctuation">}</span></span><span class="token string"> 用户</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>user<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'未知'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> errors<span class="token punctuation">:</span>
            <span class="token keyword">for</span> error <span class="token keyword">in</span> errors<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    - </span><span class="token interpolation"><span class="token punctuation">{</span>error<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 7. JSON性能优化</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n7. JSON性能测试:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">import</span> time
    
    <span class="token comment"># 创建大量数据</span>
    large_data <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;users&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> i<span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string-interpolation"><span class="token string">f&quot;用户</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">,</span> <span class="token string">&quot;score&quot;</span><span class="token punctuation">:</span> i <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">}</span>
            <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment"># 测试序列化性能</span>
    start_time <span class="token operator">=</span> time<span class="token punctuation">.</span>perf_counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
    json_str <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>large_data<span class="token punctuation">)</span>
    serialize_time <span class="token operator">=</span> time<span class="token punctuation">.</span>perf_counter<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start_time
    
    <span class="token comment"># 测试反序列化性能</span>
    start_time <span class="token operator">=</span> time<span class="token punctuation">.</span>perf_counter<span class="token punctuation">(</span><span class="token punctuation">)</span>
    parsed_data <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>json_str<span class="token punctuation">)</span>
    deserialize_time <span class="token operator">=</span> time<span class="token punctuation">.</span>perf_counter<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start_time
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  数据大小: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>large_data<span class="token punctuation">[</span><span class="token string">'users'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string"> 个用户&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  JSON字符串长度: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>json_str<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string"> 字符&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  序列化时间: </span><span class="token interpolation"><span class="token punctuation">{</span>serialize_time<span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">秒&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  反序列化时间: </span><span class="token interpolation"><span class="token punctuation">{</span>deserialize_time<span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">秒&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 8. 实用JSON工具函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n8. 实用JSON工具函数:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">pretty_print_json</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;美化打印JSON数据&quot;&quot;&quot;</span>
        <span class="token keyword">return</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>data<span class="token punctuation">,</span> ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> sort_keys<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">json_diff</span><span class="token punctuation">(</span>json1<span class="token punctuation">,</span> json2<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;比较两个JSON对象的差异&quot;&quot;&quot;</span>
        <span class="token keyword">def</span> <span class="token function">get_differences</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> obj2<span class="token punctuation">,</span> path<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            differences <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            
            <span class="token keyword">if</span> <span class="token builtin">type</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token builtin">type</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">:</span>
                differences<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>path<span class="token punctuation">}</span></span><span class="token string">: 类型不同 (</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">type</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">.</span>__name__<span class="token punctuation">}</span></span><span class="token string"> vs </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">type</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">.</span>__name__<span class="token punctuation">}</span></span><span class="token string">)&quot;</span></span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> differences
            
            <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> <span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                all_keys <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span>obj1<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token builtin">set</span><span class="token punctuation">(</span>obj2<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">for</span> key <span class="token keyword">in</span> all_keys<span class="token punctuation">:</span>
                    new_path <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>path<span class="token punctuation">}</span></span><span class="token string">.</span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span> <span class="token keyword">if</span> path <span class="token keyword">else</span> key
                    <span class="token keyword">if</span> key <span class="token keyword">not</span> <span class="token keyword">in</span> obj1<span class="token punctuation">:</span>
                        differences<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>new_path<span class="token punctuation">}</span></span><span class="token string">: 仅在第二个对象中存在&quot;</span></span><span class="token punctuation">)</span>
                    <span class="token keyword">elif</span> key <span class="token keyword">not</span> <span class="token keyword">in</span> obj2<span class="token punctuation">:</span>
                        differences<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>new_path<span class="token punctuation">}</span></span><span class="token string">: 仅在第一个对象中存在&quot;</span></span><span class="token punctuation">)</span>
                    <span class="token keyword">else</span><span class="token punctuation">:</span>
                        differences<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>get_differences<span class="token punctuation">(</span>obj1<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> obj2<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> new_path<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj1<span class="token punctuation">,</span> <span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    differences<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>path<span class="token punctuation">}</span></span><span class="token string">: 列表长度不同 (</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string"> vs </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">)&quot;</span></span><span class="token punctuation">)</span>
                <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">min</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    differences<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>get_differences<span class="token punctuation">(</span>obj1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> obj2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>path<span class="token punctuation">}</span></span><span class="token string">[</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">]&quot;</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> obj1 <span class="token operator">!=</span> obj2<span class="token punctuation">:</span>
                    differences<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>path<span class="token punctuation">}</span></span><span class="token string">: 值不同 (</span><span class="token interpolation"><span class="token punctuation">{</span>obj1<span class="token punctuation">}</span></span><span class="token string"> vs </span><span class="token interpolation"><span class="token punctuation">{</span>obj2<span class="token punctuation">}</span></span><span class="token string">)&quot;</span></span><span class="token punctuation">)</span>
            
            <span class="token keyword">return</span> differences
        
        <span class="token keyword">return</span> get_differences<span class="token punctuation">(</span>json1<span class="token punctuation">,</span> json2<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">flatten_json</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> separator<span class="token operator">=</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;扁平化JSON对象&quot;&quot;&quot;</span>
        <span class="token keyword">def</span> <span class="token function">_flatten</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> parent_key<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> obj<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    new_key <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>parent_key<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>separator<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span> <span class="token keyword">if</span> parent_key <span class="token keyword">else</span> key
                    items<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>_flatten<span class="token punctuation">(</span>value<span class="token punctuation">,</span> new_key<span class="token punctuation">)</span><span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token builtin">list</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">for</span> i<span class="token punctuation">,</span> value <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
                    new_key <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>parent_key<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>separator<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span> <span class="token keyword">if</span> parent_key <span class="token keyword">else</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
                    items<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>_flatten<span class="token punctuation">(</span>value<span class="token punctuation">,</span> new_key<span class="token punctuation">)</span><span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token punctuation">{</span>parent_key<span class="token punctuation">:</span> obj<span class="token punctuation">}</span>
            <span class="token keyword">return</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span>
        
        <span class="token keyword">return</span> _flatten<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    
    <span class="token comment"># 测试工具函数</span>
    test_data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;details&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token string">&quot;city&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  美化打印:&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>pretty_print_json<span class="token punctuation">(</span>test_data<span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token comment"># JSON差异比较</span>
    data1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">}</span>
    data2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token string">&quot;city&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">}</span>
    differences <span class="token operator">=</span> json_diff<span class="token punctuation">(</span>data1<span class="token punctuation">,</span> data2<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  JSON差异:&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> diff <span class="token keyword">in</span> differences<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>diff<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># JSON扁平化</span>
    flattened <span class="token operator">=</span> flatten_json<span class="token punctuation">(</span>test_data<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  扁平化结果: </span><span class="token interpolation"><span class="token punctuation">{</span>flattened<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 清理测试文件</span>
     <span class="token keyword">try</span><span class="token punctuation">:</span>
         <span class="token keyword">import</span> os
         <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">:</span>
             os<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>filename<span class="token punctuation">)</span>
             <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  已删除测试文件: </span><span class="token interpolation"><span class="token punctuation">{</span>filename<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
     <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
         <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  删除文件失败: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

<span class="token comment"># 运行json模块演示</span>
json_module_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_4-2-csv模块-csv文件处理"><a href="#_4-2-csv模块-csv文件处理" class="header-anchor">#</a> 4.2 csv模块 - CSV文件处理</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> csv
<span class="token keyword">import</span> io
<span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime

<span class="token keyword">def</span> <span class="token function">csv_module_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;csv模块演示&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== csv模块演示 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 1. 基本CSV读写</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. 基本CSV操作:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 准备测试数据</span>
    test_data <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string">'姓名'</span><span class="token punctuation">,</span> <span class="token string">'年龄'</span><span class="token punctuation">,</span> <span class="token string">'城市'</span><span class="token punctuation">,</span> <span class="token string">'薪资'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token string">'25'</span><span class="token punctuation">,</span> <span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'8000'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token string">'30'</span><span class="token punctuation">,</span> <span class="token string">'上海'</span><span class="token punctuation">,</span> <span class="token string">'12000'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">'王五'</span><span class="token punctuation">,</span> <span class="token string">'28'</span><span class="token punctuation">,</span> <span class="token string">'广州'</span><span class="token punctuation">,</span> <span class="token string">'9500'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">'赵六'</span><span class="token punctuation">,</span> <span class="token string">'35'</span><span class="token punctuation">,</span> <span class="token string">'深圳'</span><span class="token punctuation">,</span> <span class="token string">'15000'</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
    
    <span class="token comment"># 写入CSV文件</span>
    filename <span class="token operator">=</span> <span class="token string">'employees.csv'</span>
    
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> newline<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            writer <span class="token operator">=</span> csv<span class="token punctuation">.</span>writer<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
            writer<span class="token punctuation">.</span>writerows<span class="token punctuation">(</span>test_data<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  数据已写入文件: </span><span class="token interpolation"><span class="token punctuation">{</span>filename<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 读取CSV文件</span>
        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>reader<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  读取的数据:&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> i<span class="token punctuation">,</span> row <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    行</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>row<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
                
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  文件操作错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 2. 字典格式读写</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. 字典格式CSV操作:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 字典数据</span>
    dict_data <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token string">'姓名'</span><span class="token punctuation">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token string">'年龄'</span><span class="token punctuation">:</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token string">'城市'</span><span class="token punctuation">:</span> <span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'薪资'</span><span class="token punctuation">:</span> <span class="token number">8000</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string">'姓名'</span><span class="token punctuation">:</span> <span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token string">'年龄'</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">'城市'</span><span class="token punctuation">:</span> <span class="token string">'上海'</span><span class="token punctuation">,</span> <span class="token string">'薪资'</span><span class="token punctuation">:</span> <span class="token number">12000</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string">'姓名'</span><span class="token punctuation">:</span> <span class="token string">'王五'</span><span class="token punctuation">,</span> <span class="token string">'年龄'</span><span class="token punctuation">:</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token string">'城市'</span><span class="token punctuation">:</span> <span class="token string">'广州'</span><span class="token punctuation">,</span> <span class="token string">'薪资'</span><span class="token punctuation">:</span> <span class="token number">9500</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
    
    dict_filename <span class="token operator">=</span> <span class="token string">'employees_dict.csv'</span>
    
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token comment"># 写入字典格式CSV</span>
        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>dict_filename<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> newline<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            fieldnames <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'姓名'</span><span class="token punctuation">,</span> <span class="token string">'年龄'</span><span class="token punctuation">,</span> <span class="token string">'城市'</span><span class="token punctuation">,</span> <span class="token string">'薪资'</span><span class="token punctuation">]</span>
            writer <span class="token operator">=</span> csv<span class="token punctuation">.</span>DictWriter<span class="token punctuation">(</span>f<span class="token punctuation">,</span> fieldnames<span class="token operator">=</span>fieldnames<span class="token punctuation">)</span>
            
            writer<span class="token punctuation">.</span>writeheader<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 写入表头</span>
            writer<span class="token punctuation">.</span>writerows<span class="token punctuation">(</span>dict_data<span class="token punctuation">)</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  字典数据已写入: </span><span class="token interpolation"><span class="token punctuation">{</span>dict_filename<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 读取字典格式CSV</span>
        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>dict_filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>DictReader<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  读取的字典数据:&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> i<span class="token punctuation">,</span> row <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>reader<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    员工</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
                
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  字典操作错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 3. CSV方言和格式化选项</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. CSV方言和格式化:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 自定义CSV方言</span>
    csv<span class="token punctuation">.</span>register_dialect<span class="token punctuation">(</span><span class="token string">'custom'</span><span class="token punctuation">,</span> 
                        delimiter<span class="token operator">=</span><span class="token string">'|'</span><span class="token punctuation">,</span>
                        quotechar<span class="token operator">=</span><span class="token string">'&quot;'</span><span class="token punctuation">,</span>
                        quoting<span class="token operator">=</span>csv<span class="token punctuation">.</span>QUOTE_MINIMAL<span class="token punctuation">,</span>
                        lineterminator<span class="token operator">=</span><span class="token string">'\n'</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 使用自定义方言</span>
    custom_filename <span class="token operator">=</span> <span class="token string">'custom_format.csv'</span>
    
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>custom_filename<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> newline<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            writer <span class="token operator">=</span> csv<span class="token punctuation">.</span>writer<span class="token punctuation">(</span>f<span class="token punctuation">,</span> dialect<span class="token operator">=</span><span class="token string">'custom'</span><span class="token punctuation">)</span>
            writer<span class="token punctuation">.</span>writerows<span class="token punctuation">(</span>test_data<span class="token punctuation">)</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  自定义格式文件: </span><span class="token interpolation"><span class="token punctuation">{</span>custom_filename<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 读取自定义格式</span>
        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>custom_filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>reader<span class="token punctuation">(</span>f<span class="token punctuation">,</span> dialect<span class="token operator">=</span><span class="token string">'custom'</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  自定义格式数据:&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> row <span class="token keyword">in</span> reader<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>row<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
                
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  自定义格式错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 4. 处理特殊字符和引号</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. 特殊字符处理:&quot;</span><span class="token punctuation">)</span>
    
    special_data <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string">'产品名称'</span><span class="token punctuation">,</span> <span class="token string">'描述'</span><span class="token punctuation">,</span> <span class="token string">'价格'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">'iPhone 15'</span><span class="token punctuation">,</span> <span class="token string">'Apple最新款手机，配备&quot;A17 Pro&quot;芯片'</span><span class="token punctuation">,</span> <span class="token string">'7999'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">'MacBook Pro'</span><span class="token punctuation">,</span> <span class="token string">'专业级笔记本电脑\n适合开发者使用'</span><span class="token punctuation">,</span> <span class="token string">'12999'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">'AirPods Pro'</span><span class="token punctuation">,</span> <span class="token string">'降噪耳机，支持&quot;空间音频&quot;功能'</span><span class="token punctuation">,</span> <span class="token string">'1999'</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
    
    special_filename <span class="token operator">=</span> <span class="token string">'special_chars.csv'</span>
    
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        <span class="token comment"># 写入包含特殊字符的数据</span>
        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>special_filename<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> newline<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            writer <span class="token operator">=</span> csv<span class="token punctuation">.</span>writer<span class="token punctuation">(</span>f<span class="token punctuation">,</span> quoting<span class="token operator">=</span>csv<span class="token punctuation">.</span>QUOTE_ALL<span class="token punctuation">)</span>
            writer<span class="token punctuation">.</span>writerows<span class="token punctuation">(</span>special_data<span class="token punctuation">)</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  特殊字符文件: </span><span class="token interpolation"><span class="token punctuation">{</span>special_filename<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 读取并显示</span>
        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>special_filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            content <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  文件内容:&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>
            
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  特殊字符处理错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 5. 内存中的CSV操作</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. 内存中CSV操作:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 使用StringIO在内存中处理CSV</span>
    csv_string <span class="token operator">=</span> <span class="token triple-quoted-string string">&quot;&quot;&quot;姓名,年龄,部门
张三,25,技术部
李四,30,销售部
王五,28,市场部&quot;&quot;&quot;</span>
    
    <span class="token comment"># 从字符串读取CSV</span>
    string_io <span class="token operator">=</span> io<span class="token punctuation">.</span>StringIO<span class="token punctuation">(</span>csv_string<span class="token punctuation">)</span>
    reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>DictReader<span class="token punctuation">(</span>string_io<span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  从字符串读取CSV:&quot;</span><span class="token punctuation">)</span>
    employees <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span>
    <span class="token keyword">for</span> emp <span class="token keyword">in</span> employees<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>emp<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 写入到字符串</span>
    output <span class="token operator">=</span> io<span class="token punctuation">.</span>StringIO<span class="token punctuation">(</span><span class="token punctuation">)</span>
    writer <span class="token operator">=</span> csv<span class="token punctuation">.</span>DictWriter<span class="token punctuation">(</span>output<span class="token punctuation">,</span> fieldnames<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'姓名'</span><span class="token punctuation">,</span> <span class="token string">'年龄'</span><span class="token punctuation">,</span> <span class="token string">'部门'</span><span class="token punctuation">,</span> <span class="token string">'薪资'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    writer<span class="token punctuation">.</span>writeheader<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 添加薪资信息</span>
    <span class="token keyword">for</span> emp <span class="token keyword">in</span> employees<span class="token punctuation">:</span>
        emp<span class="token punctuation">[</span><span class="token string">'薪资'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span>emp<span class="token punctuation">[</span><span class="token string">'年龄'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">500</span><span class="token punctuation">)</span>  <span class="token comment"># 简单计算</span>
        writer<span class="token punctuation">.</span>writerow<span class="token punctuation">(</span>emp<span class="token punctuation">)</span>
    
    result_csv <span class="token operator">=</span> output<span class="token punctuation">.</span>getvalue<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  生成的CSV字符串:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>result_csv<span class="token punctuation">)</span>
    
    <span class="token comment"># 6. CSV数据分析</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n6. CSV数据分析:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">analyze_csv_data</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;分析CSV文件数据&quot;&quot;&quot;</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
                reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>DictReader<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
                data <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span>
            
            <span class="token keyword">if</span> <span class="token keyword">not</span> data<span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token string">&quot;文件为空&quot;</span>
            
            analysis <span class="token operator">=</span> <span class="token punctuation">{</span>
                <span class="token string">'总行数'</span><span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token string">'列数'</span><span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">if</span> data <span class="token keyword">else</span> <span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">'列名'</span><span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">if</span> data <span class="token keyword">else</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token string">'数值列分析'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            
            <span class="token comment"># 分析数值列</span>
            <span class="token keyword">for</span> column <span class="token keyword">in</span> analysis<span class="token punctuation">[</span><span class="token string">'列名'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                values <span class="token operator">=</span> <span class="token punctuation">[</span>row<span class="token punctuation">[</span>column<span class="token punctuation">]</span> <span class="token keyword">for</span> row <span class="token keyword">in</span> data<span class="token punctuation">]</span>
                
                <span class="token comment"># 尝试转换为数字</span>
                numeric_values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
                <span class="token keyword">for</span> value <span class="token keyword">in</span> values<span class="token punctuation">:</span>
                    <span class="token keyword">try</span><span class="token punctuation">:</span>
                        numeric_values<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token builtin">float</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token keyword">except</span> ValueError<span class="token punctuation">:</span>
                        <span class="token keyword">continue</span>
                
                <span class="token keyword">if</span> numeric_values<span class="token punctuation">:</span>
                    analysis<span class="token punctuation">[</span><span class="token string">'数值列分析'</span><span class="token punctuation">]</span><span class="token punctuation">[</span>column<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
                        <span class="token string">'最小值'</span><span class="token punctuation">:</span> <span class="token builtin">min</span><span class="token punctuation">(</span>numeric_values<span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token string">'最大值'</span><span class="token punctuation">:</span> <span class="token builtin">max</span><span class="token punctuation">(</span>numeric_values<span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token string">'平均值'</span><span class="token punctuation">:</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>numeric_values<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token builtin">len</span><span class="token punctuation">(</span>numeric_values<span class="token punctuation">)</span><span class="token punctuation">,</span>
                        <span class="token string">'数值个数'</span><span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span>numeric_values<span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
            
            <span class="token keyword">return</span> analysis
            
        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;分析错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
    
    <span class="token comment"># 分析员工数据</span>
    analysis <span class="token operator">=</span> analyze_csv_data<span class="token punctuation">(</span>dict_filename<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  数据分析结果:&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>analysis<span class="token punctuation">,</span> <span class="token builtin">dict</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> analysis<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> key <span class="token operator">==</span> <span class="token string">'数值列分析'</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">:&quot;</span></span><span class="token punctuation">)</span>
                <span class="token keyword">for</span> col<span class="token punctuation">,</span> stats <span class="token keyword">in</span> value<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;      </span><span class="token interpolation"><span class="token punctuation">{</span>col<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>stats<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>analysis<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 7. CSV转换工具</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n7. CSV转换工具:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">csv_to_json</span><span class="token punctuation">(</span>csv_filename<span class="token punctuation">,</span> json_filename<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;CSV转JSON&quot;&quot;&quot;</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>csv_filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
                reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>DictReader<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
                data <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span>
            
            <span class="token keyword">if</span> json_filename<span class="token punctuation">:</span>
                <span class="token keyword">import</span> json
                <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>json_filename<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
                    json<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>data<span class="token punctuation">,</span> f<span class="token punctuation">,</span> ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;已转换为: </span><span class="token interpolation"><span class="token punctuation">{</span>json_filename<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> data
                
        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;转换错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
    
    <span class="token keyword">def</span> <span class="token function">filter_csv</span><span class="token punctuation">(</span>input_filename<span class="token punctuation">,</span> output_filename<span class="token punctuation">,</span> filter_func<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;过滤CSV数据&quot;&quot;&quot;</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>input_filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
                reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>DictReader<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
                data <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span>
            
            filtered_data <span class="token operator">=</span> <span class="token punctuation">[</span>row <span class="token keyword">for</span> row <span class="token keyword">in</span> data <span class="token keyword">if</span> filter_func<span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">]</span>
            
            <span class="token keyword">if</span> filtered_data<span class="token punctuation">:</span>
                <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>output_filename<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> newline<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
                    writer <span class="token operator">=</span> csv<span class="token punctuation">.</span>DictWriter<span class="token punctuation">(</span>f<span class="token punctuation">,</span> fieldnames<span class="token operator">=</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    writer<span class="token punctuation">.</span>writeheader<span class="token punctuation">(</span><span class="token punctuation">)</span>
                    writer<span class="token punctuation">.</span>writerows<span class="token punctuation">(</span>filtered_data<span class="token punctuation">)</span>
                
                <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;过滤后数据已保存到: </span><span class="token interpolation"><span class="token punctuation">{</span>output_filename<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token string">&quot;没有符合条件的数据&quot;</span>
                
        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;过滤错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
    
    <span class="token comment"># 测试转换工具</span>
    json_result <span class="token operator">=</span> csv_to_json<span class="token punctuation">(</span>dict_filename<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  CSV转JSON结果: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>json_result<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">条记录&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 过滤高薪员工</span>
    <span class="token keyword">def</span> <span class="token function">high_salary_filter</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">'薪资'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">10000</span>
        <span class="token keyword">except</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
    
    filter_result <span class="token operator">=</span> filter_csv<span class="token punctuation">(</span>dict_filename<span class="token punctuation">,</span> <span class="token string">'high_salary.csv'</span><span class="token punctuation">,</span> high_salary_filter<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  过滤结果: </span><span class="token interpolation"><span class="token punctuation">{</span>filter_result<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 清理测试文件</span>
    test_files <span class="token operator">=</span> <span class="token punctuation">[</span>filename<span class="token punctuation">,</span> dict_filename<span class="token punctuation">,</span> custom_filename<span class="token punctuation">,</span> special_filename<span class="token punctuation">,</span> <span class="token string">'high_salary.csv'</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> <span class="token builtin">file</span> <span class="token keyword">in</span> test_files<span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">import</span> os
            <span class="token keyword">if</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                os<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span><span class="token punctuation">:</span>
            <span class="token keyword">pass</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  已清理测试文件&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 运行csv模块演示</span>
csv_module_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="五、数学计算模块"><a href="#五、数学计算模块" class="header-anchor">#</a> 五、数学计算模块</h2> <h3 id="_5-1-math模块-数学函数"><a href="#_5-1-math模块-数学函数" class="header-anchor">#</a> 5.1 math模块 - 数学函数</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> math
<span class="token keyword">import</span> cmath  <span class="token comment"># 复数数学函数</span>

<span class="token keyword">def</span> <span class="token function">math_module_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;math模块演示&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== math模块演示 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 1. 数学常数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. 数学常数:&quot;</span><span class="token punctuation">)</span>
    constants <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'π (pi)'</span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>pi<span class="token punctuation">,</span>
        <span class="token string">'e (自然对数底)'</span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>e<span class="token punctuation">,</span>
        <span class="token string">'τ (tau = 2π)'</span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>tau<span class="token punctuation">,</span>
        <span class="token string">'∞ (无穷大)'</span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>inf<span class="token punctuation">,</span>
        <span class="token string">'NaN (非数字)'</span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>nan
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> name<span class="token punctuation">,</span> value <span class="token keyword">in</span> constants<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 2. 基本数学运算</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. 基本数学运算:&quot;</span><span class="token punctuation">)</span>
    
    test_numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">2.5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3.7</span><span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> num <span class="token keyword">in</span> test_numbers<span class="token punctuation">:</span>
        operations <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token string-interpolation"><span class="token string">f'sqrt(</span><span class="token interpolation"><span class="token punctuation">{</span>num<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token builtin">abs</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># 平方根</span>
            <span class="token string-interpolation"><span class="token string">f'pow(</span><span class="token interpolation"><span class="token punctuation">{</span>num<span class="token punctuation">}</span></span><span class="token string">, 2)'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span><span class="token builtin">pow</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment"># 幂运算</span>
            <span class="token string-interpolation"><span class="token string">f'abs(</span><span class="token interpolation"><span class="token punctuation">{</span>num<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">,</span>               <span class="token comment"># 绝对值</span>
            <span class="token string-interpolation"><span class="token string">f'ceil(</span><span class="token interpolation"><span class="token punctuation">{</span>num<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>ceil<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token comment"># 向上取整</span>
            <span class="token string-interpolation"><span class="token string">f'floor(</span><span class="token interpolation"><span class="token punctuation">{</span>num<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>floor<span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token comment"># 向下取整</span>
            <span class="token string-interpolation"><span class="token string">f'trunc(</span><span class="token interpolation"><span class="token punctuation">{</span>num<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>trunc<span class="token punctuation">(</span>num<span class="token punctuation">)</span>       <span class="token comment"># 截断小数部分</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  数字 </span><span class="token interpolation"><span class="token punctuation">{</span>num<span class="token punctuation">}</span></span><span class="token string">:&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> op<span class="token punctuation">,</span> result <span class="token keyword">in</span> operations<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>op<span class="token punctuation">}</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 3. 三角函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. 三角函数:&quot;</span><span class="token punctuation">)</span>
    
    angles_degrees <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">270</span><span class="token punctuation">,</span> <span class="token number">360</span><span class="token punctuation">]</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  角度(度) | 弧度     | sin      | cos      | tan&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  &quot;</span> <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">*</span> <span class="token number">50</span><span class="token punctuation">)</span>
    
    <span class="token keyword">for</span> angle_deg <span class="token keyword">in</span> angles_degrees<span class="token punctuation">:</span>
        angle_rad <span class="token operator">=</span> math<span class="token punctuation">.</span>radians<span class="token punctuation">(</span>angle_deg<span class="token punctuation">)</span>  <span class="token comment"># 度转弧度</span>
        
        sin_val <span class="token operator">=</span> math<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>angle_rad<span class="token punctuation">)</span>
        cos_val <span class="token operator">=</span> math<span class="token punctuation">.</span>cos<span class="token punctuation">(</span>angle_rad<span class="token punctuation">)</span>
        
        <span class="token comment"># 处理tan在90度和270度时的无穷大</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            tan_val <span class="token operator">=</span> math<span class="token punctuation">.</span>tan<span class="token punctuation">(</span>angle_rad<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>tan_val<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1e10</span><span class="token punctuation">:</span>  <span class="token comment"># 很大的数视为无穷大</span>
                tan_str <span class="token operator">=</span> <span class="token string">&quot;∞&quot;</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                tan_str <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>tan_val<span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
        <span class="token keyword">except</span><span class="token punctuation">:</span>
            tan_str <span class="token operator">=</span> <span class="token string">&quot;∞&quot;</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>angle_deg<span class="token punctuation">:</span><span class="token format-spec">7d</span><span class="token punctuation">}</span></span><span class="token string"> | </span><span class="token interpolation"><span class="token punctuation">{</span>angle_rad<span class="token punctuation">:</span><span class="token format-spec">8.4f</span><span class="token punctuation">}</span></span><span class="token string"> | </span><span class="token interpolation"><span class="token punctuation">{</span>sin_val<span class="token punctuation">:</span><span class="token format-spec">8.4f</span><span class="token punctuation">}</span></span><span class="token string"> | </span><span class="token interpolation"><span class="token punctuation">{</span>cos_val<span class="token punctuation">:</span><span class="token format-spec">8.4f</span><span class="token punctuation">}</span></span><span class="token string"> | </span><span class="token interpolation"><span class="token punctuation">{</span>tan_str<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 反三角函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  反三角函数示例:&quot;</span><span class="token punctuation">)</span>
    test_values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0.707</span><span class="token punctuation">,</span> <span class="token number">0.866</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> val <span class="token keyword">in</span> test_values<span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            asin_deg <span class="token operator">=</span> math<span class="token punctuation">.</span>degrees<span class="token punctuation">(</span>math<span class="token punctuation">.</span>asin<span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>
            acos_deg <span class="token operator">=</span> math<span class="token punctuation">.</span>degrees<span class="token punctuation">(</span>math<span class="token punctuation">.</span>acos<span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>
            atan_deg <span class="token operator">=</span> math<span class="token punctuation">.</span>degrees<span class="token punctuation">(</span>math<span class="token punctuation">.</span>atan<span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>
            
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    值 </span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">: arcsin=</span><span class="token interpolation"><span class="token punctuation">{</span>asin_deg<span class="token punctuation">:</span><span class="token format-spec">.1f</span><span class="token punctuation">}</span></span><span class="token string">°, arccos=</span><span class="token interpolation"><span class="token punctuation">{</span>acos_deg<span class="token punctuation">:</span><span class="token format-spec">.1f</span><span class="token punctuation">}</span></span><span class="token string">°, arctan=</span><span class="token interpolation"><span class="token punctuation">{</span>atan_deg<span class="token punctuation">:</span><span class="token format-spec">.1f</span><span class="token punctuation">}</span></span><span class="token string">°&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> ValueError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    值 </span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">: 计算错误 - </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 4. 对数函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. 对数函数:&quot;</span><span class="token punctuation">)</span>
    
    log_test_values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>e<span class="token punctuation">,</span> math<span class="token punctuation">.</span>pi<span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> val <span class="token keyword">in</span> log_test_values<span class="token punctuation">:</span>
        log_results <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token string-interpolation"><span class="token string">f'ln(</span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>log<span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">,</span>           <span class="token comment"># 自然对数</span>
            <span class="token string-interpolation"><span class="token string">f'log10(</span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>log10<span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token comment"># 常用对数</span>
            <span class="token string-interpolation"><span class="token string">f'log2(</span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>log2<span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token comment"># 二进制对数</span>
            <span class="token string-interpolation"><span class="token string">f'log(</span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">, 3)'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>log<span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>     <span class="token comment"># 以3为底的对数</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  数值 </span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">:</span><span class="token format-spec">.4f</span><span class="token punctuation">}</span></span><span class="token string">:&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> op<span class="token punctuation">,</span> result <span class="token keyword">in</span> log_results<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>op<span class="token punctuation">}</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 5. 指数函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. 指数函数:&quot;</span><span class="token punctuation">)</span>
    
    exp_test_values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>pi<span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> val <span class="token keyword">in</span> exp_test_values<span class="token punctuation">:</span>
        exp_results <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token string-interpolation"><span class="token string">f'e^</span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>exp<span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">,</span>             <span class="token comment"># e的x次方</span>
            <span class="token string-interpolation"><span class="token string">f'2^</span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span><span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token comment"># 2的x次方</span>
            <span class="token string-interpolation"><span class="token string">f'10^</span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span><span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token comment"># 10的x次方</span>
            <span class="token string-interpolation"><span class="token string">f'e^</span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">-1'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>expm1<span class="token punctuation">(</span>val<span class="token punctuation">)</span>          <span class="token comment"># e^x - 1 (更精确)</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  指数 </span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">:&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> op<span class="token punctuation">,</span> result <span class="token keyword">in</span> exp_results<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>op<span class="token punctuation">}</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 6. 双曲函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n6. 双曲函数:&quot;</span><span class="token punctuation">)</span>
    
    hyperbolic_values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> val <span class="token keyword">in</span> hyperbolic_values<span class="token punctuation">:</span>
        hyp_results <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token string-interpolation"><span class="token string">f'sinh(</span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>sinh<span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token comment"># 双曲正弦</span>
            <span class="token string-interpolation"><span class="token string">f'cosh(</span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>cosh<span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token comment"># 双曲余弦</span>
            <span class="token string-interpolation"><span class="token string">f'tanh(</span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> math<span class="token punctuation">.</span>tanh<span class="token punctuation">(</span>val<span class="token punctuation">)</span>         <span class="token comment"># 双曲正切</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  值 </span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">:&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> op<span class="token punctuation">,</span> result <span class="token keyword">in</span> hyp_results<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>op<span class="token punctuation">}</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 7. 特殊函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n7. 特殊函数:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 阶乘</span>
    factorial_values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  阶乘函数:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> val <span class="token keyword">in</span> factorial_values<span class="token punctuation">:</span>
        result <span class="token operator">=</span> math<span class="token punctuation">.</span>factorial<span class="token punctuation">(</span>val<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">! = </span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 最大公约数和最小公倍数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  最大公约数和最小公倍数:&quot;</span><span class="token punctuation">)</span>
    number_pairs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> a<span class="token punctuation">,</span> b <span class="token keyword">in</span> number_pairs<span class="token punctuation">:</span>
        gcd_val <span class="token operator">=</span> math<span class="token punctuation">.</span>gcd<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
        lcm_val <span class="token operator">=</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>a <span class="token operator">*</span> b<span class="token punctuation">)</span> <span class="token operator">//</span> gcd_val  <span class="token comment"># 最小公倍数公式</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    gcd(</span><span class="token interpolation"><span class="token punctuation">{</span>a<span class="token punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token punctuation">{</span>b<span class="token punctuation">}</span></span><span class="token string">) = </span><span class="token interpolation"><span class="token punctuation">{</span>gcd_val<span class="token punctuation">}</span></span><span class="token string">, lcm(</span><span class="token interpolation"><span class="token punctuation">{</span>a<span class="token punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token punctuation">{</span>b<span class="token punctuation">}</span></span><span class="token string">) = </span><span class="token interpolation"><span class="token punctuation">{</span>lcm_val<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 8. 数值判断函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n8. 数值判断函数:&quot;</span><span class="token punctuation">)</span>
    
    test_special_values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>inf<span class="token punctuation">,</span> <span class="token operator">-</span>math<span class="token punctuation">.</span>inf<span class="token punctuation">,</span> math<span class="token punctuation">.</span>nan<span class="token punctuation">,</span> <span class="token number">3.14</span><span class="token punctuation">]</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  值        | 有限 | 无穷 | NaN  | 整数&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  &quot;</span> <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">*</span> <span class="token number">40</span><span class="token punctuation">)</span>
    
    <span class="token keyword">for</span> val <span class="token keyword">in</span> test_special_values<span class="token punctuation">:</span>
        is_finite <span class="token operator">=</span> math<span class="token punctuation">.</span>isfinite<span class="token punctuation">(</span>val<span class="token punctuation">)</span>
        is_inf <span class="token operator">=</span> math<span class="token punctuation">.</span>isinf<span class="token punctuation">(</span>val<span class="token punctuation">)</span>
        is_nan <span class="token operator">=</span> math<span class="token punctuation">.</span>isnan<span class="token punctuation">(</span>val<span class="token punctuation">)</span>
        
        <span class="token comment"># 检查是否为整数</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            is_integer <span class="token operator">=</span> val<span class="token punctuation">.</span>is_integer<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token builtin">float</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span><span class="token punctuation">:</span>
            is_integer <span class="token operator">=</span> <span class="token boolean">False</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">str</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">8</span><span class="token punctuation">}</span></span><span class="token string"> | </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">str</span><span class="token punctuation">(</span>is_finite<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">4</span><span class="token punctuation">}</span></span><span class="token string"> | </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">str</span><span class="token punctuation">(</span>is_inf<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">4</span><span class="token punctuation">}</span></span><span class="token string"> | </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">str</span><span class="token punctuation">(</span>is_nan<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">4</span><span class="token punctuation">}</span></span><span class="token string"> | </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">str</span><span class="token punctuation">(</span>is_integer<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">4</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 9. 复数数学函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n9. 复数数学函数:&quot;</span><span class="token punctuation">)</span>
    
    complex_numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">2j</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">-</span><span class="token number">4j</span><span class="token punctuation">,</span> <span class="token number">5j</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">3j</span><span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> c <span class="token keyword">in</span> complex_numbers<span class="token punctuation">:</span>
        complex_results <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token string-interpolation"><span class="token string">f'abs(</span><span class="token interpolation"><span class="token punctuation">{</span>c<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> <span class="token builtin">abs</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span>                   <span class="token comment"># 模长</span>
            <span class="token string-interpolation"><span class="token string">f'phase(</span><span class="token interpolation"><span class="token punctuation">{</span>c<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> cmath<span class="token punctuation">.</span>phase<span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span>         <span class="token comment"># 相位角</span>
            <span class="token string-interpolation"><span class="token string">f'sqrt(</span><span class="token interpolation"><span class="token punctuation">{</span>c<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> cmath<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span>           <span class="token comment"># 复数平方根</span>
            <span class="token string-interpolation"><span class="token string">f'exp(</span><span class="token interpolation"><span class="token punctuation">{</span>c<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> cmath<span class="token punctuation">.</span>exp<span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">,</span>             <span class="token comment"># 复数指数</span>
            <span class="token string-interpolation"><span class="token string">f'log(</span><span class="token interpolation"><span class="token punctuation">{</span>c<span class="token punctuation">}</span></span><span class="token string">)'</span></span><span class="token punctuation">:</span> cmath<span class="token punctuation">.</span>log<span class="token punctuation">(</span>c<span class="token punctuation">)</span>              <span class="token comment"># 复数对数</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  复数 </span><span class="token interpolation"><span class="token punctuation">{</span>c<span class="token punctuation">}</span></span><span class="token string">:&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> op<span class="token punctuation">,</span> result <span class="token keyword">in</span> complex_results<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token builtin">complex</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>op<span class="token punctuation">}</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">:</span><span class="token format-spec">.4f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>op<span class="token punctuation">}</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 10. 实用数学工具函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n10. 实用数学工具函数:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">distance_2d</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;计算二维平面上两点间距离&quot;&quot;&quot;</span>
        <span class="token keyword">return</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token punctuation">(</span>x2 <span class="token operator">-</span> x1<span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token punctuation">(</span>y2 <span class="token operator">-</span> y1<span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">angle_between_vectors</span><span class="token punctuation">(</span>x1<span class="token punctuation">,</span> y1<span class="token punctuation">,</span> x2<span class="token punctuation">,</span> y2<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;计算两个向量间的夹角（弧度）&quot;&quot;&quot;</span>
        dot_product <span class="token operator">=</span> x1 <span class="token operator">*</span> x2 <span class="token operator">+</span> y1 <span class="token operator">*</span> y2
        magnitude1 <span class="token operator">=</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>x1<span class="token operator">**</span><span class="token number">2</span> <span class="token operator">+</span> y1<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span>
        magnitude2 <span class="token operator">=</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>x2<span class="token operator">**</span><span class="token number">2</span> <span class="token operator">+</span> y2<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span>
        
        <span class="token keyword">if</span> magnitude1 <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">or</span> magnitude2 <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token number">0</span>
        
        cos_angle <span class="token operator">=</span> dot_product <span class="token operator">/</span> <span class="token punctuation">(</span>magnitude1 <span class="token operator">*</span> magnitude2<span class="token punctuation">)</span>
        <span class="token comment"># 处理浮点数精度问题</span>
        cos_angle <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token builtin">min</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> cos_angle<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> math<span class="token punctuation">.</span>acos<span class="token punctuation">(</span>cos_angle<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">circle_area_circumference</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;计算圆的面积和周长&quot;&quot;&quot;</span>
        area <span class="token operator">=</span> math<span class="token punctuation">.</span>pi <span class="token operator">*</span> radius<span class="token operator">**</span><span class="token number">2</span>
        circumference <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> math<span class="token punctuation">.</span>pi <span class="token operator">*</span> radius
        <span class="token keyword">return</span> area<span class="token punctuation">,</span> circumference
    
    <span class="token keyword">def</span> <span class="token function">sphere_volume_surface</span><span class="token punctuation">(</span>radius<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;计算球的体积和表面积&quot;&quot;&quot;</span>
        volume <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">4</span><span class="token operator">/</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> math<span class="token punctuation">.</span>pi <span class="token operator">*</span> radius<span class="token operator">**</span><span class="token number">3</span>
        surface <span class="token operator">=</span> <span class="token number">4</span> <span class="token operator">*</span> math<span class="token punctuation">.</span>pi <span class="token operator">*</span> radius<span class="token operator">**</span><span class="token number">2</span>
        <span class="token keyword">return</span> volume<span class="token punctuation">,</span> surface
    
    <span class="token comment"># 测试工具函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  几何计算示例:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 两点间距离</span>
    dist <span class="token operator">=</span> distance_2d<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    点(0,0)到点(3,4)的距离: </span><span class="token interpolation"><span class="token punctuation">{</span>dist<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 向量夹角</span>
    angle_rad <span class="token operator">=</span> angle_between_vectors<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    angle_deg <span class="token operator">=</span> math<span class="token punctuation">.</span>degrees<span class="token punctuation">(</span>angle_rad<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    向量(1,0)和(0,1)的夹角: </span><span class="token interpolation"><span class="token punctuation">{</span>angle_deg<span class="token punctuation">}</span></span><span class="token string">度&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 圆的计算</span>
    radius <span class="token operator">=</span> <span class="token number">5</span>
    area<span class="token punctuation">,</span> circumference <span class="token operator">=</span> circle_area_circumference<span class="token punctuation">(</span>radius<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    半径</span><span class="token interpolation"><span class="token punctuation">{</span>radius<span class="token punctuation">}</span></span><span class="token string">的圆: 面积=</span><span class="token interpolation"><span class="token punctuation">{</span>area<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string">, 周长=</span><span class="token interpolation"><span class="token punctuation">{</span>circumference<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 球的计算</span>
    volume<span class="token punctuation">,</span> surface <span class="token operator">=</span> sphere_volume_surface<span class="token punctuation">(</span>radius<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    半径</span><span class="token interpolation"><span class="token punctuation">{</span>radius<span class="token punctuation">}</span></span><span class="token string">的球: 体积=</span><span class="token interpolation"><span class="token punctuation">{</span>volume<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string">, 表面积=</span><span class="token interpolation"><span class="token punctuation">{</span>surface<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

<span class="token comment"># 运行math模块演示</span>
math_module_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_5-2-random模块-随机数生成"><a href="#_5-2-random模块-随机数生成" class="header-anchor">#</a> 5.2 random模块 - 随机数生成</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> random
<span class="token keyword">import</span> string
<span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter

<span class="token keyword">def</span> <span class="token function">random_module_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;random模块演示&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== random模块演示 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 1. 基本随机数生成</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. 基本随机数生成:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 设置随机种子（确保结果可重现）</span>
    random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  设置随机种子: 42&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 生成随机浮点数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  随机浮点数 [0.0, 1.0):&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    random(): </span><span class="token interpolation"><span class="token punctuation">{</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 生成指定范围的随机浮点数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  指定范围的随机浮点数:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        val <span class="token operator">=</span> random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">10.5</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    uniform(1.5, 10.5): </span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">:</span><span class="token format-spec">.4f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 生成随机整数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  随机整数:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        val <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>  <span class="token comment"># 包含两端</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    randint(1, 100): </span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 生成随机整数（不包含上界）</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  随机整数（不包含上界）:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        val <span class="token operator">=</span> random<span class="token punctuation">.</span>randrange<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 1到99的奇数</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    randrange(1, 100, 2): </span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 2. 序列随机操作</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. 序列随机操作:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 随机选择</span>
    colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'红色'</span><span class="token punctuation">,</span> <span class="token string">'绿色'</span><span class="token punctuation">,</span> <span class="token string">'蓝色'</span><span class="token punctuation">,</span> <span class="token string">'黄色'</span><span class="token punctuation">,</span> <span class="token string">'紫色'</span><span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  颜色列表: </span><span class="token interpolation"><span class="token punctuation">{</span>colors<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  随机选择:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        color <span class="token operator">=</span> random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>colors<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    choice(): </span><span class="token interpolation"><span class="token punctuation">{</span>color<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 带权重的随机选择</span>
    weights <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>  <span class="token comment"># 权重越大，被选中概率越高</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  带权重随机选择 (权重: </span><span class="token interpolation"><span class="token punctuation">{</span>weights<span class="token punctuation">}</span></span><span class="token string">):&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        color <span class="token operator">=</span> random<span class="token punctuation">.</span>choices<span class="token punctuation">(</span>colors<span class="token punctuation">,</span> weights<span class="token operator">=</span>weights<span class="token punctuation">,</span> k<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    choices(): </span><span class="token interpolation"><span class="token punctuation">{</span>color<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 随机抽样（不重复）</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  随机抽样（不重复）:&quot;</span><span class="token punctuation">)</span>
    sample_size <span class="token operator">=</span> <span class="token number">3</span>
    sample <span class="token operator">=</span> random<span class="token punctuation">.</span>sample<span class="token punctuation">(</span>colors<span class="token punctuation">,</span> sample_size<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    sample(</span><span class="token interpolation"><span class="token punctuation">{</span>sample_size<span class="token punctuation">}</span></span><span class="token string">): </span><span class="token interpolation"><span class="token punctuation">{</span>sample<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 随机打乱</span>
    numbers <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  原始列表: </span><span class="token interpolation"><span class="token punctuation">{</span>numbers<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>numbers<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  打乱后: </span><span class="token interpolation"><span class="token punctuation">{</span>numbers<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 3. 概率分布</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. 概率分布:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 正态分布（高斯分布）</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  正态分布 N(μ=100, σ=15):&quot;</span><span class="token punctuation">)</span>
    normal_samples <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        val <span class="token operator">=</span> random<span class="token punctuation">.</span>normalvariate<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>  <span class="token comment"># 均值100，标准差15</span>
        normal_samples<span class="token punctuation">.</span>append<span class="token punctuation">(</span>val<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    样本</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    样本均值: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">sum</span><span class="token punctuation">(</span>normal_samples<span class="token punctuation">)</span><span class="token operator">/</span><span class="token builtin">len</span><span class="token punctuation">(</span>normal_samples<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 指数分布</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  指数分布 (λ=1.5):&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        val <span class="token operator">=</span> random<span class="token punctuation">.</span>expovariate<span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    样本</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">:</span><span class="token format-spec">.4f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 伽马分布</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  伽马分布 (α=2, β=1):&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        val <span class="token operator">=</span> random<span class="token punctuation">.</span>gammavariate<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    样本</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>val<span class="token punctuation">:</span><span class="token format-spec">.4f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 4. 随机字符串生成</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. 随机字符串生成:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">generate_random_string</span><span class="token punctuation">(</span>length<span class="token punctuation">,</span> chars<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;生成随机字符串&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> chars <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            chars <span class="token operator">=</span> string<span class="token punctuation">.</span>ascii_letters <span class="token operator">+</span> string<span class="token punctuation">.</span>digits
        <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>chars<span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">generate_password</span><span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;生成随机密码&quot;&quot;&quot;</span>
        chars <span class="token operator">=</span> string<span class="token punctuation">.</span>ascii_letters <span class="token operator">+</span> string<span class="token punctuation">.</span>digits <span class="token operator">+</span> <span class="token string">'!@#$%^&amp;*'</span>
        <span class="token comment"># 确保包含各种字符类型</span>
        password <span class="token operator">=</span> <span class="token punctuation">[</span>
            random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>string<span class="token punctuation">.</span>ascii_lowercase<span class="token punctuation">)</span><span class="token punctuation">,</span>
            random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>string<span class="token punctuation">.</span>ascii_uppercase<span class="token punctuation">)</span><span class="token punctuation">,</span>
            random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>string<span class="token punctuation">.</span>digits<span class="token punctuation">)</span><span class="token punctuation">,</span>
            random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span><span class="token string">'!@#$%^&amp;*'</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
        
        <span class="token comment"># 填充剩余长度</span>
        <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>length <span class="token operator">-</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            password<span class="token punctuation">.</span>append<span class="token punctuation">(</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 打乱顺序</span>
        random<span class="token punctuation">.</span>shuffle<span class="token punctuation">(</span>password<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>password<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">generate_uuid_like</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;生成类似UUID的字符串&quot;&quot;&quot;</span>
        chars <span class="token operator">=</span> string<span class="token punctuation">.</span>hexdigits<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span>
        parts <span class="token operator">=</span> <span class="token punctuation">[</span>
            <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>chars<span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>chars<span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>chars<span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>chars<span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>chars<span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
        <span class="token keyword">return</span> <span class="token string">'-'</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>parts<span class="token punctuation">)</span>
    
    <span class="token comment"># 测试字符串生成</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  随机字符串示例:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    字母数字(8位): </span><span class="token interpolation"><span class="token punctuation">{</span>generate_random_string<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    纯字母(10位): </span><span class="token interpolation"><span class="token punctuation">{</span>generate_random_string<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> string<span class="token punctuation">.</span>ascii_letters<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    随机密码: </span><span class="token interpolation"><span class="token punctuation">{</span>generate_password<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    UUID样式: </span><span class="token interpolation"><span class="token punctuation">{</span>generate_uuid_like<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 5. 随机数据生成</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. 随机数据生成:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">generate_random_person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;生成随机人员信息&quot;&quot;&quot;</span>
        first_names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'张'</span><span class="token punctuation">,</span> <span class="token string">'李'</span><span class="token punctuation">,</span> <span class="token string">'王'</span><span class="token punctuation">,</span> <span class="token string">'刘'</span><span class="token punctuation">,</span> <span class="token string">'陈'</span><span class="token punctuation">,</span> <span class="token string">'杨'</span><span class="token punctuation">,</span> <span class="token string">'赵'</span><span class="token punctuation">,</span> <span class="token string">'黄'</span><span class="token punctuation">,</span> <span class="token string">'周'</span><span class="token punctuation">,</span> <span class="token string">'吴'</span><span class="token punctuation">]</span>
        last_names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'伟'</span><span class="token punctuation">,</span> <span class="token string">'芳'</span><span class="token punctuation">,</span> <span class="token string">'娜'</span><span class="token punctuation">,</span> <span class="token string">'敏'</span><span class="token punctuation">,</span> <span class="token string">'静'</span><span class="token punctuation">,</span> <span class="token string">'丽'</span><span class="token punctuation">,</span> <span class="token string">'强'</span><span class="token punctuation">,</span> <span class="token string">'磊'</span><span class="token punctuation">,</span> <span class="token string">'军'</span><span class="token punctuation">,</span> <span class="token string">'洋'</span><span class="token punctuation">]</span>
        cities <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'北京'</span><span class="token punctuation">,</span> <span class="token string">'上海'</span><span class="token punctuation">,</span> <span class="token string">'广州'</span><span class="token punctuation">,</span> <span class="token string">'深圳'</span><span class="token punctuation">,</span> <span class="token string">'杭州'</span><span class="token punctuation">,</span> <span class="token string">'南京'</span><span class="token punctuation">,</span> <span class="token string">'武汉'</span><span class="token punctuation">,</span> <span class="token string">'成都'</span><span class="token punctuation">]</span>
        
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token string">'姓名'</span><span class="token punctuation">:</span> random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>first_names<span class="token punctuation">)</span> <span class="token operator">+</span> random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>last_names<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">'年龄'</span><span class="token punctuation">:</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">'城市'</span><span class="token punctuation">:</span> random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>cities<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">'薪资'</span><span class="token punctuation">:</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">50000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">'邮箱'</span><span class="token punctuation">:</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>generate_random_string<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">@example.com&quot;</span></span>
        <span class="token punctuation">}</span>
    
    <span class="token keyword">def</span> <span class="token function">generate_test_data</span><span class="token punctuation">(</span>count<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;生成测试数据集&quot;&quot;&quot;</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>generate_random_person<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">]</span>
    
    <span class="token comment"># 生成测试数据</span>
    test_people <span class="token operator">=</span> generate_test_data<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  随机人员数据:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> person <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>test_people<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    人员</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>person<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 6. 随机采样和统计</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n6. 随机采样和统计:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 模拟投硬币</span>
    <span class="token keyword">def</span> <span class="token function">simulate_coin_flips</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;模拟投硬币&quot;&quot;&quot;</span>
        results <span class="token operator">=</span> <span class="token punctuation">[</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'正面'</span><span class="token punctuation">,</span> <span class="token string">'反面'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span>
        counter <span class="token operator">=</span> Counter<span class="token punctuation">(</span>results<span class="token punctuation">)</span>
        <span class="token keyword">return</span> counter
    
    <span class="token comment"># 模拟掷骰子</span>
    <span class="token keyword">def</span> <span class="token function">simulate_dice_rolls</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> sides<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;模拟掷骰子&quot;&quot;&quot;</span>
        results <span class="token operator">=</span> <span class="token punctuation">[</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> sides<span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span>
        counter <span class="token operator">=</span> Counter<span class="token punctuation">(</span>results<span class="token punctuation">)</span>
        <span class="token keyword">return</span> counter
    
    <span class="token comment"># 蒙特卡洛估算π</span>
    <span class="token keyword">def</span> <span class="token function">estimate_pi</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;用蒙特卡洛方法估算π&quot;&quot;&quot;</span>
        inside_circle <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
            x <span class="token operator">=</span> random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
            y <span class="token operator">=</span> random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> x<span class="token operator">*</span>x <span class="token operator">+</span> y<span class="token operator">*</span>y <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">:</span>
                inside_circle <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> <span class="token number">4</span> <span class="token operator">*</span> inside_circle <span class="token operator">/</span> n
    
    <span class="token comment"># 测试模拟</span>
    coin_results <span class="token operator">=</span> simulate_coin_flips<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  投硬币1000次: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>coin_results<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    dice_results <span class="token operator">=</span> simulate_dice_rolls<span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  掷骰子600次: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>dice_results<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    pi_estimate <span class="token operator">=</span> estimate_pi<span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  蒙特卡洛估算π (10万次): </span><span class="token interpolation"><span class="token punctuation">{</span>pi_estimate<span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  真实π值: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token number">3.141592653589793</span><span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  误差: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">abs</span><span class="token punctuation">(</span>pi_estimate <span class="token operator">-</span> <span class="token number">3.141592653589793</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">.6f</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 7. 随机状态管理</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n7. 随机状态管理:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 保存当前状态</span>
    state <span class="token operator">=</span> random<span class="token punctuation">.</span>getstate<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  保存随机状态&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 生成一些随机数</span>
    nums1 <span class="token operator">=</span> <span class="token punctuation">[</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  第一组随机数: </span><span class="token interpolation"><span class="token punctuation">{</span>nums1<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 恢复状态</span>
    random<span class="token punctuation">.</span>setstate<span class="token punctuation">(</span>state<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  恢复随机状态&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 再次生成随机数（应该相同）</span>
    nums2 <span class="token operator">=</span> <span class="token punctuation">[</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  第二组随机数: </span><span class="token interpolation"><span class="token punctuation">{</span>nums2<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  两组是否相同: </span><span class="token interpolation"><span class="token punctuation">{</span>nums1 <span class="token operator">==</span> nums2<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 8. 实用随机工具</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n8. 实用随机工具:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">random_date</span><span class="token punctuation">(</span>start_year<span class="token operator">=</span><span class="token number">2020</span><span class="token punctuation">,</span> end_year<span class="token operator">=</span><span class="token number">2024</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;生成随机日期&quot;&quot;&quot;</span>
        <span class="token keyword">import</span> datetime
        start_date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span>start_year<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
        end_date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>date<span class="token punctuation">(</span>end_year<span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span>
        
        time_between <span class="token operator">=</span> end_date <span class="token operator">-</span> start_date
        days_between <span class="token operator">=</span> time_between<span class="token punctuation">.</span>days
        random_days <span class="token operator">=</span> random<span class="token punctuation">.</span>randrange<span class="token punctuation">(</span>days_between<span class="token punctuation">)</span>
        
        <span class="token keyword">return</span> start_date <span class="token operator">+</span> datetime<span class="token punctuation">.</span>timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span>random_days<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">weighted_choice</span><span class="token punctuation">(</span>choices<span class="token punctuation">,</span> weights<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;带权重的选择（自定义实现）&quot;&quot;&quot;</span>
        total <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>weights<span class="token punctuation">)</span>
        r <span class="token operator">=</span> random<span class="token punctuation">.</span>uniform<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> total<span class="token punctuation">)</span>
        upto <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">for</span> choice<span class="token punctuation">,</span> weight <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>choices<span class="token punctuation">,</span> weights<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> upto <span class="token operator">+</span> weight <span class="token operator">&gt;=</span> r<span class="token punctuation">:</span>
                <span class="token keyword">return</span> choice
            upto <span class="token operator">+=</span> weight
        <span class="token keyword">return</span> choices<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    
    <span class="token keyword">def</span> <span class="token function">random_color</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;生成随机颜色（RGB）&quot;&quot;&quot;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token string">'r'</span><span class="token punctuation">:</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">'g'</span><span class="token punctuation">:</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">'b'</span><span class="token punctuation">:</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">'hex'</span><span class="token punctuation">:</span> <span class="token string-interpolation"><span class="token string">f&quot;#</span><span class="token interpolation"><span class="token punctuation">{</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">02x</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">02x</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">02x</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
        <span class="token punctuation">}</span>
    
    <span class="token comment"># 测试工具函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  实用工具示例:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    随机日期: </span><span class="token interpolation"><span class="token punctuation">{</span>random_date<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    choices <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">]</span>
    weights <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    带权重选择: </span><span class="token interpolation"><span class="token punctuation">{</span>weighted_choice<span class="token punctuation">(</span>choices<span class="token punctuation">,</span> weights<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    color <span class="token operator">=</span> random_color<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    随机颜色: RGB(</span><span class="token interpolation"><span class="token punctuation">{</span>color<span class="token punctuation">[</span><span class="token string">'r'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token punctuation">{</span>color<span class="token punctuation">[</span><span class="token string">'g'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token punctuation">{</span>color<span class="token punctuation">[</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">) = </span><span class="token interpolation"><span class="token punctuation">{</span>color<span class="token punctuation">[</span><span class="token string">'hex'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

<span class="token comment"># 运行random模块演示</span>
random_module_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="六、网络编程模块"><a href="#六、网络编程模块" class="header-anchor">#</a> 六、网络编程模块</h2> <h3 id="_6-1-urllib模块-url处理"><a href="#_6-1-urllib模块-url处理" class="header-anchor">#</a> 6.1 urllib模块 - URL处理</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>request
<span class="token keyword">import</span> urllib<span class="token punctuation">.</span>parse
<span class="token keyword">import</span> urllib<span class="token punctuation">.</span>error
<span class="token keyword">from</span> urllib<span class="token punctuation">.</span>robotparser <span class="token keyword">import</span> RobotFileParser

<span class="token keyword">def</span> <span class="token function">urllib_module_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;urllib模块演示&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== urllib模块演示 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 1. URL解析和构建</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. URL解析和构建:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 解析URL</span>
    test_urls <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string">'https://www.example.com:8080/path/to/page?param1=value1&amp;param2=value2#section1'</span><span class="token punctuation">,</span>
        <span class="token string">'http://user:pass@localhost:3000/api/data'</span><span class="token punctuation">,</span>
        <span class="token string">'ftp://files.example.com/downloads/file.zip'</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> url <span class="token keyword">in</span> test_urls<span class="token punctuation">:</span>
        parsed <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urlparse<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  URL: </span><span class="token interpolation"><span class="token punctuation">{</span>url<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    协议: </span><span class="token interpolation"><span class="token punctuation">{</span>parsed<span class="token punctuation">.</span>scheme<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    主机: </span><span class="token interpolation"><span class="token punctuation">{</span>parsed<span class="token punctuation">.</span>netloc<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    路径: </span><span class="token interpolation"><span class="token punctuation">{</span>parsed<span class="token punctuation">.</span>path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    查询: </span><span class="token interpolation"><span class="token punctuation">{</span>parsed<span class="token punctuation">.</span>query<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    片段: </span><span class="token interpolation"><span class="token punctuation">{</span>parsed<span class="token punctuation">.</span>fragment<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 分解netloc</span>
        <span class="token keyword">if</span> parsed<span class="token punctuation">.</span>netloc<span class="token punctuation">:</span>
            netloc_parts <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urlsplit<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    用户名: </span><span class="token interpolation"><span class="token punctuation">{</span>netloc_parts<span class="token punctuation">.</span>username<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    密码: </span><span class="token interpolation"><span class="token punctuation">{</span>netloc_parts<span class="token punctuation">.</span>password<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    主机名: </span><span class="token interpolation"><span class="token punctuation">{</span>netloc_parts<span class="token punctuation">.</span>hostname<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    端口: </span><span class="token interpolation"><span class="token punctuation">{</span>netloc_parts<span class="token punctuation">.</span>port<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 构建URL</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  构建URL:&quot;</span><span class="token punctuation">)</span>
    url_parts <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'scheme'</span><span class="token punctuation">:</span> <span class="token string">'https'</span><span class="token punctuation">,</span>
        <span class="token string">'netloc'</span><span class="token punctuation">:</span> <span class="token string">'api.example.com'</span><span class="token punctuation">,</span>
        <span class="token string">'path'</span><span class="token punctuation">:</span> <span class="token string">'/v1/users'</span><span class="token punctuation">,</span>
        <span class="token string">'params'</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        <span class="token string">'query'</span><span class="token punctuation">:</span> <span class="token string">'page=1&amp;limit=10'</span><span class="token punctuation">,</span>
        <span class="token string">'fragment'</span><span class="token punctuation">:</span> <span class="token string">''</span>
    <span class="token punctuation">}</span>
    
    constructed_url <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urlunparse<span class="token punctuation">(</span>url_parts<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    构建的URL: </span><span class="token interpolation"><span class="token punctuation">{</span>constructed_url<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 2. 查询字符串处理</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. 查询字符串处理:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 解析查询字符串</span>
    query_string <span class="token operator">=</span> <span class="token string">&quot;name=张三&amp;age=25&amp;city=北京&amp;hobby=编程&amp;hobby=阅读&quot;</span>
    parsed_query <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>parse_qs<span class="token punctuation">(</span>query_string<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  查询字符串: </span><span class="token interpolation"><span class="token punctuation">{</span>query_string<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  解析结果: </span><span class="token interpolation"><span class="token punctuation">{</span>parsed_query<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 构建查询字符串</span>
    query_dict <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'search'</span><span class="token punctuation">:</span> <span class="token string">'机器学习'</span><span class="token punctuation">,</span>
        <span class="token string">'category'</span><span class="token punctuation">:</span> <span class="token string">'technology'</span><span class="token punctuation">,</span>
        <span class="token string">'sort'</span><span class="token punctuation">:</span> <span class="token string">'date'</span><span class="token punctuation">,</span>
        <span class="token string">'page'</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
    
    encoded_query <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urlencode<span class="token punctuation">(</span>query_dict<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  查询字典: </span><span class="token interpolation"><span class="token punctuation">{</span>query_dict<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  编码结果: </span><span class="token interpolation"><span class="token punctuation">{</span>encoded_query<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 3. URL编码和解码</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. URL编码和解码:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># URL编码</span>
    test_strings <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string">'你好世界'</span><span class="token punctuation">,</span>
        <span class="token string">'hello world!'</span><span class="token punctuation">,</span>
        <span class="token string">'user@example.com'</span><span class="token punctuation">,</span>
        <span class="token string">'path/to/file with spaces.txt'</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> text <span class="token keyword">in</span> test_strings<span class="token punctuation">:</span>
        encoded <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>quote<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
        decoded <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>unquote<span class="token punctuation">(</span>encoded<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  原文: </span><span class="token interpolation"><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  编码: </span><span class="token interpolation"><span class="token punctuation">{</span>encoded<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  解码: </span><span class="token interpolation"><span class="token punctuation">{</span>decoded<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 4. HTTP请求（基础）</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. HTTP请求示例:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">safe_request</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;安全的HTTP请求&quot;&quot;&quot;</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token comment"># 创建请求对象</span>
            req <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
            req<span class="token punctuation">.</span>add_header<span class="token punctuation">(</span><span class="token string">'User-Agent'</span><span class="token punctuation">,</span> <span class="token string">'Python-urllib/3.x'</span><span class="token punctuation">)</span>
            
            <span class="token comment"># 发送请求</span>
            <span class="token keyword">with</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>req<span class="token punctuation">,</span> timeout<span class="token operator">=</span>timeout<span class="token punctuation">)</span> <span class="token keyword">as</span> response<span class="token punctuation">:</span>
                <span class="token comment"># 获取响应信息</span>
                info <span class="token operator">=</span> <span class="token punctuation">{</span>
                    <span class="token string">'status'</span><span class="token punctuation">:</span> response<span class="token punctuation">.</span>getcode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token string">'headers'</span><span class="token punctuation">:</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token string">'url'</span><span class="token punctuation">:</span> response<span class="token punctuation">.</span>geturl<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token string">'content_length'</span><span class="token punctuation">:</span> <span class="token builtin">len</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">return</span> info
                
        <span class="token keyword">except</span> urllib<span class="token punctuation">.</span>error<span class="token punctuation">.</span>HTTPError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token string">'error'</span><span class="token punctuation">:</span> <span class="token string-interpolation"><span class="token string">f'HTTP错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">.</span>code<span class="token punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">.</span>reason<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">}</span>
        <span class="token keyword">except</span> urllib<span class="token punctuation">.</span>error<span class="token punctuation">.</span>URLError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token string">'error'</span><span class="token punctuation">:</span> <span class="token string-interpolation"><span class="token string">f'URL错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">.</span>reason<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">}</span>
        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token string">'error'</span><span class="token punctuation">:</span> <span class="token string-interpolation"><span class="token string">f'其他错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">}</span>
    
    <span class="token comment"># 测试请求（使用公共API）</span>
    test_api_url <span class="token operator">=</span> <span class="token string">&quot;https://httpbin.org/get&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  测试URL: </span><span class="token interpolation"><span class="token punctuation">{</span>test_api_url<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    result <span class="token operator">=</span> safe_request<span class="token punctuation">(</span>test_api_url<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token string">'error'</span> <span class="token keyword">in</span> result<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  请求失败: </span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  状态码: </span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">[</span><span class="token string">'status'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  内容长度: </span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">[</span><span class="token string">'content_length'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string"> 字节&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  部分响应头:&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> <span class="token builtin">list</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">'headers'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 5. 实用URL工具函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. 实用URL工具函数:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">is_valid_url</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;检查URL是否有效&quot;&quot;&quot;</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            result <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urlparse<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>result<span class="token punctuation">.</span>scheme<span class="token punctuation">,</span> result<span class="token punctuation">.</span>netloc<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">False</span>
    
    <span class="token keyword">def</span> <span class="token function">join_url</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;连接URL路径&quot;&quot;&quot;</span>
        <span class="token keyword">return</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urljoin<span class="token punctuation">(</span>base<span class="token punctuation">,</span> path<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">extract_domain</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;提取域名&quot;&quot;&quot;</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            parsed <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urlparse<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
            <span class="token keyword">return</span> parsed<span class="token punctuation">.</span>netloc<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  <span class="token comment"># 移除端口</span>
        <span class="token keyword">except</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
    
    <span class="token keyword">def</span> <span class="token function">add_query_params</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> params<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;向URL添加查询参数&quot;&quot;&quot;</span>
        parsed <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urlparse<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
        query_dict <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>parse_qs<span class="token punctuation">(</span>parsed<span class="token punctuation">.</span>query<span class="token punctuation">)</span>
        query_dict<span class="token punctuation">.</span>update<span class="token punctuation">(</span>params<span class="token punctuation">)</span>
        
        <span class="token comment"># 重新构建查询字符串</span>
        new_query <span class="token operator">=</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urlencode<span class="token punctuation">(</span>query_dict<span class="token punctuation">,</span> doseq<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 重新构建URL</span>
        new_parsed <span class="token operator">=</span> parsed<span class="token punctuation">.</span>_replace<span class="token punctuation">(</span>query<span class="token operator">=</span>new_query<span class="token punctuation">)</span>
        <span class="token keyword">return</span> urllib<span class="token punctuation">.</span>parse<span class="token punctuation">.</span>urlunparse<span class="token punctuation">(</span>new_parsed<span class="token punctuation">)</span>
    
    <span class="token comment"># 测试工具函数</span>
    test_cases <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string">'https://www.example.com'</span><span class="token punctuation">,</span>
        <span class="token string">'invalid-url'</span><span class="token punctuation">,</span>
        <span class="token string">'http://localhost:8080/api'</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  URL有效性检查:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> url <span class="token keyword">in</span> test_cases<span class="token punctuation">:</span>
        valid <span class="token operator">=</span> is_valid_url<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>url<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token string">'有效'</span> <span class="token keyword">if</span> valid <span class="token keyword">else</span> <span class="token string">'无效'</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  URL路径连接:&quot;</span><span class="token punctuation">)</span>
    base_url <span class="token operator">=</span> <span class="token string">&quot;https://api.example.com/v1&quot;</span>
    paths <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;/users&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;posts/123&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;../admin/settings&quot;</span><span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> path <span class="token keyword">in</span> paths<span class="token punctuation">:</span>
        joined <span class="token operator">=</span> join_url<span class="token punctuation">(</span>base_url<span class="token punctuation">,</span> path<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>base_url<span class="token punctuation">}</span></span><span class="token string"> + </span><span class="token interpolation"><span class="token punctuation">{</span>path<span class="token punctuation">}</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token punctuation">{</span>joined<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  域名提取:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> url <span class="token keyword">in</span> test_urls<span class="token punctuation">:</span>
        domain <span class="token operator">=</span> extract_domain<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>url<span class="token punctuation">}</span></span><span class="token string"> -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span>domain<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  添加查询参数:&quot;</span><span class="token punctuation">)</span>
    original_url <span class="token operator">=</span> <span class="token string">&quot;https://search.example.com?q=python&quot;</span>
    new_params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'page'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'sort'</span><span class="token punctuation">:</span> <span class="token string">'date'</span><span class="token punctuation">}</span>
    modified_url <span class="token operator">=</span> add_query_params<span class="token punctuation">(</span>original_url<span class="token punctuation">,</span> new_params<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    原URL: </span><span class="token interpolation"><span class="token punctuation">{</span>original_url<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    新参数: </span><span class="token interpolation"><span class="token punctuation">{</span>new_params<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    修改后: </span><span class="token interpolation"><span class="token punctuation">{</span>modified_url<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

<span class="token comment"># 运行urllib模块演示</span>
urllib_module_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="七、文件处理模块"><a href="#七、文件处理模块" class="header-anchor">#</a> 七、文件处理模块</h2> <h3 id="_7-1-pathlib模块-现代路径处理"><a href="#_7-1-pathlib模块-现代路径处理" class="header-anchor">#</a> 7.1 pathlib模块 - 现代路径处理</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path
<span class="token keyword">import</span> os
<span class="token keyword">import</span> tempfile
<span class="token keyword">import</span> shutil

<span class="token keyword">def</span> <span class="token function">pathlib_module_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;pathlib模块演示&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== pathlib模块演示 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 1. 路径创建和基本操作</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. 路径创建和基本操作:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 创建路径对象</span>
    current_dir <span class="token operator">=</span> Path<span class="token punctuation">.</span>cwd<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 当前工作目录</span>
    home_dir <span class="token operator">=</span> Path<span class="token punctuation">.</span>home<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># 用户主目录</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  当前目录: </span><span class="token interpolation"><span class="token punctuation">{</span>current_dir<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  用户主目录: </span><span class="token interpolation"><span class="token punctuation">{</span>home_dir<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 路径构建</span>
    project_path <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">&quot;projects&quot;</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token string">&quot;my_app&quot;</span> <span class="token operator">/</span> <span class="token string">&quot;src&quot;</span> <span class="token operator">/</span> <span class="token string">&quot;main.py&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  构建的路径: </span><span class="token interpolation"><span class="token punctuation">{</span>project_path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 绝对路径和相对路径</span>
    abs_path <span class="token operator">=</span> project_path<span class="token punctuation">.</span>resolve<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  绝对路径: </span><span class="token interpolation"><span class="token punctuation">{</span>abs_path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  是否绝对路径: </span><span class="token interpolation"><span class="token punctuation">{</span>project_path<span class="token punctuation">.</span>is_absolute<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 2. 路径属性和信息</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. 路径属性和信息:&quot;</span><span class="token punctuation">)</span>
    
    test_path <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">&quot;documents/reports/annual_report_2024.pdf&quot;</span><span class="token punctuation">)</span>
    
    path_info <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'完整路径'</span><span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">(</span>test_path<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'文件名'</span><span class="token punctuation">:</span> test_path<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
        <span class="token string">'文件名(无扩展名)'</span><span class="token punctuation">:</span> test_path<span class="token punctuation">.</span>stem<span class="token punctuation">,</span>
        <span class="token string">'扩展名'</span><span class="token punctuation">:</span> test_path<span class="token punctuation">.</span>suffix<span class="token punctuation">,</span>
        <span class="token string">'所有扩展名'</span><span class="token punctuation">:</span> test_path<span class="token punctuation">.</span>suffixes<span class="token punctuation">,</span>
        <span class="token string">'父目录'</span><span class="token punctuation">:</span> test_path<span class="token punctuation">.</span>parent<span class="token punctuation">,</span>
        <span class="token string">'所有父目录'</span><span class="token punctuation">:</span> <span class="token builtin">list</span><span class="token punctuation">(</span>test_path<span class="token punctuation">.</span>parents<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'路径部分'</span><span class="token punctuation">:</span> test_path<span class="token punctuation">.</span>parts<span class="token punctuation">,</span>
        <span class="token string">'锚点'</span><span class="token punctuation">:</span> test_path<span class="token punctuation">.</span>anchor
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> path_info<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 3. 路径操作方法</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. 路径操作方法:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 路径连接</span>
    base <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">)</span>
    sub_paths <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;users&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;profiles&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;user_123.json&quot;</span><span class="token punctuation">]</span>
    
    full_path <span class="token operator">=</span> base
    <span class="token keyword">for</span> part <span class="token keyword">in</span> sub_paths<span class="token punctuation">:</span>
        full_path <span class="token operator">=</span> full_path <span class="token operator">/</span> part
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  路径连接: </span><span class="token interpolation"><span class="token punctuation">{</span>full_path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 路径替换</span>
    original <span class="token operator">=</span> Path<span class="token punctuation">(</span><span class="token string">&quot;backup/2023/data.txt&quot;</span><span class="token punctuation">)</span>
    new_year <span class="token operator">=</span> original<span class="token punctuation">.</span>with_name<span class="token punctuation">(</span><span class="token string">&quot;2024&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>parent <span class="token operator">/</span> <span class="token string">&quot;data.txt&quot;</span>
    new_ext <span class="token operator">=</span> original<span class="token punctuation">.</span>with_suffix<span class="token punctuation">(</span><span class="token string">&quot;.json&quot;</span><span class="token punctuation">)</span>
    new_stem <span class="token operator">=</span> original<span class="token punctuation">.</span>with_stem<span class="token punctuation">(</span><span class="token string">&quot;backup_data&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  原路径: </span><span class="token interpolation"><span class="token punctuation">{</span>original<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  替换年份: </span><span class="token interpolation"><span class="token punctuation">{</span>new_year<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  替换扩展名: </span><span class="token interpolation"><span class="token punctuation">{</span>new_ext<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  替换文件名: </span><span class="token interpolation"><span class="token punctuation">{</span>new_stem<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 4. 文件系统操作</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. 文件系统操作:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 创建临时目录进行演示</span>
    <span class="token keyword">with</span> tempfile<span class="token punctuation">.</span>TemporaryDirectory<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> temp_dir<span class="token punctuation">:</span>
        temp_path <span class="token operator">=</span> Path<span class="token punctuation">(</span>temp_dir<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  临时目录: </span><span class="token interpolation"><span class="token punctuation">{</span>temp_path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 创建目录结构</span>
        project_dir <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;test_project&quot;</span>
        src_dir <span class="token operator">=</span> project_dir <span class="token operator">/</span> <span class="token string">&quot;src&quot;</span>
        docs_dir <span class="token operator">=</span> project_dir <span class="token operator">/</span> <span class="token string">&quot;docs&quot;</span>
        
        <span class="token comment"># 创建目录</span>
        src_dir<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>parents<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        docs_dir<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>parents<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  创建目录: </span><span class="token interpolation"><span class="token punctuation">{</span>src_dir<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  创建目录: </span><span class="token interpolation"><span class="token punctuation">{</span>docs_dir<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 创建文件</span>
        main_file <span class="token operator">=</span> src_dir <span class="token operator">/</span> <span class="token string">&quot;main.py&quot;</span>
        readme_file <span class="token operator">=</span> project_dir <span class="token operator">/</span> <span class="token string">&quot;README.md&quot;</span>
        
        main_file<span class="token punctuation">.</span>write_text<span class="token punctuation">(</span><span class="token string">&quot;print('Hello, World!')\n&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        readme_file<span class="token punctuation">.</span>write_text<span class="token punctuation">(</span><span class="token string">&quot;# Test Project\n\nThis is a test project.\n&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  创建文件: </span><span class="token interpolation"><span class="token punctuation">{</span>main_file<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  创建文件: </span><span class="token interpolation"><span class="token punctuation">{</span>readme_file<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 文件信息</span>
        <span class="token keyword">if</span> main_file<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            stat <span class="token operator">=</span> main_file<span class="token punctuation">.</span>stat<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  文件信息 (</span><span class="token interpolation"><span class="token punctuation">{</span>main_file<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">):&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    大小: </span><span class="token interpolation"><span class="token punctuation">{</span>stat<span class="token punctuation">.</span>st_size<span class="token punctuation">}</span></span><span class="token string"> 字节&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    修改时间: </span><span class="token interpolation"><span class="token punctuation">{</span>stat<span class="token punctuation">.</span>st_mtime<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    是否文件: </span><span class="token interpolation"><span class="token punctuation">{</span>main_file<span class="token punctuation">.</span>is_file<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    是否目录: </span><span class="token interpolation"><span class="token punctuation">{</span>main_file<span class="token punctuation">.</span>is_dir<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 读取文件内容</span>
        content <span class="token operator">=</span> main_file<span class="token punctuation">.</span>read_text<span class="token punctuation">(</span>encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  文件内容: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">repr</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 5. 目录遍历</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. 目录遍历:&quot;</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 列出目录内容</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  项目目录内容:&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> item <span class="token keyword">in</span> project_dir<span class="token punctuation">.</span>iterdir<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            item_type <span class="token operator">=</span> <span class="token string">&quot;目录&quot;</span> <span class="token keyword">if</span> item<span class="token punctuation">.</span>is_dir<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">&quot;文件&quot;</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>item_type<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 递归查找文件</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  递归查找所有.py文件:&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> py_file <span class="token keyword">in</span> project_dir<span class="token punctuation">.</span>rglob<span class="token punctuation">(</span><span class="token string">&quot;*.py&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>py_file<span class="token punctuation">.</span>relative_to<span class="token punctuation">(</span>project_dir<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 模式匹配</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  模式匹配示例:&quot;</span></span><span class="token punctuation">)</span>
        test_files <span class="token operator">=</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;main.py&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;test_main.py&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;utils.py&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;README.md&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;config.json&quot;</span>
        <span class="token punctuation">]</span>
        
        patterns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;*.py&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;test_*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*.md&quot;</span><span class="token punctuation">]</span>
        
        <span class="token keyword">for</span> pattern <span class="token keyword">in</span> patterns<span class="token punctuation">:</span>
            matches <span class="token operator">=</span> <span class="token punctuation">[</span>f <span class="token keyword">for</span> f <span class="token keyword">in</span> test_files <span class="token keyword">if</span> Path<span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">]</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    模式 '</span><span class="token interpolation"><span class="token punctuation">{</span>pattern<span class="token punctuation">}</span></span><span class="token string">': </span><span class="token interpolation"><span class="token punctuation">{</span>matches<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 6. 实用路径工具函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n6. 实用路径工具函数:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">ensure_directory</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;确保目录存在&quot;&quot;&quot;</span>
        path <span class="token operator">=</span> Path<span class="token punctuation">(</span>path<span class="token punctuation">)</span>
        path<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>parents<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> path
    
    <span class="token keyword">def</span> <span class="token function">safe_file_name</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;生成安全的文件名&quot;&quot;&quot;</span>
        <span class="token comment"># 移除或替换不安全字符</span>
        unsafe_chars <span class="token operator">=</span> <span class="token string">'&lt;&gt;:&quot;/\\|?*'</span>
        safe_name <span class="token operator">=</span> name
        <span class="token keyword">for</span> char <span class="token keyword">in</span> unsafe_chars<span class="token punctuation">:</span>
            safe_name <span class="token operator">=</span> safe_name<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>char<span class="token punctuation">,</span> <span class="token string">'_'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> safe_name
    
    <span class="token keyword">def</span> <span class="token function">get_unique_filename</span><span class="token punctuation">(</span>directory<span class="token punctuation">,</span> base_name<span class="token punctuation">,</span> extension<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;获取唯一文件名&quot;&quot;&quot;</span>
        directory <span class="token operator">=</span> Path<span class="token punctuation">(</span>directory<span class="token punctuation">)</span>
        counter <span class="token operator">=</span> <span class="token number">0</span>
        
        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> counter <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
                filename <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>base_name<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>extension<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                filename <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>base_name<span class="token punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token punctuation">{</span>counter<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>extension<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
            
            full_path <span class="token operator">=</span> directory <span class="token operator">/</span> filename
            <span class="token keyword">if</span> <span class="token keyword">not</span> full_path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> full_path
            counter <span class="token operator">+=</span> <span class="token number">1</span>
    
    <span class="token keyword">def</span> <span class="token function">calculate_directory_size</span><span class="token punctuation">(</span>directory<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;计算目录大小&quot;&quot;&quot;</span>
        directory <span class="token operator">=</span> Path<span class="token punctuation">(</span>directory<span class="token punctuation">)</span>
        total_size <span class="token operator">=</span> <span class="token number">0</span>
        
        <span class="token keyword">for</span> file_path <span class="token keyword">in</span> directory<span class="token punctuation">.</span>rglob<span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> file_path<span class="token punctuation">.</span>is_file<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                total_size <span class="token operator">+=</span> file_path<span class="token punctuation">.</span>stat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>st_size
        
        <span class="token keyword">return</span> total_size
    
    <span class="token keyword">def</span> <span class="token function">find_files_by_extension</span><span class="token punctuation">(</span>directory<span class="token punctuation">,</span> extension<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;按扩展名查找文件&quot;&quot;&quot;</span>
        directory <span class="token operator">=</span> Path<span class="token punctuation">(</span>directory<span class="token punctuation">)</span>
        pattern <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;*.</span><span class="token interpolation"><span class="token punctuation">{</span>extension<span class="token punctuation">.</span>lstrip<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
        <span class="token keyword">return</span> <span class="token builtin">list</span><span class="token punctuation">(</span>directory<span class="token punctuation">.</span>rglob<span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 测试工具函数</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  路径工具函数测试:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 安全文件名</span>
    unsafe_name <span class="token operator">=</span> <span class="token string">&quot;report&lt;2024&gt;:data/analysis.txt&quot;</span>
    safe_name <span class="token operator">=</span> safe_file_name<span class="token punctuation">(</span>unsafe_name<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    不安全文件名: </span><span class="token interpolation"><span class="token punctuation">{</span>unsafe_name<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    安全文件名: </span><span class="token interpolation"><span class="token punctuation">{</span>safe_name<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 当前目录大小</span>
    current_size <span class="token operator">=</span> calculate_directory_size<span class="token punctuation">(</span>Path<span class="token punctuation">.</span>cwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    当前目录大小: </span><span class="token interpolation"><span class="token punctuation">{</span>current_size<span class="token punctuation">:</span><span class="token format-spec">,</span><span class="token punctuation">}</span></span><span class="token string"> 字节&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 查找Python文件</span>
    py_files <span class="token operator">=</span> find_files_by_extension<span class="token punctuation">(</span>Path<span class="token punctuation">.</span>cwd<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'.py'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    找到 </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>py_files<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string"> 个Python文件&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 7. 跨平台路径处理</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n7. 跨平台路径处理:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 路径分隔符</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  当前系统路径分隔符: </span><span class="token interpolation"><span class="token punctuation">{</span>os<span class="token punctuation">.</span>sep<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  pathlib自动处理分隔符&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 不同平台的路径示例</span>
    unix_style <span class="token operator">=</span> <span class="token string">&quot;home/user/documents/file.txt&quot;</span>
    windows_style <span class="token operator">=</span> <span class="token string">&quot;C:\\Users\\User\\Documents\\file.txt&quot;</span>
    
    unix_path <span class="token operator">=</span> Path<span class="token punctuation">(</span>unix_style<span class="token punctuation">)</span>
    windows_path <span class="token operator">=</span> Path<span class="token punctuation">(</span>windows_style<span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  Unix风格路径: </span><span class="token interpolation"><span class="token punctuation">{</span>unix_path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  Windows风格路径: </span><span class="token interpolation"><span class="token punctuation">{</span>windows_path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  pathlib统一处理: </span><span class="token interpolation"><span class="token punctuation">{</span>unix_path<span class="token punctuation">.</span>parts<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

<span class="token comment"># 运行pathlib模块演示</span>
pathlib_module_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_7-2-shutil模块-高级文件操作"><a href="#_7-2-shutil模块-高级文件操作" class="header-anchor">#</a> 7.2 shutil模块 - 高级文件操作</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> shutil
<span class="token keyword">import</span> tempfile
<span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path
<span class="token keyword">import</span> zipfile
<span class="token keyword">import</span> tarfile

<span class="token keyword">def</span> <span class="token function">shutil_module_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;shutil模块演示&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== shutil模块演示 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 创建临时目录进行演示</span>
    <span class="token keyword">with</span> tempfile<span class="token punctuation">.</span>TemporaryDirectory<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> temp_dir<span class="token punctuation">:</span>
        temp_path <span class="token operator">=</span> Path<span class="token punctuation">(</span>temp_dir<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;临时目录: </span><span class="token interpolation"><span class="token punctuation">{</span>temp_path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 1. 文件复制操作</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. 文件复制操作:&quot;</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 创建源文件</span>
        source_file <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;source.txt&quot;</span>
        source_file<span class="token punctuation">.</span>write_text<span class="token punctuation">(</span><span class="token string">&quot;这是源文件的内容\n包含多行文本\n用于测试复制功能&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 复制文件（保留元数据）</span>
        dest1 <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;copy1.txt&quot;</span>
        shutil<span class="token punctuation">.</span>copy2<span class="token punctuation">(</span>source_file<span class="token punctuation">,</span> dest1<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  copy2复制: </span><span class="token interpolation"><span class="token punctuation">{</span>source_file<span class="token punctuation">}</span></span><span class="token string"> -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span>dest1<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 复制文件（不保留元数据）</span>
        dest2 <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;copy2.txt&quot;</span>
        shutil<span class="token punctuation">.</span>copy<span class="token punctuation">(</span>source_file<span class="token punctuation">,</span> dest2<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  copy复制: </span><span class="token interpolation"><span class="token punctuation">{</span>source_file<span class="token punctuation">}</span></span><span class="token string"> -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span>dest2<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 复制文件内容（不复制权限）</span>
        dest3 <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;copy3.txt&quot;</span>
        shutil<span class="token punctuation">.</span>copyfile<span class="token punctuation">(</span>source_file<span class="token punctuation">,</span> dest3<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  copyfile复制: </span><span class="token interpolation"><span class="token punctuation">{</span>source_file<span class="token punctuation">}</span></span><span class="token string"> -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span>dest3<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 验证复制结果</span>
        <span class="token keyword">for</span> dest <span class="token keyword">in</span> <span class="token punctuation">[</span>dest1<span class="token punctuation">,</span> dest2<span class="token punctuation">,</span> dest3<span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> dest<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                size <span class="token operator">=</span> dest<span class="token punctuation">.</span>stat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>st_size
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>dest<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>size<span class="token punctuation">}</span></span><span class="token string"> 字节&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 2. 目录复制操作</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. 目录复制操作:&quot;</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 创建源目录结构</span>
        source_dir <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;source_project&quot;</span>
        <span class="token punctuation">(</span>source_dir <span class="token operator">/</span> <span class="token string">&quot;src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>parents<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        <span class="token punctuation">(</span>source_dir <span class="token operator">/</span> <span class="token string">&quot;docs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>parents<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        <span class="token punctuation">(</span>source_dir <span class="token operator">/</span> <span class="token string">&quot;tests&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>parents<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 创建一些文件</span>
        <span class="token punctuation">(</span>source_dir <span class="token operator">/</span> <span class="token string">&quot;README.md&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>write_text<span class="token punctuation">(</span><span class="token string">&quot;# 项目说明&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        <span class="token punctuation">(</span>source_dir <span class="token operator">/</span> <span class="token string">&quot;src&quot;</span> <span class="token operator">/</span> <span class="token string">&quot;main.py&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>write_text<span class="token punctuation">(</span><span class="token string">&quot;print('Hello')&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        <span class="token punctuation">(</span>source_dir <span class="token operator">/</span> <span class="token string">&quot;tests&quot;</span> <span class="token operator">/</span> <span class="token string">&quot;test_main.py&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>write_text<span class="token punctuation">(</span><span class="token string">&quot;# 测试文件&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  创建源目录: </span><span class="token interpolation"><span class="token punctuation">{</span>source_dir<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 复制整个目录树</span>
        dest_dir <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;copied_project&quot;</span>
        shutil<span class="token punctuation">.</span>copytree<span class="token punctuation">(</span>source_dir<span class="token punctuation">,</span> dest_dir<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  copytree复制: </span><span class="token interpolation"><span class="token punctuation">{</span>source_dir<span class="token punctuation">}</span></span><span class="token string"> -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span>dest_dir<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 验证目录复制</span>
        <span class="token keyword">def</span> <span class="token function">count_files</span><span class="token punctuation">(</span>directory<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>Path<span class="token punctuation">(</span>directory<span class="token punctuation">)</span><span class="token punctuation">.</span>rglob<span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
        source_count <span class="token operator">=</span> count_files<span class="token punctuation">(</span>source_dir<span class="token punctuation">)</span>
        dest_count <span class="token operator">=</span> count_files<span class="token punctuation">(</span>dest_dir<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    源目录文件数: </span><span class="token interpolation"><span class="token punctuation">{</span>source_count<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    目标目录文件数: </span><span class="token interpolation"><span class="token punctuation">{</span>dest_count<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 3. 文件移动操作</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. 文件移动操作:&quot;</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 创建要移动的文件</span>
        move_source <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;to_move.txt&quot;</span>
        move_source<span class="token punctuation">.</span>write_text<span class="token punctuation">(</span><span class="token string">&quot;要移动的文件&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 移动文件</span>
        move_dest <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;moved&quot;</span> <span class="token operator">/</span> <span class="token string">&quot;moved_file.txt&quot;</span>
        move_dest<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        
        shutil<span class="token punctuation">.</span>move<span class="token punctuation">(</span>move_source<span class="token punctuation">,</span> move_dest<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  移动文件: </span><span class="token interpolation"><span class="token punctuation">{</span>move_source<span class="token punctuation">}</span></span><span class="token string"> -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span>move_dest<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  源文件存在: </span><span class="token interpolation"><span class="token punctuation">{</span>move_source<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  目标文件存在: </span><span class="token interpolation"><span class="token punctuation">{</span>move_dest<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 4. 文件删除操作</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. 文件删除操作:&quot;</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 创建要删除的目录</span>
        delete_dir <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;to_delete&quot;</span>
        delete_dir<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">(</span>delete_dir <span class="token operator">/</span> <span class="token string">&quot;file1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>write_text<span class="token punctuation">(</span><span class="token string">&quot;文件1&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        <span class="token punctuation">(</span>delete_dir <span class="token operator">/</span> <span class="token string">&quot;file2.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>write_text<span class="token punctuation">(</span><span class="token string">&quot;文件2&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  创建目录: </span><span class="token interpolation"><span class="token punctuation">{</span>delete_dir<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  目录存在: </span><span class="token interpolation"><span class="token punctuation">{</span>delete_dir<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 删除整个目录树</span>
        shutil<span class="token punctuation">.</span>rmtree<span class="token punctuation">(</span>delete_dir<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  删除目录: </span><span class="token interpolation"><span class="token punctuation">{</span>delete_dir<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  目录存在: </span><span class="token interpolation"><span class="token punctuation">{</span>delete_dir<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 5. 磁盘使用情况</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. 磁盘使用情况:&quot;</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 获取磁盘使用情况</span>
        disk_usage <span class="token operator">=</span> shutil<span class="token punctuation">.</span>disk_usage<span class="token punctuation">(</span>temp_path<span class="token punctuation">)</span>
        
        <span class="token keyword">def</span> <span class="token function">format_bytes</span><span class="token punctuation">(</span>bytes_value<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token triple-quoted-string string">&quot;&quot;&quot;格式化字节数&quot;&quot;&quot;</span>
            <span class="token keyword">for</span> unit <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'KB'</span><span class="token punctuation">,</span> <span class="token string">'MB'</span><span class="token punctuation">,</span> <span class="token string">'GB'</span><span class="token punctuation">,</span> <span class="token string">'TB'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> bytes_value <span class="token operator">&lt;</span> <span class="token number">1024.0</span><span class="token punctuation">:</span>
                    <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>bytes_value<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">{</span>unit<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
                bytes_value <span class="token operator">/=</span> <span class="token number">1024.0</span>
            <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>bytes_value<span class="token punctuation">:</span><span class="token format-spec">.2f</span><span class="token punctuation">}</span></span><span class="token string"> PB&quot;</span></span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  总空间: </span><span class="token interpolation"><span class="token punctuation">{</span>format_bytes<span class="token punctuation">(</span>disk_usage<span class="token punctuation">.</span>total<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  已使用: </span><span class="token interpolation"><span class="token punctuation">{</span>format_bytes<span class="token punctuation">(</span>disk_usage<span class="token punctuation">.</span>used<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  可用空间: </span><span class="token interpolation"><span class="token punctuation">{</span>format_bytes<span class="token punctuation">(</span>disk_usage<span class="token punctuation">.</span>free<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  使用率: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token punctuation">(</span>disk_usage<span class="token punctuation">.</span>used <span class="token operator">/</span> disk_usage<span class="token punctuation">.</span>total <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token format-spec">.1f</span><span class="token punctuation">}</span></span><span class="token string">%&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 6. 文件查找和过滤</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n6. 文件查找和过滤:&quot;</span><span class="token punctuation">)</span>
        
        <span class="token keyword">def</span> <span class="token function">find_files_by_size</span><span class="token punctuation">(</span>directory<span class="token punctuation">,</span> min_size<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> max_size<span class="token operator">=</span><span class="token builtin">float</span><span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token triple-quoted-string string">&quot;&quot;&quot;按大小查找文件&quot;&quot;&quot;</span>
            found_files <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
            <span class="token keyword">for</span> file_path <span class="token keyword">in</span> Path<span class="token punctuation">(</span>directory<span class="token punctuation">)</span><span class="token punctuation">.</span>rglob<span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> file_path<span class="token punctuation">.</span>is_file<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    size <span class="token operator">=</span> file_path<span class="token punctuation">.</span>stat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>st_size
                    <span class="token keyword">if</span> min_size <span class="token operator">&lt;=</span> size <span class="token operator">&lt;=</span> max_size<span class="token punctuation">:</span>
                        found_files<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> found_files
        
        <span class="token keyword">def</span> <span class="token function">find_large_files</span><span class="token punctuation">(</span>directory<span class="token punctuation">,</span> threshold_mb<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token triple-quoted-string string">&quot;&quot;&quot;查找大文件&quot;&quot;&quot;</span>
            threshold_bytes <span class="token operator">=</span> threshold_mb <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span>
            <span class="token keyword">return</span> find_files_by_size<span class="token punctuation">(</span>directory<span class="token punctuation">,</span> min_size<span class="token operator">=</span>threshold_bytes<span class="token punctuation">)</span>
        
        <span class="token keyword">def</span> <span class="token function">find_empty_files</span><span class="token punctuation">(</span>directory<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token triple-quoted-string string">&quot;&quot;&quot;查找空文件&quot;&quot;&quot;</span>
            <span class="token keyword">return</span> find_files_by_size<span class="token punctuation">(</span>directory<span class="token punctuation">,</span> max_size<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 创建不同大小的测试文件</span>
        test_files_dir <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;test_files&quot;</span>
        test_files_dir<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token punctuation">(</span>test_files_dir <span class="token operator">/</span> <span class="token string">&quot;empty.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>write_text<span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        <span class="token punctuation">(</span>test_files_dir <span class="token operator">/</span> <span class="token string">&quot;small.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>write_text<span class="token punctuation">(</span><span class="token string">&quot;小文件&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        <span class="token punctuation">(</span>test_files_dir <span class="token operator">/</span> <span class="token string">&quot;medium.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>write_text<span class="token punctuation">(</span><span class="token string">&quot;中等文件&quot;</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 查找文件</span>
        all_files <span class="token operator">=</span> find_files_by_size<span class="token punctuation">(</span>test_files_dir<span class="token punctuation">)</span>
        empty_files <span class="token operator">=</span> find_empty_files<span class="token punctuation">(</span>test_files_dir<span class="token punctuation">)</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  测试目录中的所有文件:&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> file_path<span class="token punctuation">,</span> size <span class="token keyword">in</span> all_files<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>file_path<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>size<span class="token punctuation">}</span></span><span class="token string"> 字节&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  空文件: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>empty_files<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string"> 个&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 7. 压缩和解压缩</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n7. 压缩和解压缩:&quot;</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 创建要压缩的目录</span>
        archive_source <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;to_archive&quot;</span>
        archive_source<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            file_path <span class="token operator">=</span> archive_source <span class="token operator">/</span> <span class="token string-interpolation"><span class="token string">f&quot;file_</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">.txt&quot;</span></span>
            file_path<span class="token punctuation">.</span>write_text<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;这是文件 </span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string"> 的内容\n&quot;</span></span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        
        <span class="token comment"># 创建ZIP压缩包</span>
        zip_path <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;archive.zip&quot;</span>
        shutil<span class="token punctuation">.</span>make_archive<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>zip_path<span class="token punctuation">.</span>with_suffix<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'zip'</span><span class="token punctuation">,</span> archive_source<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  创建ZIP压缩包: </span><span class="token interpolation"><span class="token punctuation">{</span>zip_path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 创建TAR压缩包</span>
        tar_path <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;archive.tar.gz&quot;</span>
        shutil<span class="token punctuation">.</span>make_archive<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span>tar_path<span class="token punctuation">.</span>with_suffix<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span>with_suffix<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'gztar'</span><span class="token punctuation">,</span> archive_source<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  创建TAR压缩包: </span><span class="token interpolation"><span class="token punctuation">{</span>tar_path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 解压缩</span>
        extract_dir <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;extracted&quot;</span>
        extract_dir<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        shutil<span class="token punctuation">.</span>unpack_archive<span class="token punctuation">(</span>zip_path<span class="token punctuation">,</span> extract_dir <span class="token operator">/</span> <span class="token string">&quot;from_zip&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  解压ZIP到: </span><span class="token interpolation"><span class="token punctuation">{</span>extract_dir <span class="token operator">/</span> <span class="token string">'from_zip'</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 验证解压结果</span>
        extracted_files <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">(</span>extract_dir <span class="token operator">/</span> <span class="token string">&quot;from_zip&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>rglob<span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  解压后文件数: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>extracted_files<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 8. 实用文件操作工具</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n8. 实用文件操作工具:&quot;</span><span class="token punctuation">)</span>
        
        <span class="token keyword">def</span> <span class="token function">backup_file</span><span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> backup_dir<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token triple-quoted-string string">&quot;&quot;&quot;备份文件&quot;&quot;&quot;</span>
            file_path <span class="token operator">=</span> Path<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> file_path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">None</span>
            
            <span class="token keyword">if</span> backup_dir <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
                backup_dir <span class="token operator">=</span> file_path<span class="token punctuation">.</span>parent <span class="token operator">/</span> <span class="token string">&quot;backup&quot;</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                backup_dir <span class="token operator">=</span> Path<span class="token punctuation">(</span>backup_dir<span class="token punctuation">)</span>
            
            backup_dir<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
            
            <span class="token comment"># 生成备份文件名（包含时间戳）</span>
            <span class="token keyword">import</span> datetime
            timestamp <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">&quot;%Y%m%d_%H%M%S&quot;</span><span class="token punctuation">)</span>
            backup_name <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>file_path<span class="token punctuation">.</span>stem<span class="token punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token punctuation">{</span>timestamp<span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span>file_path<span class="token punctuation">.</span>suffix<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
            backup_path <span class="token operator">=</span> backup_dir <span class="token operator">/</span> backup_name
            
            shutil<span class="token punctuation">.</span>copy2<span class="token punctuation">(</span>file_path<span class="token punctuation">,</span> backup_path<span class="token punctuation">)</span>
            <span class="token keyword">return</span> backup_path
        
        <span class="token keyword">def</span> <span class="token function">sync_directories</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> destination<span class="token punctuation">,</span> delete_extra<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token triple-quoted-string string">&quot;&quot;&quot;同步目录&quot;&quot;&quot;</span>
            source <span class="token operator">=</span> Path<span class="token punctuation">(</span>source<span class="token punctuation">)</span>
            destination <span class="token operator">=</span> Path<span class="token punctuation">(</span>destination<span class="token punctuation">)</span>
            
            <span class="token keyword">if</span> <span class="token keyword">not</span> source<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">False</span>
            
            <span class="token comment"># 确保目标目录存在</span>
            destination<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>parents<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
            
            <span class="token comment"># 复制新文件和更新的文件</span>
            <span class="token keyword">for</span> src_file <span class="token keyword">in</span> source<span class="token punctuation">.</span>rglob<span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> src_file<span class="token punctuation">.</span>is_file<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    rel_path <span class="token operator">=</span> src_file<span class="token punctuation">.</span>relative_to<span class="token punctuation">(</span>source<span class="token punctuation">)</span>
                    dst_file <span class="token operator">=</span> destination <span class="token operator">/</span> rel_path
                    
                    <span class="token comment"># 确保目标目录存在</span>
                    dst_file<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>parents<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
                    
                    <span class="token comment"># 检查是否需要复制</span>
                    need_copy <span class="token operator">=</span> <span class="token boolean">True</span>
                    <span class="token keyword">if</span> dst_file<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                        src_stat <span class="token operator">=</span> src_file<span class="token punctuation">.</span>stat<span class="token punctuation">(</span><span class="token punctuation">)</span>
                        dst_stat <span class="token operator">=</span> dst_file<span class="token punctuation">.</span>stat<span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token comment"># 比较修改时间和大小</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>src_stat<span class="token punctuation">.</span>st_mtime <span class="token operator">&lt;=</span> dst_stat<span class="token punctuation">.</span>st_mtime <span class="token keyword">and</span> 
                            src_stat<span class="token punctuation">.</span>st_size <span class="token operator">==</span> dst_stat<span class="token punctuation">.</span>st_size<span class="token punctuation">)</span><span class="token punctuation">:</span>
                            need_copy <span class="token operator">=</span> <span class="token boolean">False</span>
                    
                    <span class="token keyword">if</span> need_copy<span class="token punctuation">:</span>
                        shutil<span class="token punctuation">.</span>copy2<span class="token punctuation">(</span>src_file<span class="token punctuation">,</span> dst_file<span class="token punctuation">)</span>
            
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        
        <span class="token comment"># 测试工具函数</span>
        test_file <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;test_backup.txt&quot;</span>
        test_file<span class="token punctuation">.</span>write_text<span class="token punctuation">(</span><span class="token string">&quot;测试备份功能&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        
        backup_path <span class="token operator">=</span> backup_file<span class="token punctuation">(</span>test_file<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  备份文件: </span><span class="token interpolation"><span class="token punctuation">{</span>test_file<span class="token punctuation">}</span></span><span class="token string"> -&gt; </span><span class="token interpolation"><span class="token punctuation">{</span>backup_path<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token comment"># 测试目录同步</span>
        sync_source <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;sync_source&quot;</span>
        sync_dest <span class="token operator">=</span> temp_path <span class="token operator">/</span> <span class="token string">&quot;sync_dest&quot;</span>
        
        sync_source<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">(</span>sync_source <span class="token operator">/</span> <span class="token string">&quot;sync_test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>write_text<span class="token punctuation">(</span><span class="token string">&quot;同步测试&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
        
        sync_result <span class="token operator">=</span> sync_directories<span class="token punctuation">(</span>sync_source<span class="token punctuation">,</span> sync_dest<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  目录同步结果: </span><span class="token interpolation"><span class="token punctuation">{</span>sync_result<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  同步后目标目录存在: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token punctuation">(</span>sync_dest <span class="token operator">/</span> <span class="token string">'sync_test.txt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

<span class="token comment"># 运行shutil模块演示</span>
shutil_module_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="八、实用工具模块"><a href="#八、实用工具模块" class="header-anchor">#</a> 八、实用工具模块</h2> <h3 id="_8-1-collections模块-特殊容器"><a href="#_8-1-collections模块-特殊容器" class="header-anchor">#</a> 8.1 collections模块 - 特殊容器</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">from</span> collections <span class="token keyword">import</span> <span class="token punctuation">(</span>
    Counter<span class="token punctuation">,</span> defaultdict<span class="token punctuation">,</span> OrderedDict<span class="token punctuation">,</span> deque<span class="token punctuation">,</span> 
    namedtuple<span class="token punctuation">,</span> ChainMap<span class="token punctuation">,</span> UserDict<span class="token punctuation">,</span> UserList
<span class="token punctuation">)</span>
<span class="token keyword">import</span> heapq

<span class="token keyword">def</span> <span class="token function">collections_module_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;collections模块演示&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== collections模块演示 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 1. Counter - 计数器</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. Counter - 计数器:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 基本计数</span>
    text <span class="token operator">=</span> <span class="token string">&quot;hello world python programming&quot;</span>
    char_count <span class="token operator">=</span> Counter<span class="token punctuation">(</span>text<span class="token punctuation">)</span>
    word_count <span class="token operator">=</span> Counter<span class="token punctuation">(</span>text<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  文本: </span><span class="token interpolation"><span class="token punctuation">{</span>text<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  字符计数: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>char_count<span class="token punctuation">.</span>most_common<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  单词计数: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>word_count<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 列表计数</span>
    numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
    num_count <span class="token operator">=</span> Counter<span class="token punctuation">(</span>numbers<span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  数字列表: </span><span class="token interpolation"><span class="token punctuation">{</span>numbers<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  数字计数: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>num_count<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  最常见的3个: </span><span class="token interpolation"><span class="token punctuation">{</span>num_count<span class="token punctuation">.</span>most_common<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  总计数: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">sum</span><span class="token punctuation">(</span>num_count<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># Counter运算</span>
    counter1 <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    counter2 <span class="token operator">=</span> Counter<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  Counter1: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>counter1<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  Counter2: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>counter2<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  相加: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>counter1 <span class="token operator">+</span> counter2<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  相减: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>counter1 <span class="token operator">-</span> counter2<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  交集: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>counter1 <span class="token operator">&amp;</span> counter2<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  并集: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>counter1 <span class="token operator">|</span> counter2<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 2. defaultdict - 默认字典</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. defaultdict - 默认字典:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 基本使用</span>
    dd_list <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span>
    dd_int <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
    dd_set <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 分组数据</span>
    students <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token string">'数学'</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token string">'数学'</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token string">'英语'</span><span class="token punctuation">,</span> <span class="token number">92</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'王五'</span><span class="token punctuation">,</span> <span class="token string">'数学'</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token string">'英语'</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    
    <span class="token comment"># 按学科分组</span>
    subject_scores <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span>
    <span class="token comment"># 按学生分组</span>
    student_scores <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">dict</span><span class="token punctuation">)</span>
    
    <span class="token keyword">for</span> name<span class="token punctuation">,</span> subject<span class="token punctuation">,</span> score <span class="token keyword">in</span> students<span class="token punctuation">:</span>
        subject_scores<span class="token punctuation">[</span>subject<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">)</span>
        student_scores<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">[</span>subject<span class="token punctuation">]</span> <span class="token operator">=</span> score
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  按学科分组:&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> subject<span class="token punctuation">,</span> scores <span class="token keyword">in</span> subject_scores<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>subject<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>scores<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  按学生分组:&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> name<span class="token punctuation">,</span> scores <span class="token keyword">in</span> student_scores<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>scores<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 计数应用</span>
    word_positions <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">)</span>
    sentence <span class="token operator">=</span> <span class="token string">&quot;the quick brown fox jumps over the lazy dog&quot;</span>
    
    <span class="token keyword">for</span> i<span class="token punctuation">,</span> word <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>sentence<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        word_positions<span class="token punctuation">[</span>word<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  单词位置索引:&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> word<span class="token punctuation">,</span> positions <span class="token keyword">in</span> word_positions<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    '</span><span class="token interpolation"><span class="token punctuation">{</span>word<span class="token punctuation">}</span></span><span class="token string">': </span><span class="token interpolation"><span class="token punctuation">{</span>positions<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 3. OrderedDict - 有序字典</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. OrderedDict - 有序字典:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 创建有序字典</span>
    od <span class="token operator">=</span> OrderedDict<span class="token punctuation">(</span><span class="token punctuation">)</span>
    od<span class="token punctuation">[</span><span class="token string">'first'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    od<span class="token punctuation">[</span><span class="token string">'second'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>
    od<span class="token punctuation">[</span><span class="token string">'third'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  有序字典: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">list</span><span class="token punctuation">(</span>od<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 移动到末尾</span>
    od<span class="token punctuation">.</span>move_to_end<span class="token punctuation">(</span><span class="token string">'first'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  移动'first'到末尾: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">list</span><span class="token punctuation">(</span>od<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 移动到开头</span>
    od<span class="token punctuation">.</span>move_to_end<span class="token punctuation">(</span><span class="token string">'third'</span><span class="token punctuation">,</span> last<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  移动'third'到开头: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">list</span><span class="token punctuation">(</span>od<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># LRU缓存实现</span>
    <span class="token keyword">class</span> <span class="token class-name">LRUCache</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> capacity<span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>capacity <span class="token operator">=</span> capacity
            self<span class="token punctuation">.</span>cache <span class="token operator">=</span> OrderedDict<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> key <span class="token keyword">in</span> self<span class="token punctuation">.</span>cache<span class="token punctuation">:</span>
                <span class="token comment"># 移动到末尾（最近使用）</span>
                self<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>move_to_end<span class="token punctuation">(</span>key<span class="token punctuation">)</span>
                <span class="token keyword">return</span> self<span class="token punctuation">.</span>cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        
        <span class="token keyword">def</span> <span class="token function">put</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> key <span class="token keyword">in</span> self<span class="token punctuation">.</span>cache<span class="token punctuation">:</span>
                <span class="token comment"># 更新并移动到末尾</span>
                self<span class="token punctuation">.</span>cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
                self<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>move_to_end<span class="token punctuation">(</span>key<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                <span class="token comment"># 检查容量</span>
                <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>cache<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> self<span class="token punctuation">.</span>capacity<span class="token punctuation">:</span>
                    <span class="token comment"># 删除最久未使用的（第一个）</span>
                    self<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>popitem<span class="token punctuation">(</span>last<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
                self<span class="token punctuation">.</span>cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
        
        <span class="token keyword">def</span> <span class="token function">items</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token builtin">list</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 测试LRU缓存</span>
    lru <span class="token operator">=</span> LRUCache<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    operations <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">(</span><span class="token string">'put'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'put'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'put'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'get'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'put'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># 应该删除'b'</span>
        <span class="token punctuation">(</span><span class="token string">'get'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'items'</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  LRU缓存测试:&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> op<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value <span class="token keyword">in</span> operations<span class="token punctuation">:</span>
        <span class="token keyword">if</span> op <span class="token operator">==</span> <span class="token string">'put'</span><span class="token punctuation">:</span>
            lru<span class="token punctuation">.</span>put<span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    put(</span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">): </span><span class="token interpolation"><span class="token punctuation">{</span>lru<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> op <span class="token operator">==</span> <span class="token string">'get'</span><span class="token punctuation">:</span>
            result <span class="token operator">=</span> lru<span class="token punctuation">.</span>get<span class="token punctuation">(</span>key<span class="token punctuation">)</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    get(</span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">): </span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">}</span></span><span class="token string">, cache: </span><span class="token interpolation"><span class="token punctuation">{</span>lru<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> op <span class="token operator">==</span> <span class="token string">'items'</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    最终缓存: </span><span class="token interpolation"><span class="token punctuation">{</span>lru<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 4. deque - 双端队列</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. deque - 双端队列:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 基本操作</span>
    dq <span class="token operator">=</span> deque<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  初始队列: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">list</span><span class="token punctuation">(</span>dq<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 两端添加</span>
    dq<span class="token punctuation">.</span>appendleft<span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">)</span>
    dq<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">'right'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  两端添加后: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">list</span><span class="token punctuation">(</span>dq<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 两端删除</span>
    left_item <span class="token operator">=</span> dq<span class="token punctuation">.</span>popleft<span class="token punctuation">(</span><span class="token punctuation">)</span>
    right_item <span class="token operator">=</span> dq<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  删除的元素: 左=</span><span class="token interpolation"><span class="token punctuation">{</span>left_item<span class="token punctuation">}</span></span><span class="token string">, 右=</span><span class="token interpolation"><span class="token punctuation">{</span>right_item<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  删除后: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">list</span><span class="token punctuation">(</span>dq<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 旋转</span>
    dq<span class="token punctuation">.</span>rotate<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># 向右旋转</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  向右旋转1位: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">list</span><span class="token punctuation">(</span>dq<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    dq<span class="token punctuation">.</span>rotate<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 向左旋转</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  向左旋转2位: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">list</span><span class="token punctuation">(</span>dq<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 限制长度的队列</span>
    limited_dq <span class="token operator">=</span> deque<span class="token punctuation">(</span>maxlen<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        limited_dq<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    添加</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">list</span><span class="token punctuation">(</span>limited_dq<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 滑动窗口应用</span>
    <span class="token keyword">def</span> <span class="token function">moving_average</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> window_size<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;计算移动平均值&quot;&quot;&quot;</span>
        window <span class="token operator">=</span> deque<span class="token punctuation">(</span>maxlen<span class="token operator">=</span>window_size<span class="token punctuation">)</span>
        averages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        
        <span class="token keyword">for</span> value <span class="token keyword">in</span> data<span class="token punctuation">:</span>
            window<span class="token punctuation">.</span>append<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span> <span class="token operator">==</span> window_size<span class="token punctuation">:</span>
                avg <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span> <span class="token operator">/</span> window_size
                averages<span class="token punctuation">.</span>append<span class="token punctuation">(</span>avg<span class="token punctuation">)</span>
        
        <span class="token keyword">return</span> averages
    
    data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span>
    window_size <span class="token operator">=</span> <span class="token number">3</span>
    averages <span class="token operator">=</span> moving_average<span class="token punctuation">(</span>data<span class="token punctuation">,</span> window_size<span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  数据: </span><span class="token interpolation"><span class="token punctuation">{</span>data<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  窗口大小: </span><span class="token interpolation"><span class="token punctuation">{</span>window_size<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  移动平均: </span><span class="token interpolation"><span class="token punctuation">{</span>averages<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 5. namedtuple - 命名元组</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. namedtuple - 命名元组:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 创建命名元组类</span>
    Point <span class="token operator">=</span> namedtuple<span class="token punctuation">(</span><span class="token string">'Point'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    Person <span class="token operator">=</span> namedtuple<span class="token punctuation">(</span><span class="token string">'Person'</span><span class="token punctuation">,</span> <span class="token string">'name age city'</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 创建实例</span>
    p1 <span class="token operator">=</span> Point<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
    p2 <span class="token operator">=</span> Point<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">)</span>
    
    person1 <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token string">'北京'</span><span class="token punctuation">)</span>
    person2 <span class="token operator">=</span> Person<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'李四'</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span> city<span class="token operator">=</span><span class="token string">'上海'</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  点1: </span><span class="token interpolation"><span class="token punctuation">{</span>p1<span class="token punctuation">}</span></span><span class="token string">, x=</span><span class="token interpolation"><span class="token punctuation">{</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">}</span></span><span class="token string">, y=</span><span class="token interpolation"><span class="token punctuation">{</span>p1<span class="token punctuation">.</span>y<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  点2: </span><span class="token interpolation"><span class="token punctuation">{</span>p2<span class="token punctuation">}</span></span><span class="token string">, x=</span><span class="token interpolation"><span class="token punctuation">{</span>p2<span class="token punctuation">.</span>x<span class="token punctuation">}</span></span><span class="token string">, y=</span><span class="token interpolation"><span class="token punctuation">{</span>p2<span class="token punctuation">.</span>y<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  人员1: </span><span class="token interpolation"><span class="token punctuation">{</span>person1<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  人员2: </span><span class="token interpolation"><span class="token punctuation">{</span>person2<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 命名元组方法</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  命名元组方法:&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    字段名: </span><span class="token interpolation"><span class="token punctuation">{</span>Person<span class="token punctuation">.</span>_fields<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    转为字典: </span><span class="token interpolation"><span class="token punctuation">{</span>person1<span class="token punctuation">.</span>_asdict<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 替换字段</span>
    person1_updated <span class="token operator">=</span> person1<span class="token punctuation">.</span>_replace<span class="token punctuation">(</span>age<span class="token operator">=</span><span class="token number">26</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    替换年龄: </span><span class="token interpolation"><span class="token punctuation">{</span>person1_updated<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 从可迭代对象创建</span>
    data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'王五'</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token string">'广州'</span><span class="token punctuation">]</span>
    person3 <span class="token operator">=</span> Person<span class="token punctuation">.</span>_make<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    从列表创建: </span><span class="token interpolation"><span class="token punctuation">{</span>person3<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 6. ChainMap - 链式映射</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n6. ChainMap - 链式映射:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 创建多个字典</span>
    dict1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span>
    dict2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span>
    dict3 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">}</span>
    
    <span class="token comment"># 创建链式映射</span>
    cm <span class="token operator">=</span> ChainMap<span class="token punctuation">(</span>dict1<span class="token punctuation">,</span> dict2<span class="token punctuation">,</span> dict3<span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  字典1: </span><span class="token interpolation"><span class="token punctuation">{</span>dict1<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  字典2: </span><span class="token interpolation"><span class="token punctuation">{</span>dict2<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  字典3: </span><span class="token interpolation"><span class="token punctuation">{</span>dict3<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  链式映射: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>cm<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 查找顺序（从第一个开始）</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  查找顺序测试:&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> key <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        value <span class="token operator">=</span> cm<span class="token punctuation">.</span>get<span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token string">'Not Found'</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    </span><span class="token interpolation"><span class="token punctuation">{</span>key<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 添加新映射</span>
    dict4 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'e'</span><span class="token punctuation">:</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">}</span>
    cm <span class="token operator">=</span> cm<span class="token punctuation">.</span>new_child<span class="token punctuation">(</span>dict4<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  添加新映射后: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>cm<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 配置管理应用</span>
    default_config <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'host'</span><span class="token punctuation">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>
        <span class="token string">'port'</span><span class="token punctuation">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
        <span class="token string">'debug'</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
        <span class="token string">'timeout'</span><span class="token punctuation">:</span> <span class="token number">30</span>
    <span class="token punctuation">}</span>
    
    user_config <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'host'</span><span class="token punctuation">:</span> <span class="token string">'192.168.1.100'</span><span class="token punctuation">,</span>
        <span class="token string">'debug'</span><span class="token punctuation">:</span> <span class="token boolean">True</span>
    <span class="token punctuation">}</span>
    
    env_config <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'port'</span><span class="token punctuation">:</span> <span class="token number">9000</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment"># 配置优先级: 环境变量 &gt; 用户配置 &gt; 默认配置</span>
    config <span class="token operator">=</span> ChainMap<span class="token punctuation">(</span>env_config<span class="token punctuation">,</span> user_config<span class="token punctuation">,</span> default_config<span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n  配置管理示例:&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    默认配置: </span><span class="token interpolation"><span class="token punctuation">{</span>default_config<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    用户配置: </span><span class="token interpolation"><span class="token punctuation">{</span>user_config<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    环境配置: </span><span class="token interpolation"><span class="token punctuation">{</span>env_config<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    最终配置: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">dict</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

<span class="token comment"># 运行collections模块演示</span>
collections_module_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_8-2-itertools模块-迭代器工具"><a href="#_8-2-itertools模块-迭代器工具" class="header-anchor">#</a> 8.2 itertools模块 - 迭代器工具</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> itertools
<span class="token keyword">from</span> itertools <span class="token keyword">import</span> <span class="token punctuation">(</span>
    count<span class="token punctuation">,</span> cycle<span class="token punctuation">,</span> repeat<span class="token punctuation">,</span> chain<span class="token punctuation">,</span> compress<span class="token punctuation">,</span> dropwhile<span class="token punctuation">,</span> 
    filterfalse<span class="token punctuation">,</span> groupby<span class="token punctuation">,</span> islice<span class="token punctuation">,</span> starmap<span class="token punctuation">,</span> takewhile<span class="token punctuation">,</span>
    zip_longest<span class="token punctuation">,</span> product<span class="token punctuation">,</span> permutations<span class="token punctuation">,</span> combinations<span class="token punctuation">,</span>
    combinations_with_replacement<span class="token punctuation">,</span> accumulate
<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">itertools_module_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;itertools模块演示&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== itertools模块演示 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 1. 无限迭代器</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. 无限迭代器:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># count - 计数器</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  count - 计数器:&quot;</span><span class="token punctuation">)</span>
    counter <span class="token operator">=</span> count<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 从10开始，步长为2</span>
    count_result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">next</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    从10开始步长2: </span><span class="token interpolation"><span class="token punctuation">{</span>count_result<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># cycle - 循环</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  cycle - 循环:&quot;</span><span class="token punctuation">)</span>
    colors <span class="token operator">=</span> cycle<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    cycle_result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">next</span><span class="token punctuation">(</span>colors<span class="token punctuation">)</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    循环颜色: </span><span class="token interpolation"><span class="token punctuation">{</span>cycle_result<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># repeat - 重复</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  repeat - 重复:&quot;</span><span class="token punctuation">)</span>
    repeat_result <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>repeat<span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    重复'hello'3次: </span><span class="token interpolation"><span class="token punctuation">{</span>repeat_result<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 2. 终止迭代器</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. 终止迭代器:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># chain - 链接</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  chain - 链接:&quot;</span><span class="token punctuation">)</span>
    list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
    list2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span>
    list3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span>
    chained <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>chain<span class="token punctuation">(</span>list1<span class="token punctuation">,</span> list2<span class="token punctuation">,</span> list3<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    链接列表: </span><span class="token interpolation"><span class="token punctuation">{</span>chained<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># compress - 压缩过滤</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  compress - 压缩过滤:&quot;</span><span class="token punctuation">)</span>
    data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">]</span>
    selectors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
    compressed <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>compress<span class="token punctuation">(</span>data<span class="token punctuation">,</span> selectors<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    数据: </span><span class="token interpolation"><span class="token punctuation">{</span>data<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    选择器: </span><span class="token interpolation"><span class="token punctuation">{</span>selectors<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    压缩结果: </span><span class="token interpolation"><span class="token punctuation">{</span>compressed<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># dropwhile - 丢弃直到条件为假</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  dropwhile - 丢弃直到条件为假:&quot;</span><span class="token punctuation">)</span>
    numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>
    dropped <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>dropwhile<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    原数据: </span><span class="token interpolation"><span class="token punctuation">{</span>numbers<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    丢弃奇数直到遇到偶数: </span><span class="token interpolation"><span class="token punctuation">{</span>dropped<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># takewhile - 取值直到条件为假</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  takewhile - 取值直到条件为假:&quot;</span><span class="token punctuation">)</span>
    taken <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>takewhile<span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    取值直到&gt;=5: </span><span class="token interpolation"><span class="token punctuation">{</span>taken<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># filterfalse - 过滤假值</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  filterfalse - 过滤假值:&quot;</span><span class="token punctuation">)</span>
    mixed_data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">]</span>
    filtered <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>filterfalse<span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">,</span> mixed_data<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    原数据: </span><span class="token interpolation"><span class="token punctuation">{</span>mixed_data<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    假值: </span><span class="token interpolation"><span class="token punctuation">{</span>filtered<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># islice - 切片</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  islice - 切片:&quot;</span><span class="token punctuation">)</span>
    data <span class="token operator">=</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
    slice1 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>islice<span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 前5个</span>
    slice2 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>islice<span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 5到10</span>
    slice3 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>islice<span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 步长为3</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    前5个: </span><span class="token interpolation"><span class="token punctuation">{</span>slice1<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    5到10: </span><span class="token interpolation"><span class="token punctuation">{</span>slice2<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    步长3: </span><span class="token interpolation"><span class="token punctuation">{</span>slice3<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># groupby - 分组</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  groupby - 分组:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 按值分组</span>
    data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
    groups <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token builtin">list</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> k<span class="token punctuation">,</span> g <span class="token keyword">in</span> groupby<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    按值分组: </span><span class="token interpolation"><span class="token punctuation">{</span>groups<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 按条件分组</span>
    words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span> <span class="token string">'banana'</span><span class="token punctuation">,</span> <span class="token string">'cherry'</span><span class="token punctuation">,</span> <span class="token string">'date'</span><span class="token punctuation">,</span> <span class="token string">'elderberry'</span><span class="token punctuation">]</span>
    by_length <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token builtin">list</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> k<span class="token punctuation">,</span> g <span class="token keyword">in</span> groupby<span class="token punctuation">(</span>words<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    按长度分组: </span><span class="token interpolation"><span class="token punctuation">{</span>by_length<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 学生成绩分组</span>
    students <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'李四'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'王五'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'赵六'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span><span class="token string">'钱七'</span><span class="token punctuation">,</span> <span class="token string">'A'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
    
    <span class="token comment"># 按成绩分组（需要先排序）</span>
    students_sorted <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>students<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    grade_groups <span class="token operator">=</span> <span class="token punctuation">{</span>k<span class="token punctuation">:</span> <span class="token punctuation">[</span>name <span class="token keyword">for</span> name<span class="token punctuation">,</span> grade <span class="token keyword">in</span> g<span class="token punctuation">]</span> 
                   <span class="token keyword">for</span> k<span class="token punctuation">,</span> g <span class="token keyword">in</span> groupby<span class="token punctuation">(</span>students_sorted<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    学生按成绩分组: </span><span class="token interpolation"><span class="token punctuation">{</span>grade_groups<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 3. 组合迭代器</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. 组合迭代器:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># product - 笛卡尔积</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  product - 笛卡尔积:&quot;</span><span class="token punctuation">)</span>
    colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">]</span>
    sizes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'S'</span><span class="token punctuation">,</span> <span class="token string">'M'</span><span class="token punctuation">,</span> <span class="token string">'L'</span><span class="token punctuation">]</span>
    products <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>product<span class="token punctuation">(</span>colors<span class="token punctuation">,</span> sizes<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    颜色×尺寸: </span><span class="token interpolation"><span class="token punctuation">{</span>products<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 自身笛卡尔积</span>
    coords <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>product<span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> repeat<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    坐标组合: </span><span class="token interpolation"><span class="token punctuation">{</span>coords<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># permutations - 排列</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  permutations - 排列:&quot;</span><span class="token punctuation">)</span>
    letters <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">]</span>
    perms2 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>permutations<span class="token punctuation">(</span>letters<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    perms3 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>permutations<span class="token punctuation">(</span>letters<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    2个字母排列: </span><span class="token interpolation"><span class="token punctuation">{</span>perms2<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    3个字母排列: </span><span class="token interpolation"><span class="token punctuation">{</span>perms3<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># combinations - 组合</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  combinations - 组合:&quot;</span><span class="token punctuation">)</span>
    numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
    combs2 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>combinations<span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    combs3 <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>combinations<span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    2个数字组合: </span><span class="token interpolation"><span class="token punctuation">{</span>combs2<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    3个数字组合: </span><span class="token interpolation"><span class="token punctuation">{</span>combs3<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># combinations_with_replacement - 可重复组合</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  combinations_with_replacement - 可重复组合:&quot;</span><span class="token punctuation">)</span>
    combs_rep <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>combinations_with_replacement<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    可重复2组合: </span><span class="token interpolation"><span class="token punctuation">{</span>combs_rep<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 4. 实用应用示例</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. 实用应用示例:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 分批处理</span>
    <span class="token keyword">def</span> <span class="token function">batch_process</span><span class="token punctuation">(</span>iterable<span class="token punctuation">,</span> batch_size<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;分批处理数据&quot;&quot;&quot;</span>
        iterator <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>iterable<span class="token punctuation">)</span>
        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            batch <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>islice<span class="token punctuation">(</span>iterator<span class="token punctuation">,</span> batch_size<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> batch<span class="token punctuation">:</span>
                <span class="token keyword">break</span>
            <span class="token keyword">yield</span> batch
    
    data <span class="token operator">=</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span>
    batches <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>batch_process<span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  分批处理(每批5个): </span><span class="token interpolation"><span class="token punctuation">{</span>batches<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 滑动窗口</span>
    <span class="token keyword">def</span> <span class="token function">sliding_window</span><span class="token punctuation">(</span>iterable<span class="token punctuation">,</span> window_size<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;滑动窗口&quot;&quot;&quot;</span>
        iterators <span class="token operator">=</span> <span class="token punctuation">[</span>islice<span class="token punctuation">(</span>iterable<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token boolean">None</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>window_size<span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> <span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token operator">*</span>iterators<span class="token punctuation">)</span>
    
    data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span>
    windows <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>sliding_window<span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  滑动窗口(大小3): </span><span class="token interpolation"><span class="token punctuation">{</span>windows<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 扁平化嵌套列表</span>
    <span class="token keyword">def</span> <span class="token function">flatten</span><span class="token punctuation">(</span>nested_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;扁平化嵌套列表&quot;&quot;&quot;</span>
        <span class="token keyword">return</span> chain<span class="token punctuation">.</span>from_iterable<span class="token punctuation">(</span>nested_list<span class="token punctuation">)</span>
    
    nested <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    flattened <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>flatten<span class="token punctuation">(</span>nested<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  嵌套列表: </span><span class="token interpolation"><span class="token punctuation">{</span>nested<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  扁平化: </span><span class="token interpolation"><span class="token punctuation">{</span>flattened<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 累积计算</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n  accumulate - 累积计算:&quot;</span><span class="token punctuation">)</span>
    numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
    
    <span class="token comment"># 累积和</span>
    cumsum <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>accumulate<span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    累积和: </span><span class="token interpolation"><span class="token punctuation">{</span>cumsum<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 累积乘积</span>
    <span class="token keyword">import</span> operator
    cumproduct <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>accumulate<span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> operator<span class="token punctuation">.</span>mul<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    累积乘积: </span><span class="token interpolation"><span class="token punctuation">{</span>cumproduct<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 累积最大值</span>
    data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
    cummax <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>accumulate<span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token builtin">max</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    数据: </span><span class="token interpolation"><span class="token punctuation">{</span>data<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    累积最大值: </span><span class="token interpolation"><span class="token punctuation">{</span>cummax<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 5. 性能优化示例</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. 性能优化示例:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 使用itertools优化内存</span>
    <span class="token keyword">def</span> <span class="token function">memory_efficient_processing</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;内存高效的数据处理&quot;&quot;&quot;</span>
        <span class="token comment"># 只处理偶数，取前10个，每个乘以2</span>
        result <span class="token operator">=</span> islice<span class="token punctuation">(</span>
            <span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> 
                <span class="token builtin">filter</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span> 
            <span class="token number">10</span>
        <span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">list</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    
    large_data <span class="token operator">=</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span>  <span class="token comment"># 模拟大数据</span>
    processed <span class="token operator">=</span> memory_efficient_processing<span class="token punctuation">(</span>large_data<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  处理大数据前10个偶数×2: </span><span class="token interpolation"><span class="token punctuation">{</span>processed<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token comment"># 生成测试数据</span>
    <span class="token keyword">def</span> <span class="token function">generate_test_data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;生成测试数据&quot;&quot;&quot;</span>
        <span class="token comment"># 生成用户ID和随机分数的组合</span>
        user_ids <span class="token operator">=</span> cycle<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'user1'</span><span class="token punctuation">,</span> <span class="token string">'user2'</span><span class="token punctuation">,</span> <span class="token string">'user3'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        scores <span class="token operator">=</span> cycle<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">92</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        
        <span class="token keyword">for</span> i<span class="token punctuation">,</span> <span class="token punctuation">(</span>user_id<span class="token punctuation">,</span> score<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span>user_ids<span class="token punctuation">,</span> scores<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> i <span class="token operator">&gt;=</span> <span class="token number">10</span><span class="token punctuation">:</span>  <span class="token comment"># 只生成10条</span>
                <span class="token keyword">break</span>
            <span class="token keyword">yield</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>user_id<span class="token punctuation">}</span></span><span class="token string">_</span><span class="token interpolation"><span class="token punctuation">{</span>i<span class="token operator">//</span><span class="token number">3</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">,</span> score
    
    test_data <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>generate_test_data<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  生成的测试数据: </span><span class="token interpolation"><span class="token punctuation">{</span>test_data<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

<span class="token comment"># 运行itertools模块演示</span>
itertools_module_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="九、总结与最佳实践"><a href="#九、总结与最佳实践" class="header-anchor">#</a> 九、总结与最佳实践</h2> <h3 id="_9-1-模块选择指南"><a href="#_9-1-模块选择指南" class="header-anchor">#</a> 9.1 模块选择指南</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">module_selection_guide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;模块选择指南&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== Python内建模块选择指南 ===&quot;</span><span class="token punctuation">)</span>
    
    guide <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;系统交互&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;文件操作&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;os&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pathlib&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;shutil&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;系统信息&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;sys&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;platform&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;环境变量&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;os.environ&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;时间处理&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;日期时间&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;datetime&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;时间戳&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;time&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;性能测量&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;time.perf_counter&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;数据处理&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;JSON&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;json&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;CSV&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;csv&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;配置文件&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;configparser&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;数学计算&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;基础数学&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;math&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;随机数&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;random&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;统计&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;statistics&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;网络编程&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;URL处理&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;urllib.parse&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;HTTP请求&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;urllib.request&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;网络工具&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;socket&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;数据结构&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;特殊容器&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;collections&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;堆队列&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;heapq&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;双端队列&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;collections.deque&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;迭代工具&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;迭代器&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;itertools&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;函数式编程&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;functools&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;操作符&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;operator&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> category<span class="token punctuation">,</span> subcategories <span class="token keyword">in</span> guide<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n</span><span class="token interpolation"><span class="token punctuation">{</span>category<span class="token punctuation">}</span></span><span class="token string">:&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> task<span class="token punctuation">,</span> modules <span class="token keyword">in</span> subcategories<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>task<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token string">', '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>modules<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

<span class="token comment"># 运行模块选择指南</span>
module_selection_guide<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_9-2-最佳实践"><a href="#_9-2-最佳实践" class="header-anchor">#</a> 9.2 最佳实践</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">best_practices_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;最佳实践演示&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== Python内建模块最佳实践 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. 导入最佳实践:&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;
    # ✅ 推荐的导入方式
    import os
    import sys
    from pathlib import Path
    from collections import defaultdict, Counter
    from datetime import datetime, timedelta
    
    # ❌ 避免的导入方式
    from os import *  # 污染命名空间
    import datetime as dt  # 不必要的别名
    &quot;&quot;&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. 错误处理最佳实践:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">safe_file_operation</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;安全的文件操作&quot;&quot;&quot;</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
                <span class="token keyword">return</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> FileNotFoundError<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;文件 </span><span class="token interpolation"><span class="token punctuation">{</span>filename<span class="token punctuation">}</span></span><span class="token string"> 不存在&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        <span class="token keyword">except</span> PermissionError<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;没有权限访问文件 </span><span class="token interpolation"><span class="token punctuation">{</span>filename<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        <span class="token keyword">except</span> UnicodeDecodeError<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;文件 </span><span class="token interpolation"><span class="token punctuation">{</span>filename<span class="token punctuation">}</span></span><span class="token string"> 编码错误&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;读取文件时发生未知错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
    
    <span class="token keyword">def</span> <span class="token function">safe_json_operation</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;安全的JSON操作&quot;&quot;&quot;</span>
        <span class="token keyword">import</span> json
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>data<span class="token punctuation">,</span> ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> TypeError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;JSON序列化错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 具体异常处理&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 资源自动清理（with语句）&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 编码明确指定&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. 性能优化最佳实践:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 使用生成器而不是列表</span>
    <span class="token keyword">def</span> <span class="token function">process_large_file_good</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;内存友好的文件处理&quot;&quot;&quot;</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
                <span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">:</span>  <span class="token comment"># 逐行读取，不加载整个文件</span>
                    <span class="token keyword">yield</span> line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> FileNotFoundError<span class="token punctuation">:</span>
            <span class="token keyword">return</span>
    
    <span class="token keyword">def</span> <span class="token function">process_large_file_bad</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;内存不友好的文件处理&quot;&quot;&quot;</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
                <span class="token keyword">return</span> f<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 一次性加载所有行</span>
        <span class="token keyword">except</span> FileNotFoundError<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    
    <span class="token comment"># 使用适当的数据结构</span>
    <span class="token keyword">from</span> collections <span class="token keyword">import</span> defaultdict<span class="token punctuation">,</span> Counter
    
    <span class="token keyword">def</span> <span class="token function">count_words_good</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;高效的单词计数&quot;&quot;&quot;</span>
        <span class="token keyword">return</span> Counter<span class="token punctuation">(</span>text<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">count_words_bad</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;低效的单词计数&quot;&quot;&quot;</span>
        word_count <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token keyword">for</span> word <span class="token keyword">in</span> text<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> word <span class="token keyword">in</span> word_count<span class="token punctuation">:</span>
                word_count<span class="token punctuation">[</span>word<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                word_count<span class="token punctuation">[</span>word<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> word_count
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 使用生成器处理大数据&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 选择合适的数据结构&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 避免重复计算&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. 代码组织最佳实践:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">class</span> <span class="token class-name">ConfigManager</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;配置管理器&quot;&quot;&quot;</span>
        <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> config_file<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>config <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token keyword">if</span> config_file<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>load_config<span class="token punctuation">(</span>config_file<span class="token punctuation">)</span>
        
        <span class="token keyword">def</span> <span class="token function">load_config</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> config_file<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token triple-quoted-string string">&quot;&quot;&quot;加载配置文件&quot;&quot;&quot;</span>
            <span class="token keyword">import</span> json
            <span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path
            
            config_path <span class="token operator">=</span> Path<span class="token punctuation">(</span>config_file<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> config_path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">raise</span> FileNotFoundError<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;配置文件不存在: </span><span class="token interpolation"><span class="token punctuation">{</span>config_file<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
            
            <span class="token keyword">try</span><span class="token punctuation">:</span>
                <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>config_path<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
                    self<span class="token punctuation">.</span>config <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
            <span class="token keyword">except</span> json<span class="token punctuation">.</span>JSONDecodeError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
                <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;配置文件格式错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token triple-quoted-string string">&quot;&quot;&quot;获取配置值&quot;&quot;&quot;</span>
            <span class="token keyword">return</span> self<span class="token punctuation">.</span>config<span class="token punctuation">.</span>get<span class="token punctuation">(</span>key<span class="token punctuation">,</span> default<span class="token punctuation">)</span>
        
        <span class="token keyword">def</span> <span class="token function">set</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token triple-quoted-string string">&quot;&quot;&quot;设置配置值&quot;&quot;&quot;</span>
            self<span class="token punctuation">.</span>config<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
        
        <span class="token keyword">def</span> <span class="token function">save_config</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> config_file<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token triple-quoted-string string">&quot;&quot;&quot;保存配置文件&quot;&quot;&quot;</span>
            <span class="token keyword">import</span> json
            <span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path
            
            config_path <span class="token operator">=</span> Path<span class="token punctuation">(</span>config_file<span class="token punctuation">)</span>
            config_path<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>parents<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> exist_ok<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
            
            <span class="token keyword">try</span><span class="token punctuation">:</span>
                <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>config_path<span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
                    json<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>self<span class="token punctuation">.</span>config<span class="token punctuation">,</span> f<span class="token punctuation">,</span> ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
                <span class="token keyword">raise</span> IOError<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;保存配置文件失败: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 类封装相关功能&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 明确的方法职责&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 完善的错误处理&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. 测试友好的代码:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">calculate_file_stats</span><span class="token punctuation">(</span>file_path<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;计算文件统计信息&quot;&quot;&quot;</span>
        <span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path
        
        path <span class="token operator">=</span> Path<span class="token punctuation">(</span>file_path<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
        
        stat <span class="token operator">=</span> path<span class="token punctuation">.</span>stat<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token string">'size'</span><span class="token punctuation">:</span> stat<span class="token punctuation">.</span>st_size<span class="token punctuation">,</span>
            <span class="token string">'modified'</span><span class="token punctuation">:</span> stat<span class="token punctuation">.</span>st_mtime<span class="token punctuation">,</span>
            <span class="token string">'is_file'</span><span class="token punctuation">:</span> path<span class="token punctuation">.</span>is_file<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token string">'extension'</span><span class="token punctuation">:</span> path<span class="token punctuation">.</span>suffix
        <span class="token punctuation">}</span>
    
    <span class="token keyword">def</span> <span class="token function">process_data_with_logging</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> logger<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">&quot;&quot;&quot;带日志的数据处理&quot;&quot;&quot;</span>
        <span class="token keyword">if</span> logger <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            <span class="token keyword">import</span> logging
            logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
        
        logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;开始处理 </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string"> 条数据&quot;</span></span><span class="token punctuation">)</span>
        
        processed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> item <span class="token keyword">in</span> data<span class="token punctuation">:</span>
            <span class="token keyword">try</span><span class="token punctuation">:</span>
                <span class="token comment"># 处理逻辑</span>
                result <span class="token operator">=</span> item <span class="token operator">*</span> <span class="token number">2</span>  <span class="token comment"># 示例处理</span>
                processed<span class="token punctuation">.</span>append<span class="token punctuation">(</span>result<span class="token punctuation">)</span>
            <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
                logger<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;处理数据项失败: </span><span class="token interpolation"><span class="token punctuation">{</span>item<span class="token punctuation">}</span></span><span class="token string">, 错误: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        
        logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;处理完成，成功 </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">len</span><span class="token punctuation">(</span>processed<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string"> 条&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> processed
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 函数职责单一&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 依赖注入（如logger）&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 返回值明确&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 运行最佳实践演示</span>
best_practices_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_9-3-常见陷阱和解决方案"><a href="#_9-3-常见陷阱和解决方案" class="header-anchor">#</a> 9.3 常见陷阱和解决方案</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">common_pitfalls_demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;常见陷阱和解决方案&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== 常见陷阱和解决方案 ===&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n1. 时间处理陷阱:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># ❌ 错误：使用可变默认参数</span>
    <span class="token keyword">def</span> <span class="token function">bad_timestamp_function</span><span class="token punctuation">(</span>timestamp<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime
        <span class="token keyword">if</span> timestamp <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            timestamp <span class="token operator">=</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 每次调用都会重新计算</span>
        <span class="token keyword">return</span> timestamp
    
    <span class="token comment"># ✅ 正确：避免可变默认参数</span>
    <span class="token keyword">def</span> <span class="token function">good_timestamp_function</span><span class="token punctuation">(</span>timestamp<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime
        <span class="token keyword">if</span> timestamp <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
            timestamp <span class="token operator">=</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> timestamp
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 避免在默认参数中使用可变对象&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 时区处理</span>
    <span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime<span class="token punctuation">,</span> timezone<span class="token punctuation">,</span> timedelta
    
    <span class="token comment"># ❌ 错误：忽略时区</span>
    naive_time <span class="token operator">=</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token comment"># ✅ 正确：明确时区</span>
    aware_time <span class="token operator">=</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span>timezone<span class="token punctuation">.</span>utc<span class="token punctuation">)</span>
    local_time <span class="token operator">=</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span>timezone<span class="token punctuation">(</span>timedelta<span class="token punctuation">(</span>hours<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 北京时间</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 明确处理时区信息&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n2. 文件处理陷阱:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># ❌ 错误：不处理编码</span>
    <span class="token keyword">def</span> <span class="token function">bad_file_read</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>  <span class="token comment"># 使用系统默认编码</span>
                <span class="token keyword">return</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
    
    <span class="token comment"># ✅ 正确：明确指定编码</span>
    <span class="token keyword">def</span> <span class="token function">good_file_read</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
                <span class="token keyword">return</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> UnicodeDecodeError<span class="token punctuation">:</span>
            <span class="token comment"># 尝试其他编码</span>
            <span class="token keyword">try</span><span class="token punctuation">:</span>
                <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'gbk'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
                    <span class="token keyword">return</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">except</span> UnicodeDecodeError<span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token boolean">None</span>
        <span class="token keyword">except</span> FileNotFoundError<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">None</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 明确指定文件编码&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 处理编码错误&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n3. JSON处理陷阱:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">import</span> json
    <span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime
    <span class="token keyword">from</span> decimal <span class="token keyword">import</span> Decimal
    
    <span class="token comment"># ❌ 错误：不处理特殊类型</span>
    <span class="token keyword">def</span> <span class="token function">bad_json_serialize</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>data<span class="token punctuation">)</span>  <span class="token comment"># datetime等类型会报错</span>
    
    <span class="token comment"># ✅ 正确：自定义序列化</span>
    <span class="token keyword">def</span> <span class="token function">good_json_serialize</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">json_serializer</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> datetime<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> obj<span class="token punctuation">.</span>isoformat<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> Decimal<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token builtin">float</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
            <span class="token keyword">elif</span> <span class="token builtin">hasattr</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'__dict__'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> obj<span class="token punctuation">.</span>__dict__
            <span class="token keyword">raise</span> TypeError<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;Object of type </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token builtin">type</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string"> is not JSON serializable&quot;</span></span><span class="token punctuation">)</span>
        
        <span class="token keyword">return</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>data<span class="token punctuation">,</span> default<span class="token operator">=</span>json_serializer<span class="token punctuation">,</span> ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 测试数据</span>
    test_data <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'name'</span><span class="token punctuation">:</span> <span class="token string">'张三'</span><span class="token punctuation">,</span>
        <span class="token string">'timestamp'</span><span class="token punctuation">:</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'price'</span><span class="token punctuation">:</span> Decimal<span class="token punctuation">(</span><span class="token string">'99.99'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        result <span class="token operator">=</span> good_json_serialize<span class="token punctuation">(</span>test_data<span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  ✅ 成功序列化: </span><span class="token interpolation"><span class="token punctuation">{</span>result<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token format-spec">50]</span><span class="token punctuation">}</span></span><span class="token string">...&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  ❌ 序列化失败: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n4. 路径处理陷阱:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">import</span> os
    <span class="token keyword">from</span> pathlib <span class="token keyword">import</span> Path
    
    <span class="token comment"># ❌ 错误：硬编码路径分隔符</span>
    <span class="token keyword">def</span> <span class="token function">bad_path_join</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> <span class="token operator">*</span>parts<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> base <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> <span class="token string">'/'</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>parts<span class="token punctuation">)</span>  <span class="token comment"># 在Windows上会有问题</span>
    
    <span class="token comment"># ✅ 正确：使用pathlib或os.path</span>
    <span class="token keyword">def</span> <span class="token function">good_path_join</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> <span class="token operator">*</span>parts<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token builtin">str</span><span class="token punctuation">(</span>Path<span class="token punctuation">(</span>base<span class="token punctuation">)</span><span class="token punctuation">.</span>joinpath<span class="token punctuation">(</span><span class="token operator">*</span>parts<span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token comment"># 或者使用os.path</span>
    <span class="token keyword">def</span> <span class="token function">good_path_join_os</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> <span class="token operator">*</span>parts<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>base<span class="token punctuation">,</span> <span class="token operator">*</span>parts<span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 使用pathlib或os.path处理路径&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 避免硬编码路径分隔符&quot;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n5. 迭代器陷阱:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># ❌ 错误：重复使用迭代器</span>
    <span class="token keyword">def</span> <span class="token function">bad_iterator_usage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        data <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        first_sum <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>  <span class="token comment"># 消耗了迭代器</span>
        second_sum <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>  <span class="token comment"># 迭代器已空，结果为0</span>
        <span class="token keyword">return</span> first_sum<span class="token punctuation">,</span> second_sum
    
    <span class="token comment"># ✅ 正确：重新创建迭代器或使用列表</span>
    <span class="token keyword">def</span> <span class="token function">good_iterator_usage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>  <span class="token comment"># 使用列表</span>
        first_sum <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        second_sum <span class="token operator">=</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        <span class="token keyword">return</span> first_sum<span class="token punctuation">,</span> second_sum
    
    bad_result <span class="token operator">=</span> bad_iterator_usage<span class="token punctuation">(</span><span class="token punctuation">)</span>
    good_result <span class="token operator">=</span> good_iterator_usage<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  ❌ 错误用法结果: </span><span class="token interpolation"><span class="token punctuation">{</span>bad_result<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  ✅ 正确用法结果: </span><span class="token interpolation"><span class="token punctuation">{</span>good_result<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n6. 内存使用陷阱:&quot;</span><span class="token punctuation">)</span>
    
    <span class="token comment"># ❌ 错误：一次性加载大量数据</span>
    <span class="token keyword">def</span> <span class="token function">bad_large_data_processing</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
            lines <span class="token operator">=</span> f<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 全部加载到内存</span>
        
        processed <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token keyword">for</span> line <span class="token keyword">in</span> lines<span class="token punctuation">:</span>
            <span class="token keyword">if</span> line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># 处理非空行</span>
                processed<span class="token punctuation">.</span>append<span class="token punctuation">(</span>line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
        <span class="token keyword">return</span> processed
    
    <span class="token comment"># ✅ 正确：流式处理</span>
    <span class="token keyword">def</span> <span class="token function">good_large_data_processing</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">def</span> <span class="token function">process_lines</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>filename<span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
                <span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">:</span>  <span class="token comment"># 逐行处理</span>
                    <span class="token keyword">if</span> line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                        <span class="token keyword">yield</span> line<span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>upper<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token keyword">return</span> <span class="token builtin">list</span><span class="token punctuation">(</span>process_lines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 只在需要时转换为列表</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 使用生成器处理大数据&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;  ✅ 避免一次性加载大量数据&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># 运行常见陷阱演示</span>
common_pitfalls_demo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_9-4-学习建议"><a href="#_9-4-学习建议" class="header-anchor">#</a> 9.4 学习建议</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">learning_suggestions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">&quot;&quot;&quot;学习建议&quot;&quot;&quot;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;=== Python内建模块学习建议 ===&quot;</span><span class="token punctuation">)</span>
    
    suggestions <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;初学者阶段&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;必学模块&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;os&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;sys&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;datetime&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;json&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;math&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;random&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;学习重点&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;掌握基本的文件操作&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;理解时间日期处理&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;学会JSON数据处理&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;熟悉数学和随机数操作&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;实践项目&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;文件管理工具&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;日志分析器&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;数据转换工具&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;简单的配置管理&quot;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;进阶阶段&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;必学模块&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;pathlib&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;collections&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;itertools&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;functools&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;urllib&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;学习重点&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;现代化的路径处理&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;高效的数据结构使用&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;迭代器和生成器优化&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;网络编程基础&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;实践项目&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;数据处理管道&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;网络爬虫&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;性能监控工具&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;批处理系统&quot;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;高级阶段&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;必学模块&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;asyncio&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;multiprocessing&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;threading&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;logging&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;unittest&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;学习重点&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;异步编程模式&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;并发和并行处理&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;完善的日志系统&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;测试驱动开发&quot;</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token string">&quot;实践项目&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;高并发服务器&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;分布式系统&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;微服务架构&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;企业级应用&quot;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> stage<span class="token punctuation">,</span> content <span class="token keyword">in</span> suggestions<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\n</span><span class="token interpolation"><span class="token punctuation">{</span>stage<span class="token punctuation">}</span></span><span class="token string">:&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> category<span class="token punctuation">,</span> items <span class="token keyword">in</span> content<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>category<span class="token punctuation">}</span></span><span class="token string">:&quot;</span></span><span class="token punctuation">)</span>
            <span class="token keyword">for</span> item <span class="token keyword">in</span> items<span class="token punctuation">:</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;    • </span><span class="token interpolation"><span class="token punctuation">{</span>item<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n学习方法建议:&quot;</span><span class="token punctuation">)</span>
    methods <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;📚 阅读官方文档 - 最权威的学习资源&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;💻 动手实践 - 编写小项目巩固知识&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;🔍 源码阅读 - 理解模块内部实现&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;🤝 社区交流 - 参与开源项目和讨论&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;📝 总结记录 - 建立个人知识库&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;🎯 项目驱动 - 通过实际需求学习&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;⚡ 性能测试 - 了解不同方法的效率&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;🐛 错误调试 - 从错误中学习经验&quot;</span>
    <span class="token punctuation">]</span>
    
    <span class="token keyword">for</span> method <span class="token keyword">in</span> methods<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>method<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n推荐资源:&quot;</span><span class="token punctuation">)</span>
    resources <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;官方文档&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;https://docs.python.org/3/library/&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;在线教程&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Real Python, Python.org Tutorial&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;书籍推荐&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;《Python标准库》、《Effective Python》&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;实践平台&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;LeetCode, HackerRank, Codewars&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;开源项目&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;GitHub上的Python项目&quot;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">for</span> category<span class="token punctuation">,</span> resource <span class="token keyword">in</span> resources<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;  </span><span class="token interpolation"><span class="token punctuation">{</span>category<span class="token punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token punctuation">{</span>resource<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

<span class="token comment"># 运行学习建议</span>
learning_suggestions<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>通过本章的学习，我们深入了解了Python的常用内建模块，包括：</p> <h3 id="核心收获"><a href="#核心收获" class="header-anchor">#</a> 核心收获</h3> <ol><li><strong>系统交互模块</strong> - 掌握了<code>os</code>、<code>sys</code>、<code>platform</code>模块的使用</li> <li><strong>时间处理模块</strong> - 学会了<code>datetime</code>和<code>time</code>模块的时间操作</li> <li><strong>数据处理模块</strong> - 熟悉了<code>json</code>、<code>csv</code>模块的数据处理</li> <li><strong>数学计算模块</strong> - 了解了<code>math</code>、<code>random</code>模块的数学运算</li> <li><strong>网络编程模块</strong> - 掌握了<code>urllib</code>模块的URL处理</li> <li><strong>文件处理模块</strong> - 学会了<code>pathlib</code>、<code>shutil</code>模块的文件操作</li> <li><strong>实用工具模块</strong> - 熟悉了<code>collections</code>、<code>itertools</code>模块的高级功能</li></ol> <h3 id="关键技能"><a href="#关键技能" class="header-anchor">#</a> 关键技能</h3> <ul><li>✅ 能够选择合适的模块解决具体问题</li> <li>✅ 掌握模块的核心功能和最佳实践</li> <li>✅ 了解常见陷阱和解决方案</li> <li>✅ 具备编写高质量、可维护代码的能力</li></ul> <h3 id="下一步学习"><a href="#下一步学习" class="header-anchor">#</a> 下一步学习</h3> <ol><li><strong>第三方库学习</strong> - requests、pandas、numpy等</li> <li><strong>框架学习</strong> - Django、Flask、FastAPI等</li> <li><strong>专业领域</strong> - 数据科学、机器学习、Web开发等</li> <li><strong>高级主题</strong> - 异步编程、并发处理、性能优化等</li></ol> <p>掌握Python内建模块是成为Python高手的重要基础，继续保持学习和实践的热情！</p></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/JavaPlusDoc/Python/14.html" class="prev">
          第14天-正则表达式
        </a></span> <span class="next"><a href="/JavaPlusDoc/Python/16.html">
          第16天-常用第三方模块
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#学习目标" class="sidebar-link reco-side-学习目标" data-v-b57cc07c>学习目标</a></li><li class="level-2" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#一、内建模块概述" class="sidebar-link reco-side-一、内建模块概述" data-v-b57cc07c>一、内建模块概述</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_1-1-什么是内建模块" class="sidebar-link reco-side-_1-1-什么是内建模块" data-v-b57cc07c>1.1 什么是内建模块</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_1-2-模块导入机制" class="sidebar-link reco-side-_1-2-模块导入机制" data-v-b57cc07c>1.2 模块导入机制</a></li><li class="level-2" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#二、系统交互模块" class="sidebar-link reco-side-二、系统交互模块" data-v-b57cc07c>二、系统交互模块</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_2-1-os模块-操作系统接口" class="sidebar-link reco-side-_2-1-os模块-操作系统接口" data-v-b57cc07c>2.1 os模块 - 操作系统接口</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_2-2-sys模块-系统特定参数" class="sidebar-link reco-side-_2-2-sys模块-系统特定参数" data-v-b57cc07c>2.2 sys模块 - 系统特定参数</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_2-3-platform模块-平台信息" class="sidebar-link reco-side-_2-3-platform模块-平台信息" data-v-b57cc07c>2.3 platform模块 - 平台信息</a></li><li class="level-2" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#三、时间处理模块" class="sidebar-link reco-side-三、时间处理模块" data-v-b57cc07c>三、时间处理模块</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_3-1-datetime模块-日期时间处理" class="sidebar-link reco-side-_3-1-datetime模块-日期时间处理" data-v-b57cc07c>3.1 datetime模块 - 日期时间处理</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_3-2-time模块-时间处理" class="sidebar-link reco-side-_3-2-time模块-时间处理" data-v-b57cc07c>3.2 time模块 - 时间处理</a></li><li class="level-2" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#四、数据处理模块" class="sidebar-link reco-side-四、数据处理模块" data-v-b57cc07c>四、数据处理模块</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_4-1-json模块-json数据处理" class="sidebar-link reco-side-_4-1-json模块-json数据处理" data-v-b57cc07c>4.1 json模块 - JSON数据处理</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_4-2-csv模块-csv文件处理" class="sidebar-link reco-side-_4-2-csv模块-csv文件处理" data-v-b57cc07c>4.2 csv模块 - CSV文件处理</a></li><li class="level-2" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#五、数学计算模块" class="sidebar-link reco-side-五、数学计算模块" data-v-b57cc07c>五、数学计算模块</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_5-1-math模块-数学函数" class="sidebar-link reco-side-_5-1-math模块-数学函数" data-v-b57cc07c>5.1 math模块 - 数学函数</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_5-2-random模块-随机数生成" class="sidebar-link reco-side-_5-2-random模块-随机数生成" data-v-b57cc07c>5.2 random模块 - 随机数生成</a></li><li class="level-2" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#六、网络编程模块" class="sidebar-link reco-side-六、网络编程模块" data-v-b57cc07c>六、网络编程模块</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_6-1-urllib模块-url处理" class="sidebar-link reco-side-_6-1-urllib模块-url处理" data-v-b57cc07c>6.1 urllib模块 - URL处理</a></li><li class="level-2" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#七、文件处理模块" class="sidebar-link reco-side-七、文件处理模块" data-v-b57cc07c>七、文件处理模块</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_7-1-pathlib模块-现代路径处理" class="sidebar-link reco-side-_7-1-pathlib模块-现代路径处理" data-v-b57cc07c>7.1 pathlib模块 - 现代路径处理</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_7-2-shutil模块-高级文件操作" class="sidebar-link reco-side-_7-2-shutil模块-高级文件操作" data-v-b57cc07c>7.2 shutil模块 - 高级文件操作</a></li><li class="level-2" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#八、实用工具模块" class="sidebar-link reco-side-八、实用工具模块" data-v-b57cc07c>八、实用工具模块</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_8-1-collections模块-特殊容器" class="sidebar-link reco-side-_8-1-collections模块-特殊容器" data-v-b57cc07c>8.1 collections模块 - 特殊容器</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_8-2-itertools模块-迭代器工具" class="sidebar-link reco-side-_8-2-itertools模块-迭代器工具" data-v-b57cc07c>8.2 itertools模块 - 迭代器工具</a></li><li class="level-2" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#九、总结与最佳实践" class="sidebar-link reco-side-九、总结与最佳实践" data-v-b57cc07c>九、总结与最佳实践</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_9-1-模块选择指南" class="sidebar-link reco-side-_9-1-模块选择指南" data-v-b57cc07c>9.1 模块选择指南</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_9-2-最佳实践" class="sidebar-link reco-side-_9-2-最佳实践" data-v-b57cc07c>9.2 最佳实践</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_9-3-常见陷阱和解决方案" class="sidebar-link reco-side-_9-3-常见陷阱和解决方案" data-v-b57cc07c>9.3 常见陷阱和解决方案</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#_9-4-学习建议" class="sidebar-link reco-side-_9-4-学习建议" data-v-b57cc07c>9.4 学习建议</a></li><li class="level-2" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#总结" class="sidebar-link reco-side-总结" data-v-b57cc07c>总结</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#核心收获" class="sidebar-link reco-side-核心收获" data-v-b57cc07c>核心收获</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#关键技能" class="sidebar-link reco-side-关键技能" data-v-b57cc07c>关键技能</a></li><li class="level-3" data-v-b57cc07c><a href="/JavaPlusDoc/Python/15.html#下一步学习" class="sidebar-link reco-side-下一步学习" data-v-b57cc07c>下一步学习</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----><div></div><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-5775ee02>
      欢迎来到 Jeskson-微服务分布式
    </div> <div class="operation" style="right:90px;bottom:40px;display:none;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:none;" data-v-5775ee02></i></div> <canvas id="banniang" width="150" height="260" class="live2d" style="width:100px;position:fixed;right:0px;bottom:0px;opacity:0.9;z-index:99999;object-fit:cover;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    看板娘
  </div></div></div></div>
    <script src="/JavaPlusDoc/assets/js/app.ff4b1912.js" defer></script><script src="/JavaPlusDoc/assets/js/7.dfc0397a.js" defer></script><script src="/JavaPlusDoc/assets/js/2.cfbace72.js" defer></script><script src="/JavaPlusDoc/assets/js/1.d59a348b.js" defer></script><script src="/JavaPlusDoc/assets/js/132.f2e05b7b.js" defer></script>
  </body>
</html>
