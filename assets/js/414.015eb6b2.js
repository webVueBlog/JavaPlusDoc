(window.webpackJsonp=window.webpackJsonp||[]).push([[414],{1272:function(_,v,t){"use strict";t.r(v);var r=t(1),e=Object(r.a)({},(function(){var _=this,v=_._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[v("blockquote",[v("p",[_._v("点击勘误"),v("a",{attrs:{href:"https://github.com/webVueBlog/JavaPlusDoc/issues",target:"_blank",rel:"noopener noreferrer"}},[_._v("issues"),v("OutboundLink")],1),_._v("，哪吒感谢大家的阅读")])]),_._v(" "),v("img",{attrs:{align:"right",width:"100",src:"https://cdn.jsdelivr.net/gh/YunYouJun/yun/images/yun-alpha-compressed.png"}}),_._v(" "),v("h2",{attrs:{id:"打包发布全流程-ios-android"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#打包发布全流程-ios-android"}},[_._v("#")]),_._v(" 打包发布全流程（iOS + Android）")]),_._v(" "),v("p",[_._v("加群联系作者vx：xiaoda0423")]),_._v(" "),v("p",[_._v("仓库地址："),v("a",{attrs:{href:"https://webvueblog.github.io/JavaPlusDoc/",target:"_blank",rel:"noopener noreferrer"}},[_._v("https://webvueblog.github.io/JavaPlusDoc/"),v("OutboundLink")],1)]),_._v(" "),v("p",[v("a",{attrs:{href:"https://1024bat.cn/",target:"_blank",rel:"noopener noreferrer"}},[_._v("https://1024bat.cn/"),v("OutboundLink")],1)]),_._v(" "),v("p",[v("a",{attrs:{href:"https://github.com/webVueBlog/fastapi_plus",target:"_blank",rel:"noopener noreferrer"}},[_._v("https://github.com/webVueBlog/fastapi_plus"),v("OutboundLink")],1)]),_._v(" "),v("p",[v("a",{attrs:{href:"https://webvueblog.github.io/JavaPlusDoc/",target:"_blank",rel:"noopener noreferrer"}},[_._v("https://webvueblog.github.io/JavaPlusDoc/"),v("OutboundLink")],1)]),_._v(" "),v("h2",{attrs:{id:"一、项目准备"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#一、项目准备"}},[_._v("#")]),_._v(" 一、项目准备")]),_._v(" "),v("ol",[v("li",[v("p",[v("strong",[_._v("安装 HBuilderX")]),v("br"),_._v("\n下载并安装最新版 HBuilderX（内置 uni-app 打包能力）："),v("br"),_._v(" "),v("a",{attrs:{href:"https://www.dcloud.io/hbuilderx.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("https://www.dcloud.io/hbuilderx.html"),v("OutboundLink")],1)])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("配置 "),v("code",[_._v("manifest.json")])]),v("br"),_._v("\n打开项目根目录下 "),v("code",[_._v("manifest.json")]),_._v("，在「App–iOS」「App–Android」栏目中填写：")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("App 名称、包名")]),_._v("（如 "),v("code",[_._v("com.example.myapp")]),_._v("）")]),_._v(" "),v("li",[v("strong",[_._v("应用版本号")]),_._v("（"),v("code",[_._v("versionName")]),_._v(" / "),v("code",[_._v("versionCode")]),_._v("）")]),_._v(" "),v("li",[v("strong",[_._v("应用图标")]),_._v("、"),v("strong",[_._v("启动图")])]),_._v(" "),v("li",[v("strong",[_._v("权限声明")]),_._v("（定位、相机、网络等）")]),_._v(" "),v("li",[v("strong",[_._v("入口页面")]),_._v(" 与 "),v("strong",[_._v("网络白名单")])])])])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"二、android-打包与发布"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#二、android-打包与发布"}},[_._v("#")]),_._v(" 二、Android 打包与发布")]),_._v(" "),v("h3",{attrs:{id:"_1-环境准备"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-环境准备"}},[_._v("#")]),_._v(" 1. 环境准备")]),_._v(" "),v("ul",[v("li",[_._v("JDK 8（推荐）+ Android SDK + Android NDK（某些插件需要）")]),_._v(" "),v("li",[_._v("Android Studio（可选，用于调试原生插件）")])]),_._v(" "),v("h3",{attrs:{id:"_2-使用-hbuilderx-一键打包"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用-hbuilderx-一键打包"}},[_._v("#")]),_._v(" 2. 使用 HBuilderX 一键打包")]),_._v(" "),v("ol",[v("li",[v("p",[_._v("打开 HBuilderX，右键项目名 → "),v("strong",[_._v("发行")]),_._v(" → "),v("strong",[_._v("原生App-云打包（Android）")])])]),_._v(" "),v("li",[v("p",[_._v("填写 "),v("code",[_._v("Keystore")]),_._v(" 信息：")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("证书别名")]),_._v("、"),v("strong",[_._v("Keystore 路径")]),_._v("、"),v("strong",[_._v("密码")])])])]),_._v(" "),v("li",[v("p",[_._v("选择 "),v("strong",[_._v("Debug")]),_._v(" 或 "),v("strong",[_._v("Release")]),_._v(" 打包")])]),_._v(" "),v("li",[v("p",[_._v("提交打包后，DCloud 云端会返回一个 "),v("code",[_._v(".apk")]),_._v(" 或 "),v("code",[_._v(".aab")]),_._v(" 下载链接")])])]),_._v(" "),v("blockquote",[v("p",[v("strong",[_._v("Tips")]),_._v("："),v("code",[_._v(".aab")]),_._v(" 包支持 Google Play 动态交付，推荐使用。")])]),_._v(" "),v("h3",{attrs:{id:"_3-本地离线打包-可选"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-本地离线打包-可选"}},[_._v("#")]),_._v(" 3. 本地离线打包（可选）")]),_._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[_._v("# 安装 cli 打包工具\nnpm install -g @dcloudio/uni-app\n\n# 进入项目目录\ncd my-uniapp-project\n\n# 构建发行包\nnpm run build:app-plus\n\n# 打开 Android Studio 导入 “unpackage/android/gradle” 目录\n# 在 Android Studio 中签名打包：Build → Generate Signed Bundle / APK\n")])])]),v("h3",{attrs:{id:"_4-发布到-google-play"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-发布到-google-play"}},[_._v("#")]),_._v(" 4. 发布到 Google Play")]),_._v(" "),v("ol",[v("li",[_._v("登录 Google Play Console")]),_._v(" "),v("li",[_._v("新建应用 → 上传 "),v("code",[_._v(".aab")])]),_._v(" "),v("li",[_._v("填写应用详情（描述、截图、分类、隐私政策等）")]),_._v(" "),v("li",[_._v("设置分发国家/地区、价格、内容分级")]),_._v(" "),v("li",[_._v("执行审核并发布")])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"三、ios-打包与发布"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#三、ios-打包与发布"}},[_._v("#")]),_._v(" 三、iOS 打包与发布")]),_._v(" "),v("h3",{attrs:{id:"_1-环境准备-2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-环境准备-2"}},[_._v("#")]),_._v(" 1. 环境准备")]),_._v(" "),v("ul",[v("li",[_._v("macOS + Xcode（最新版）")]),_._v(" "),v("li",[_._v("Apple 开发者账号（Individual 或 Company）")]),_._v(" "),v("li",[_._v("配置好 Bundle ID，与 "),v("code",[_._v("manifest.json")]),_._v(" 中一致")])]),_._v(" "),v("h3",{attrs:{id:"_2-使用-hbuilderx-云打包-白名单内需要设备-udid"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-使用-hbuilderx-云打包-白名单内需要设备-udid"}},[_._v("#")]),_._v(" 2. 使用 HBuilderX 云打包（白名单内需要设备 UDID）")]),_._v(" "),v("ol",[v("li",[v("p",[_._v("打开 HBuilderX，右键项目名 → "),v("strong",[_._v("发行")]),_._v(" → "),v("strong",[_._v("原生App-云打包（iOS）")])])]),_._v(" "),v("li",[v("p",[_._v("填写 Apple 开发者账号凭证")])]),_._v(" "),v("li",[v("p",[_._v("选择包类型：")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("Development")]),_._v("（调试包，需要把设备 UDID 加到 Provisioning Profile）")]),_._v(" "),v("li",[v("strong",[_._v("Ad Hoc")]),_._v("（内测包，可分发给绑定的 UDID 设备）")]),_._v(" "),v("li",[v("strong",[_._v("App Store")]),_._v("（正式包，用于提交审核）")])])]),_._v(" "),v("li",[v("p",[_._v("提交后下载 "),v("code",[_._v(".ipa")]),_._v(" 文件")])])]),_._v(" "),v("h3",{attrs:{id:"_3-本地离线打包-进阶"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-本地离线打包-进阶"}},[_._v("#")]),_._v(" 3. 本地离线打包（进阶）")]),_._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[_._v("# 构建发行包\nnpm run build:app-plus\n\n# 在 Xcode 中打开 “unpackage/ios/…/UnityApp.xcworkspace”\n# 选择签名证书和对应的 Provisioning Profile\n# Product → Archive 打包\n# Archive 完成后通过 Organizer 上传到 App Store Connect\n")])])]),v("h3",{attrs:{id:"_4-发布到-app-store"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-发布到-app-store"}},[_._v("#")]),_._v(" 4. 发布到 App Store")]),_._v(" "),v("ol",[v("li",[v("p",[_._v("登录 App Store Connect → My Apps → + → New App")])]),_._v(" "),v("li",[v("p",[_._v("填写 App 信息（名称、SKU、Bundle ID）")])]),_._v(" "),v("li",[v("p",[_._v("上传 "),v("code",[_._v(".ipa")]),_._v("（可用 Xcode 的 Organizer 或 "),v("code",[_._v("altool")]),_._v(" 命令行）")]),_._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[_._v("xcrun altool --upload-app -f MyApp.ipa -u APPLE_ID -p APP_SPECIFIC_PASSWORD\n")])])])]),_._v(" "),v("li",[v("p",[_._v("填写版本说明、截图、关键词、隐私政策等")])]),_._v(" "),v("li",[v("p",[_._v("提交审核 → 发布")])])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"四、持续集成-自动发布-选做"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#四、持续集成-自动发布-选做"}},[_._v("#")]),_._v(" 四、持续集成 & 自动发布（选做）")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("GitHub Actions / GitLab CI")]),_._v("：结合 uni-app CLI，自动执行 "),v("code",[_._v("npm run build:app-plus")]),_._v("、签名、上传云打包 API")]),_._v(" "),v("li",[v("strong",[_._v("钉钉/邮件通知")]),_._v("：打包完成后推送通知给 QA 进行验收")])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"五、常见注意事项"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#五、常见注意事项"}},[_._v("#")]),_._v(" 五、常见注意事项")]),_._v(" "),v("ol",[v("li",[v("p",[v("strong",[_._v("包名与 Bundle ID")]),_._v(" 一旦发布后不可更改，否则用户升级会失败。")])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("版本号与版本码")])]),_._v(" "),v("ul",[v("li",[_._v("Android："),v("code",[_._v("versionName")]),_._v("（展示给用户）+ "),v("code",[_._v("versionCode")]),_._v("（内部比较）")]),_._v(" "),v("li",[_._v("iOS："),v("code",[_._v("CFBundleShortVersionString")]),_._v(" + "),v("code",[_._v("CFBundleVersion")]),_._v("（内部）")])])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("图标和启动图")])]),_._v(" "),v("ul",[v("li",[_._v("iOS：需要多分辨率（@1x/@2x/@3x），HBuilderX 会自动生成；")]),_._v(" "),v("li",[_._v("Android：Adaptive Icons（前景+背景图）")])])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("权限合规")]),_._v("：按需申请权限，并在 App Store / Google Play 上填写隐私条款。")])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("网络安全")]),_._v("：Android 9+ 需要 HTTPS，或在 "),v("code",[_._v("AndroidManifest.xml")]),_._v(" 配置 "),v("code",[_._v("usesCleartextTraffic")]),_._v("。")])])]),_._v(" "),v("h2",{attrs:{id:"一、准备工作"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#一、准备工作"}},[_._v("#")]),_._v(" 一、准备工作")]),_._v(" "),v("ol",[v("li",[v("p",[v("strong",[_._v("安装工具")])]),_._v(" "),v("ul",[v("li",[_._v("HBuilderX（推荐最新版）")]),_._v(" "),v("li",[_._v("Node.js 环境（如需 CLI 打包）")]),_._v(" "),v("li",[_._v("Xcode（MacOS，用于 iOS 真机调试与 App Store 上传）")]),_._v(" "),v("li",[_._v("Android Studio + Android SDK")])])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("配置证书与签名")])]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("iOS")]),_._v("：在 Apple Developer 上创建 App ID、下载并安装 "),v("code",[_._v("*.p12")]),_._v(" 开发/生产证书和对应的 Provisioning Profile；")]),_._v(" "),v("li",[v("strong",[_._v("Android")]),_._v("：准备好用于签名的 keystore（"),v("code",[_._v(".keystore")]),_._v(" 或 "),v("code",[_._v(".jks")]),_._v("），记住 alias、密码等信息。")])])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("项目设置")])]),_._v(" "),v("ul",[v("li",[v("p",[_._v("编辑项目根目录下的 "),v("code",[_._v("manifest.json")]),_._v(" → "),v("strong",[_._v("App-PLUS")]),_._v(" 节点：")]),_._v(" "),v("ul",[v("li",[v("p",[_._v("填写 App 名称、包名（Bundle Identifier / ApplicationId）、版本号、图标、启动图；")])]),_._v(" "),v("li",[v("p",[_._v("iOS & Android 各自签名配置可以预先填入：")]),_._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[_._v('"app-plus": {\n  "distribute": {\n    "android": {\n      "keystore": "release.jks",\n      "storePassword": "****",\n      "alias": "myalias",\n      "password": "****"\n    },\n    "ios": {\n      "certificateP12": "cert.p12",\n      "certificatePassword": "****",\n      "provision": "profile.mobileprovision"\n    }\n  }\n}\n')])])])])])])])])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"二、本地打包-hbuilderx-cli"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#二、本地打包-hbuilderx-cli"}},[_._v("#")]),_._v(" 二、本地打包（HBuilderX / CLI）")]),_._v(" "),v("h3",{attrs:{id:"_1-hbuilderx-一键打包"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-hbuilderx-一键打包"}},[_._v("#")]),_._v(" 1. HBuilderX 一键打包")]),_._v(" "),v("ul",[v("li",[_._v("打开 HBuilderX → 菜单【发行】→【原生App-云打包】→ 选择 "),v("strong",[_._v("Android(iOS)")]),_._v(" → 上传签名配置 → 点击 "),v("strong",[_._v("立即打包")]),_._v("。")]),_._v(" "),v("li",[_._v("打包成功后，可在 “打包管理” 中下载 "),v("code",[_._v(".apk")]),_._v("/"),v("code",[_._v(".aab")]),_._v(" 或 "),v("code",[_._v(".ipa")]),_._v(" 文件。")])]),_._v(" "),v("h3",{attrs:{id:"_2-cli-本地打包"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-cli-本地打包"}},[_._v("#")]),_._v(" 2. CLI 本地打包")]),_._v(" "),v("p",[v("em",[_._v("（适合脚本化或不想依赖云打包时）")])]),_._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[_._v("# 进入项目目录\ncd your-uni-app\n\n# 安装依赖（首次）\nnpm install\n\n# 构建 App-PLUS\nnpm run build:app-plus\n# 或者（使用 vue-cli-plugin-uni）\n# vue-cli-service uni-build --platform app-plus\n\n# 打开原生工程\n# Android → dist/build/app-plus/android\n# iOS     → dist/build/app-plus/ios\n")])])]),v("hr"),_._v(" "),v("h2",{attrs:{id:"三、原生项目导出与签名"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#三、原生项目导出与签名"}},[_._v("#")]),_._v(" 三、原生项目导出与签名")]),_._v(" "),v("h3",{attrs:{id:"_1-android-原生工程-android-studio"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-android-原生工程-android-studio"}},[_._v("#")]),_._v(" 1. Android 原生工程（Android Studio）")]),_._v(" "),v("ol",[v("li",[v("p",[_._v("在 HBuilderX 或 CLI 构建完后，进入 "),v("code",[_._v("dist/build/app-plus/android")]),_._v("，用 Android Studio 打开。")])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("配置签名")]),_._v("：")]),_._v(" "),v("ul",[v("li",[_._v("在 "),v("code",[_._v("app/build.gradle")]),_._v(" 的 "),v("code",[_._v("signingConfigs")]),_._v(" 里填入 keystore 信息；")]),_._v(" "),v("li",[_._v("在 "),v("code",[_._v("buildTypes")]),_._v(" 里引用对应的签名配置（release）。")])])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("生成 APK/AAB")]),_._v("：")]),_._v(" "),v("ul",[v("li",[_._v("菜单【Build】→【Generate Signed Bundle/APK】→ 选择 "),v("strong",[_._v("APK")]),_._v(" 或 "),v("strong",[_._v("Android App Bundle (AAB)")]),_._v(" → 选择签名 → Finish。")])])])]),_._v(" "),v("h3",{attrs:{id:"_2-ios-原生工程-xcode"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-ios-原生工程-xcode"}},[_._v("#")]),_._v(" 2. iOS 原生工程（Xcode）")]),_._v(" "),v("ol",[v("li",[v("p",[_._v("在 macOS 上，用 Xcode 打开 "),v("code",[_._v("dist/build/app-plus/ios/*.xcworkspace")]),_._v("（或 "),v("code",[_._v(".xcodeproj")]),_._v("）。")])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("配置签名")]),_._v("：")]),_._v(" "),v("ul",[v("li",[_._v("在 "),v("strong",[_._v("Targets → Signing & Capabilities")]),_._v(" 中，选择对应的 Team、Provisioning Profile；")]),_._v(" "),v("li",[_._v("确认 Bundle Identifier 与 Apple Developer 上一致。")])])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("打包导出")]),_._v("：")]),_._v(" "),v("ul",[v("li",[_._v("Product → Archive → Archive 完成后在 Organizer 中点击 "),v("strong",[_._v("Distribute App")]),_._v(" → 选择 "),v("strong",[_._v("App Store Connect")]),_._v(" → 上传到 TestFlight/App Store。")])])])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"四、应用发布"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#四、应用发布"}},[_._v("#")]),_._v(" 四、应用发布")]),_._v(" "),v("h3",{attrs:{id:"_1-android-→-google-play"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-android-→-google-play"}},[_._v("#")]),_._v(" 1. Android → Google Play")]),_._v(" "),v("ol",[v("li",[_._v("注册并登录 Google Play Console；")]),_._v(" "),v("li",[_._v("创建新应用，填写应用信息、隐私政策、截图；")]),_._v(" "),v("li",[_._v("上传 "),v("strong",[_._v("AAB")]),_._v("（推荐）或 "),v("strong",[_._v("APK")]),_._v("；")]),_._v(" "),v("li",[_._v("设置定价与分发国家/地区；")]),_._v(" "),v("li",[_._v("提交审核，审核通过后即可上架。")])]),_._v(" "),v("h3",{attrs:{id:"_2-ios-→-app-store"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-ios-→-app-store"}},[_._v("#")]),_._v(" 2. iOS → App Store")]),_._v(" "),v("ol",[v("li",[_._v("在 App Store Connect 中创建新 App（Bundle ID 已注册）；")]),_._v(" "),v("li",[_._v("填写应用信息、截图、版本说明；")]),_._v(" "),v("li",[_._v("等待 TestFlight + Apple 审核；")]),_._v(" "),v("li",[_._v("审核通过后手动或自动发布至 App Store。")])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"五、常见注意事项-2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#五、常见注意事项-2"}},[_._v("#")]),_._v(" 五、常见注意事项")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("版本号管理")]),_._v("：Android "),v("code",[_._v("versionCode")]),_._v(" 必须递增；iOS "),v("code",[_._v("CFBundleVersion")]),_._v(" 与 "),v("code",[_._v("CFBundleShortVersionString")]),_._v(" 规律一致。")]),_._v(" "),v("li",[v("strong",[_._v("多渠道包")]),_._v("（Android）：可在 "),v("code",[_._v("build.gradle")]),_._v(" 中用 "),v("code",[_._v("productFlavors")]),_._v(" 做渠道差异化打包。")]),_._v(" "),v("li",[v("strong",[_._v("自动化流水线")]),_._v("：可结合 Jenkins/GitLab CI 调用 CLI 脚本实现全量自动打包与签名。")]),_._v(" "),v("li",[v("strong",[_._v("测试环节")]),_._v("：建议先走灰度/TestFlight，再全量发布，及时监控崩溃与关键指标。")])]),_._v(" "),v("blockquote",[v("p",[_._v("以 "),v("strong",[_._v("HBuilderX 3.x")]),_._v(" + "),v("strong",[_._v("uni-app CLI（vite）")]),_._v(" 为例，分为"),v("br"),_._v(" "),v("strong",[_._v("准备 → 打包 → 签名 → 测试 → 商店发布 / 私有分发")]),_._v("，两端各自有差异。")])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"_1-通用准备"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-通用准备"}},[_._v("#")]),_._v(" 1. 通用准备")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("动作")]),_._v(" "),v("th",[_._v("关键点")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[v("strong",[_._v("① 升级环境")])]),_._v(" "),v("td",[_._v("HBuilderX ≥ 3.8 / Node ≥ 16 / JDK 11 / Android Studio ≥ Arctic Fox")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("② 清理依赖")])]),_._v(" "),v("td",[v("code",[_._v("npm run clean && npm install --legacy-peer-deps")])])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("③ 配置 appId")])]),_._v(" "),v("td",[v("code",[_._v("manifest.json")]),_._v(" → "),v("code",[_._v("AppID")]),_._v("（唯一），同时填公司包名（如 "),v("code",[_._v("com.example.app")]),_._v("）")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("④ 资源规范")])]),_._v(" "),v("td",[_._v("512×512 icon、1024×1024 iOS App Store icon、启动图按官方模板自适配")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("⑤ 版本号")])]),_._v(" "),v("td",[_._v("遵循 "),v("strong",[_._v("Android versionCode 递增整数 / iOS CFBundleVersion")]),_._v("；"),v("code",[_._v("package.json")]),_._v(" & "),v("code",[_._v("manifest")]),_._v(" 同步")])])])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"_2-android-端"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-android-端"}},[_._v("#")]),_._v(" 2. Android 端")]),_._v(" "),v("h3",{attrs:{id:"_2-1-打包方式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-打包方式"}},[_._v("#")]),_._v(" 2.1 打包方式")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("方式")]),_._v(" "),v("th",[_._v("适用")]),_._v(" "),v("th",[_._v("步骤概要")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[v("strong",[_._v("① HBuilderX 云打包")]),_._v(" (最快)")]),_._v(" "),v("td",[_._v("小团队 / 无原生拓展")]),_._v(" "),v("td",[_._v("① 登录 DCloud Dev 账号 → ② 勾选“发行” → ③ 上传 keystore → ④ 点击“云端打包”")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("② uni-app CLI → Android Studio")]),_._v(" (可深度定制)")]),_._v(" "),v("td",[_._v("需改原生插件 / 需要 AAB")]),_._v(" "),v("td",[v("code",[_._v("bash<br>npm run build:app-android<br>cd platforms/android<br>./gradlew assembleRelease # APK<br>./gradlew bundleRelease # AAB")])])])])]),_._v(" "),v("h3",{attrs:{id:"_2-2-签名-出包"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-签名-出包"}},[_._v("#")]),_._v(" 2.2 签名 & 出包")]),_._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[_._v("# 生成 keystore（若没有）\nkeytool -genkey -v -keystore my-release.jks -alias mykey \\\n  -keyalg RSA -keysize 2048 -validity 36500\n")])])]),v("ol",[v("li",[v("strong",[_._v("HBuilderX")]),_._v("：菜单「发行 → 原生 App-Android」→ 选择 keystore、输入密码")]),_._v(" "),v("li",[v("strong",[_._v("Gradle")]),_._v("：在 "),v("code",[_._v("android/gradle.properties")]),_._v(" 填 "),v("code",[_._v("MY_KEYSTORE_PASSWORD")]),_._v(" …，"),v("code",[_._v("build.gradle")]),_._v(" 内 "),v("code",[_._v("signingConfigs")]),_._v(" 引用环境变量。")]),_._v(" "),v("li",[_._v("打完包得 "),v("strong",[_._v("AAB")]),_._v(" (Google Play 强推)；国内渠道仍可用 APK。")])]),_._v(" "),v("h3",{attrs:{id:"_2-3-发布"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-发布"}},[_._v("#")]),_._v(" 2.3 发布")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("渠道")]),_._v(" "),v("th",[_._v("步骤")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[v("strong",[_._v("Google Play")])]),_._v(" "),v("td",[_._v("① 创建应用 → ② 上传 .aab → ③ 填隐私政策 / 内容分级 → ④ 上线 Production/Closed Test")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("各大商店")]),_._v(" (华为/小米/魅族…)")]),_._v(" "),v("td",[_._v("需 APK；注意包名一致、签名一致，版本号严格递增")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("企业私发")])]),_._v(" "),v("td",[_._v("内网蒲公英 / Fir / 自建对象存储 + 二维码")])])])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"_3-ios-端"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-ios-端"}},[_._v("#")]),_._v(" 3. iOS 端")]),_._v(" "),v("h3",{attrs:{id:"_3-1-打包方式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-打包方式"}},[_._v("#")]),_._v(" 3.1 打包方式")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("方式")]),_._v(" "),v("th",[_._v("优缺点")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[v("strong",[_._v("HBuilderX 云打包（推荐）")])]),_._v(" "),v("td",[_._v("免 Mac，自动生成 .ipa；不足：原生插件受限、需上传 p12+描述文件")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("uni-app CLI → Xcode")])]),_._v(" "),v("td",[_._v("最灵活，支持最新 iOS SDK、Swift 插件，需 macOS & Xcode")])])])]),_._v(" "),v("h3",{attrs:{id:"_3-2-证书与描述文件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-证书与描述文件"}},[_._v("#")]),_._v(" 3.2 证书与描述文件")]),_._v(" "),v("ol",[v("li",[v("p",[v("strong",[_._v("Apple Developer 账号")]),_._v("（99 USD/年，公司或个人）")])]),_._v(" "),v("li",[v("p",[_._v("在 "),v("strong",[_._v("Apple Developer → Certificates, Identifiers & Profiles")]),_._v("：")]),_._v(" "),v("ul",[v("li",[_._v("新建 "),v("strong",[_._v("App ID")]),_._v(" ("),v("code",[_._v("com.example.app")]),_._v(")")]),_._v(" "),v("li",[_._v("生成 "),v("strong",[_._v("Distribution Certificate")]),_._v("（.cer → 导出 .p12）")]),_._v(" "),v("li",[_._v("创建 "),v("strong",[_._v("Provisioning Profile")]),_._v("（App Store / Ad-Hoc / In-House）")])])])]),_._v(" "),v("blockquote",[v("p",[_._v("⚠️ "),v("strong",[_._v("Bundle Identifier & TeamID 必须与 manifest.json 完全一致")]),_._v("。")])]),_._v(" "),v("h3",{attrs:{id:"_3-3-打包流程-xcode"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-打包流程-xcode"}},[_._v("#")]),_._v(" 3.3 打包流程 (Xcode)")]),_._v(" "),v("div",{staticClass:"language- extra-class"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[_._v("npm run build:app-ios\nopen platforms/ios/*.xcworkspace   # 打开 Xcode\n# Xcode ▸ Product ▸ Archive ▸ Distribute App ▸ App Store / Ad-Hoc\n")])])]),v("p",[_._v("生成 "),v("code",[_._v(".ipa")]),_._v(" → "),v("strong",[_._v("Transporter")]),_._v(" 上传到 "),v("strong",[_._v("App Store Connect")]),_._v("。")]),_._v(" "),v("h3",{attrs:{id:"_3-4-测试-发布"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-测试-发布"}},[_._v("#")]),_._v(" 3.4 测试 & 发布")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("流程")]),_._v(" "),v("th",[_._v("关键动作")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[v("strong",[_._v("TestFlight")])]),_._v(" "),v("td",[_._v("Archive → Upload → “Internal / External Testers” → 发测试链接")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("App Store 正式")])]),_._v(" "),v("td",[_._v('填写元数据 + 隐私合规表单 + 截图（6.7", 5.5" 等）→ 提交审核（~24 h）')])])])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"_4-自动化-多渠道"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_4-自动化-多渠道"}},[_._v("#")]),_._v(" 4. 自动化 & 多渠道")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("目标")]),_._v(" "),v("th",[_._v("方案")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[v("strong",[_._v("CI/CD")])]),_._v(" "),v("td",[_._v("GitHub Actions / Jenkins Pipeline：① 安装 "),v("code",[_._v("node, java, android-sdk")]),_._v("② "),v("code",[_._v("npm ci && npm run build:app-android")]),_._v("③ "),v("code",[_._v("gradlew bundleRelease")]),_._v("④ "),v("code",[_._v("gcloud firebase appdistribution:distribute")]),_._v(" or "),v("code",[_._v("fastlane supply")])])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("Fastlane")])]),_._v(" "),v("td",[v("code",[_._v("fastlane deliver")]),_._v(" 上传 iOS"),v("code",[_._v("fastlane supply")]),_._v(" 上传 Play Store")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("多商店自动投递")])]),_._v(" "),v("td",[_._v("蒲公英 API / Fastlane plugin-appcenter / 酷安 OpenAPI")])])])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"_5-性能-体积优化"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_5-性能-体积优化"}},[_._v("#")]),_._v(" 5. 性能 & 体积优化")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("方向")]),_._v(" "),v("th",[_._v("技巧")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[v("strong",[_._v("代码裁剪")])]),_._v(" "),v("td",[v("code",[_._v("vite build --minify terser")]),_._v(" + Babel preset‐env "),v("code",[_._v("useBuiltIns: usage")])])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("动态加载")])]),_._v(" "),v("td",[_._v("分包 + "),v("code",[_._v("uni.loadSubPackage")]),_._v("，首屏 < 1 MB")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("资源压缩")])]),_._v(" "),v("td",[_._v("pngquant / webp / SVG")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("原生权限")])]),_._v(" "),v("td",[_._v("按需在 "),v("code",[_._v("manifest")]),_._v(" 勾选，iOS 需 Info.plist 描述")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("调试")])]),_._v(" "),v("td",[_._v("真机 "),v("code",[_._v("console.log")]),_._v(" 用 "),v("strong",[_._v("DCloud Devtools")]),_._v("；发布关闭 "),v("code",[_._v("vconsole")])])])])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"_6-常见坑"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_6-常见坑"}},[_._v("#")]),_._v(" 6. 常见坑")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("症状")]),_._v(" "),v("th",[_._v("解决方案")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("iOS App Store “ITMS-90473: Invalid Swift Support”")]),_._v(" "),v("td",[_._v("Xcode → Build Settings → Always Embed Swift Standard Libraries = "),v("strong",[_._v("No")])])]),_._v(" "),v("tr",[v("td",[_._v("Android 启动闪退")]),_._v(" "),v("td",[_._v("检查 "),v("code",[_._v("minSdkVersion")]),_._v(" ≤ 手机系统；64 bit 要求开启 "),v("code",[_._v("abiFilters arm64-v8a")])])]),_._v(" "),v("tr",[v("td",[_._v("App 内更新失败")]),_._v(" "),v("td",[_._v("Android 用 "),v("strong",[_._v("manifest upgrade")]),_._v(" 插件；iOS 只能跳转 App Store")])])])]),_._v(" "),v("hr"),_._v(" "),v("h3",{attrs:{id:"✅-结论"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#✅-结论"}},[_._v("#")]),_._v(" ✅ 结论")]),_._v(" "),v("ul",[v("li",[v("strong",[_._v("云打包")]),_._v("（DCloud）最快上线；"),v("strong",[_._v("CLI+原生 IDE")]),_._v(" 灵活可扩展。")]),_._v(" "),v("li",[v("strong",[_._v("签名文件")]),_._v(" & "),v("strong",[_._v("版本号")]),_._v(" = 两端发布核心；务必做好密钥备份。")]),_._v(" "),v("li",[_._v("生产前 3 件套："),v("strong",[_._v("崩溃监控")]),_._v("（Bugly/Sentry）、"),v("strong",[_._v("灰度发布")]),_._v("（TestFlight/内测包）、"),v("strong",[_._v("埋点")]),_._v("（友盟/自研）。")])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"🧱-一、准备工作-通用"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#🧱-一、准备工作-通用"}},[_._v("#")]),_._v(" 🧱 一、准备工作（通用）")]),_._v(" "),v("ol",[v("li",[v("p",[v("strong",[_._v("安装 HBuilderX（>= 3.1.0）")])]),_._v(" "),v("blockquote",[v("p",[_._v("官网下载："),v("a",{attrs:{href:"https://www.dcloud.io/hbuilderx.html",target:"_blank",rel:"noopener noreferrer"}},[_._v("https://www.dcloud.io/hbuilderx.html"),v("OutboundLink")],1)])])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("使用 HBuilderX 打开你的 UniApp 项目")])])]),_._v(" "),v("li",[v("p",[v("strong",[_._v("登录 DCloud 账号（HBuilderX 顶部菜单 → 登录）")])])])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"📦-二、安卓-apk-打包与发布流程"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#📦-二、安卓-apk-打包与发布流程"}},[_._v("#")]),_._v(" 📦 二、安卓 APK 打包与发布流程")]),_._v(" "),v("h3",{attrs:{id:"✅-方法一-使用-hbuilderx-云打包-推荐"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#✅-方法一-使用-hbuilderx-云打包-推荐"}},[_._v("#")]),_._v(" ✅ 方法一：使用 HBuilderX 云打包（推荐）")]),_._v(" "),v("ol",[v("li",[v("p",[_._v("在 HBuilderX 中，点击顶部菜单："),v("br"),_._v(" "),v("code",[_._v("发行")]),_._v(" → "),v("code",[_._v("原生App-云打包")])])]),_._v(" "),v("li",[v("p",[_._v("选择平台：Android")])]),_._v(" "),v("li",[v("p",[_._v("填写应用信息（第一次需要填 App 名称、包名、图标等）")])]),_._v(" "),v("li",[v("p",[_._v("点击【开始打包】")])]),_._v(" "),v("li",[v("p",[_._v("打包完成后，会生成 "),v("code",[_._v(".apk")]),_._v(" 文件，可以用于：")]),_._v(" "),v("ul",[v("li",[_._v("测试安装")]),_._v(" "),v("li",[_._v("上传到应用商店（如 华为、小米、应用宝）")])])])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"🍏-三、ios-打包与发布流程-需-apple-开发者账号"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#🍏-三、ios-打包与发布流程-需-apple-开发者账号"}},[_._v("#")]),_._v(" 🍏 三、iOS 打包与发布流程（需 Apple 开发者账号）")]),_._v(" "),v("h3",{attrs:{id:"⚠-前提"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#⚠-前提"}},[_._v("#")]),_._v(" ⚠ 前提：")]),_._v(" "),v("ul",[v("li",[_._v("你必须拥有 "),v("strong",[_._v("苹果开发者账号（$99/年）")])]),_._v(" "),v("li",[_._v("必须准备 "),v("code",[_._v(".p12")]),_._v(" 和 "),v("code",[_._v(".mobileprovision")]),_._v(" 文件（签名证书）")])]),_._v(" "),v("hr"),_._v(" "),v("h3",{attrs:{id:"✅-方法一-使用-hbuilderx-云打包-ios"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#✅-方法一-使用-hbuilderx-云打包-ios"}},[_._v("#")]),_._v(" ✅ 方法一：使用 HBuilderX 云打包 iOS")]),_._v(" "),v("ol",[v("li",[v("p",[_._v("在 HBuilderX → "),v("code",[_._v("发行")]),_._v(" → "),v("code",[_._v("原生App-云打包")])])]),_._v(" "),v("li",[v("p",[_._v("选择平台：iOS")])]),_._v(" "),v("li",[v("p",[_._v("上传 iOS 的签名文件（首次配置）")]),_._v(" "),v("ul",[v("li",[v("code",[_._v(".p12")]),_._v(" 是证书文件（使用钥匙串导出）")]),_._v(" "),v("li",[v("code",[_._v(".mobileprovision")]),_._v(" 是描述文件（在 Apple Developer 网站下载）")])])]),_._v(" "),v("li",[v("p",[_._v("开始打包，等待几分钟")])]),_._v(" "),v("li",[v("p",[_._v("生成 "),v("code",[_._v(".ipa")]),_._v(" 文件（你可以用 iOS 真机测试或提交到 App Store）")])])]),_._v(" "),v("hr"),_._v(" "),v("h3",{attrs:{id:"✅-提交到-app-store-步骤-选做"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#✅-提交到-app-store-步骤-选做"}},[_._v("#")]),_._v(" ✅ 提交到 App Store 步骤（选做）")]),_._v(" "),v("ol",[v("li",[_._v("下载 "),v("code",[_._v(".ipa")]),_._v(" 文件后，使用 "),v("a",{attrs:{href:"https://apps.apple.com/us/app/transporter/id1450874784",target:"_blank",rel:"noopener noreferrer"}},[_._v("Transporter"),v("OutboundLink")],1),_._v(" 上传至 App Store Connect")]),_._v(" "),v("li",[_._v("登录 "),v("a",{attrs:{href:"https://appstoreconnect.apple.com/",target:"_blank",rel:"noopener noreferrer"}},[_._v("App Store Connect"),v("OutboundLink")],1),_._v(" 完善 App 信息")]),_._v(" "),v("li",[_._v("提交审核，等待苹果通过（1～7天）")])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"✅-四、注意事项"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#✅-四、注意事项"}},[_._v("#")]),_._v(" ✅ 四、注意事项")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("问题")]),_._v(" "),v("th",[_._v("说明")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[v("strong",[_._v("安卓不能安装")])]),_._v(" "),v("td",[_._v("检查是否勾选了 "),v("code",[_._v("自定义调试基座")]),_._v(" 或 "),v("code",[_._v("64 位兼容")])])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("iOS 拒绝审核")])]),_._v(" "),v("td",[_._v("注意权限说明、隐私协议、版本号递增等")])]),_._v(" "),v("tr",[v("td",[v("strong",[_._v("调试与真机测试")])]),_._v(" "),v("td",[_._v("安卓可直接生成 "),v("code",[_._v("debug")]),_._v(" 包；iOS 建议用 TestFlight 测试")])])])]),_._v(" "),v("hr"),_._v(" "),v("h2",{attrs:{id:"🚀-小结"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#🚀-小结"}},[_._v("#")]),_._v(" 🚀 小结")]),_._v(" "),v("table",[v("thead",[v("tr",[v("th",[_._v("操作")]),_._v(" "),v("th",[_._v("安卓")]),_._v(" "),v("th",[_._v("iOS")])])]),_._v(" "),v("tbody",[v("tr",[v("td",[_._v("编译方式")]),_._v(" "),v("td",[_._v("云打包 / 本地打包")]),_._v(" "),v("td",[_._v("只能云打包")])]),_._v(" "),v("tr",[v("td",[_._v("需要开发者账号")]),_._v(" "),v("td",[_._v("否")]),_._v(" "),v("td",[_._v("✅ 必须")])]),_._v(" "),v("tr",[v("td",[_._v("测试方式")]),_._v(" "),v("td",[_._v("安装 "),v("code",[_._v(".apk")])]),_._v(" "),v("td",[v("code",[_._v(".ipa")]),_._v(" + TestFlight 或签名后手动安装")])]),_._v(" "),v("tr",[v("td",[_._v("上架流程")]),_._v(" "),v("td",[_._v("各大安卓市场")]),_._v(" "),v("td",[_._v("App Store 审核发布")])])])]),_._v(" "),v("hr")])}),[],!1,null,null,null);v.default=e.exports}}]);