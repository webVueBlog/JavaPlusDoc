(window.webpackJsonp=window.webpackJsonp||[]).push([[405],{1237:function(t,a,s){"use strict";s.r(a);var v=s(1),_=Object(v.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("blockquote",[a("p",[t._v("ç‚¹å‡»å‹˜è¯¯"),a("a",{attrs:{href:"https://github.com/webVueBlog/JavaPlusDoc/issues",target:"_blank",rel:"noopener noreferrer"}},[t._v("issues"),a("OutboundLink")],1),t._v("ï¼Œå“ªå’æ„Ÿè°¢å¤§å®¶çš„é˜…è¯»")])]),t._v(" "),a("img",{attrs:{align:"right",width:"100",src:"https://cdn.jsdelivr.net/gh/YunYouJun/yun/images/yun-alpha-compressed.png"}}),t._v(" "),a("h2",{attrs:{id:"ç¬”è®°1è¿ç»´æœåŠ¡å™¨6å¹´ç»éªŒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¬”è®°1è¿ç»´æœåŠ¡å™¨6å¹´ç»éªŒ"}},[t._v("#")]),t._v(" ç¬”è®°1è¿ç»´æœåŠ¡å™¨6å¹´ç»éªŒ")]),t._v(" "),a("h2",{attrs:{id:"âœ…-ä¸€ã€æŸ¥çœ‹ç«¯å£æ˜¯å¦è¢«å ç”¨çš„å¸¸ç”¨å‘½ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-ä¸€ã€æŸ¥çœ‹ç«¯å£æ˜¯å¦è¢«å ç”¨çš„å¸¸ç”¨å‘½ä»¤"}},[t._v("#")]),t._v(" âœ… ä¸€ã€æŸ¥çœ‹ç«¯å£æ˜¯å¦è¢«å ç”¨çš„å¸¸ç”¨å‘½ä»¤")]),t._v(" "),a("h3",{attrs:{id:"_1ï¸âƒ£-lsof-å‘½ä»¤-æœ€æ¨è"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1ï¸âƒ£-lsof-å‘½ä»¤-æœ€æ¨è"}},[t._v("#")]),t._v(" 1ï¸âƒ£ "),a("code",[t._v("lsof")]),t._v(" å‘½ä»¤ï¼ˆæœ€æ¨èï¼‰")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),t._v(" :ç«¯å£å·\n")])])]),a("h4",{attrs:{id:"ç¤ºä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¤ºä¾‹"}},[t._v("#")]),t._v(" ç¤ºä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),t._v(" :8080\n")])])]),a("p",[t._v("è¾“å‡ºï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("COMMAND   PID  USER   FD   TYPE  DEVICE SIZE/OFF NODE NAME\njava     1278  root   45u  IPv6  123456      0t0  TCP *:http-alt (LISTEN)\n")])])]),a("p",[t._v("è¡¨ç¤ºï¼šJava è¿›ç¨‹æ­£åœ¨ç›‘å¬ 8080 ç«¯å£ã€‚")]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"_2ï¸âƒ£-netstat-å‘½ä»¤-ä¼ ç»Ÿæ–¹å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2ï¸âƒ£-netstat-å‘½ä»¤-ä¼ ç»Ÿæ–¹å¼"}},[t._v("#")]),t._v(" 2ï¸âƒ£ "),a("code",[t._v("netstat")]),t._v(" å‘½ä»¤ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-tunlp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" :ç«¯å£å·\n")])])]),a("h4",{attrs:{id:"ç¤ºä¾‹-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¤ºä¾‹-2"}},[t._v("#")]),t._v(" ç¤ºä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-tunlp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" :8080\n")])])]),a("p",[t._v("è¾“å‡ºï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("tcp6  0  0 :::8080  :::*  LISTEN  1278/java\n")])])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"_3ï¸âƒ£-ss-å‘½ä»¤-æ›´å¿«æ›´ç°ä»£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3ï¸âƒ£-ss-å‘½ä»¤-æ›´å¿«æ›´ç°ä»£"}},[t._v("#")]),t._v(" 3ï¸âƒ£ "),a("code",[t._v("ss")]),t._v(" å‘½ä»¤ï¼ˆæ›´å¿«æ›´ç°ä»£ï¼‰")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("ss "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ltnp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" :ç«¯å£å·\n")])])]),a("h4",{attrs:{id:"ç¤ºä¾‹-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¤ºä¾‹-3"}},[t._v("#")]),t._v(" ç¤ºä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("ss "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ltnp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" :8080\n")])])]),a("p",[t._v("è¾“å‡ºï¼š")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('LISTEN 0 128 :::8080 :::* users:(("java",pid=1278,fd=45))\n')])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"âœ…-äºŒã€æŸ¥çœ‹å“ªä¸ªç¨‹åºå ç”¨äº†ç«¯å£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-äºŒã€æŸ¥çœ‹å“ªä¸ªç¨‹åºå ç”¨äº†ç«¯å£"}},[t._v("#")]),t._v(" âœ… äºŒã€æŸ¥çœ‹å“ªä¸ªç¨‹åºå ç”¨äº†ç«¯å£")]),t._v(" "),a("h3",{attrs:{id:"å‘½ä»¤ç»„åˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‘½ä»¤ç»„åˆ"}},[t._v("#")]),t._v(" å‘½ä»¤ç»„åˆï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),t._v(" :ç«¯å£å·\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æˆ–")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-tunlp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" :ç«¯å£å·\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æˆ–")]),t._v("\nss "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ltnp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" :ç«¯å£å·\n")])])]),a("p",[t._v("ä½ ä¼šçœ‹åˆ°ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("PID")]),t._v("ï¼šè¿›ç¨‹ ID")]),t._v(" "),a("li",[a("code",[t._v("COMMAND")]),t._v("ï¼šè¿›ç¨‹å")]),t._v(" "),a("li",[a("code",[t._v("fd")]),t._v("ï¼šæ–‡ä»¶æè¿°ç¬¦")]),t._v(" "),a("li",[a("code",[t._v("LISTEN")]),t._v(" çŠ¶æ€ï¼šè¡¨ç¤ºè¯¥ç«¯å£æ˜¯æœåŠ¡ç«¯ç›‘å¬ä¸­")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"âœ…-ä¸‰ã€æŸ¥çœ‹ç«¯å£æ˜¯å¦èƒ½è®¿é—®-è¿œç¨‹ç«¯å£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-ä¸‰ã€æŸ¥çœ‹ç«¯å£æ˜¯å¦èƒ½è®¿é—®-è¿œç¨‹ç«¯å£"}},[t._v("#")]),t._v(" âœ… ä¸‰ã€æŸ¥çœ‹ç«¯å£æ˜¯å¦èƒ½è®¿é—®ï¼ˆè¿œç¨‹ç«¯å£ï¼‰")]),t._v(" "),a("h3",{attrs:{id:"æœ¬åœ°-telnet-æµ‹è¯•è¿œç¨‹æ˜¯å¦é€š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬åœ°-telnet-æµ‹è¯•è¿œç¨‹æ˜¯å¦é€š"}},[t._v("#")]),t._v(" æœ¬åœ° telnetï¼ˆæµ‹è¯•è¿œç¨‹æ˜¯å¦é€šï¼‰ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("telnet "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ip")]),t._v(" port\n")])])]),a("h4",{attrs:{id:"ç¤ºä¾‹-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç¤ºä¾‹-4"}},[t._v("#")]),t._v(" ç¤ºä¾‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("telnet "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("127.0")]),t._v(".0.1 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("å¦‚æœæ˜¾ç¤º "),a("code",[t._v("Connected to 127.0.0.1.")]),t._v("ï¼Œè¯´æ˜ç«¯å£æ˜¯å¼€æ”¾çš„ã€‚")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"âœ…-å››ã€æ²¡æœ‰-lsof-netstat-æ—¶æ€ä¹ˆåŠ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-å››ã€æ²¡æœ‰-lsof-netstat-æ—¶æ€ä¹ˆåŠ"}},[t._v("#")]),t._v(" âœ… å››ã€æ²¡æœ‰ "),a("code",[t._v("lsof")]),t._v(" / "),a("code",[t._v("netstat")]),t._v(" æ—¶æ€ä¹ˆåŠï¼Ÿ")]),t._v(" "),a("p",[t._v("å®‰è£…å‘½ä»¤ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Debian/Ubuntu")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" net-tools\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# CentOS/RHEL")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lsof")]),t._v(" net-tools\n")])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"âœ…-äº”ã€è¿›é˜¶å·¥å…·-å¯é€‰"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-äº”ã€è¿›é˜¶å·¥å…·-å¯é€‰"}},[t._v("#")]),t._v(" âœ… äº”ã€è¿›é˜¶å·¥å…·ï¼ˆå¯é€‰ï¼‰")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("å·¥å…·")]),t._v(" "),a("th",[t._v("ç”¨é€”")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("nmap")])]),t._v(" "),a("td",[t._v("æ‰«ææœ¬æœºæˆ–è¿œç¨‹ç«¯å£æ˜¯å¦å¼€æ”¾")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("fuser")])]),t._v(" "),a("td",[t._v("å¿«é€Ÿæ‰¾å‡ºå“ªä¸ª PID å ç”¨ç«¯å£")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("nc -zv")])]),t._v(" "),a("td",[t._v("æµ‹è¯•ç«¯å£è¿é€šæ€§")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("`ss -anp")]),t._v(" "),a("td",[t._v("grep LISTEN`")]),t._v(" "),a("td",[t._v("é€šç”¨çš„ç›‘å¬ç«¯å£æ‰«æ")])])])]),t._v(" "),a("hr"),t._v(" "),a("blockquote",[a("p",[t._v("æŸ¥çœ‹ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼Œæˆ‘é€šå¸¸ä½¿ç”¨ "),a("code",[t._v("lsof -i :ç«¯å£")]),t._v(" æˆ– "),a("code",[t._v("ss -ltnp")]),t._v("ï¼Œèƒ½ç›´æ¥å®šä½æ˜¯å“ªä¸€ä¸ªè¿›ç¨‹ç›‘å¬è¯¥ç«¯å£ã€‚å®é™…ä¸­å¦‚æœæ˜¯ç«¯å£å†²çªå¯¼è‡´æœåŠ¡å¯åŠ¨å¤±è´¥ï¼Œå¯ä»¥ç»“åˆ "),a("code",[t._v("kill PID")]),t._v(" æˆ– "),a("code",[t._v("fuser -k")]),t._v(" æ¥é‡Šæ”¾ç«¯å£ã€‚")])]),t._v(" "),a("hr"),t._v(" "),a("ul",[a("li",[a("strong",[t._v("å…ˆå®è§‚ã€åç»†èŠ‚")]),t._v("ï¼šå…ˆçœ‹å…¨å±€æŒ‡æ ‡å†èšç„¦å…·ä½“è¿›ç¨‹ / çº¿ç¨‹ / è°ƒç”¨æ ˆ")]),t._v(" "),a("li",[a("strong",[t._v("å…ˆâ€œæ´»æ•°æ®â€ï¼Œåâ€œå†·åˆ†æâ€")]),t._v("ï¼šå…ˆç”¨å®æ—¶å·¥å…·æ•æ‰å¼‚å¸¸ï¼Œå†ç”¨ç¦»çº¿æ—¥å¿—æˆ– Dump æ·±æŒ–")]),t._v(" "),a("li",[a("strong",[t._v("ç•™è¯æ®ã€å¯å¤ç°")]),t._v("ï¼šæ‰§è¡Œé«˜é¢‘é‡‡æ ·æ—¶å…ˆç¡®è®¤ç£ç›˜ç©ºé—´ã€æƒé™å’Œå¯¹ä¸šåŠ¡çš„å½±å“")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_0-äº‹å‰å‡†å¤‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_0-äº‹å‰å‡†å¤‡"}},[t._v("#")]),t._v(" 0  äº‹å‰å‡†å¤‡")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("åŠ¨ä½œ")]),t._v(" "),a("th",[t._v("ç›®çš„")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("è®°å½•æ—¶é—´çº¿")]),t._v("ï¼ˆæŠ¥è­¦è§¦å‘ç‚¹ã€å³°å€¼å‡ºç°ç‚¹ï¼‰")]),t._v(" "),a("td",[t._v("æ–¹ä¾¿å¯¹æ¯”å‰ååŸºçº¿")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("ç¡®è®¤å˜æ›´")]),t._v("ï¼ˆå‘å¸ƒã€é…ç½®ã€æµé‡ï¼‰")]),t._v(" "),a("td",[t._v("æ’é™¤ä»£ç  / ä¸šåŠ¡å±‚é¢å› ç´ ")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("ç¡®ä¿ root / sudo + perf/ebpf æƒé™")])]),t._v(" "),a("td",[t._v("é¿å…ä¸´æ—¶è¢«å¡æƒé™")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_1-å¿«é€Ÿæ¨ªå‘ä½“æ£€-1-2-åˆ†é’Ÿ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¿«é€Ÿæ¨ªå‘ä½“æ£€-1-2-åˆ†é’Ÿ"}},[t._v("#")]),t._v(" 1  å¿«é€Ÿæ¨ªå‘ä½“æ£€ï¼ˆ1â€“2 åˆ†é’Ÿï¼‰")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("uptime")]),t._v("            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# load & run-queue")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("top")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-b")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# CPU/Load/Swap ä¸€çœ¼çœ‹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-m")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å†…å­˜æ¦‚è§ˆ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("df")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-hT")]),t._v("            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å®¹é‡/åªè¯»åˆ†åŒº")]),t._v("\niostat "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-xz")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç£ç›˜ util% / await")]),t._v("\nsar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" DEV "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç½‘å¡æ”¶å‘é€Ÿç‡/ä¸¢åŒ…")]),t._v("\n")])])]),a("blockquote",[a("p",[a("strong",[t._v("åˆ¤æ–­ä¼˜å…ˆçº§")]),t._v("ï¼š")]),t._v(" "),a("ol",[a("li",[t._v("loadâ‰ˆCPU æ ¸æ•°ä¸” %sy/%wa é«˜ â†’ å…ˆæŸ¥ CPU æˆ–ç£ç›˜")]),t._v(" "),a("li",[t._v("free å¯ç”¨å†…å­˜ä½ + swpd å¢é•¿ â†’ æŸ¥å†…å­˜æ³„æ¼ / OOM")]),t._v(" "),a("li",[t._v("iostat %util å¸¸å¹´ >80% æˆ– await > 50 ms â†’ æŸ¥ç£ç›˜")]),t._v(" "),a("li",[t._v("ç½‘ç»œä¸¢åŒ… / re-trans å¢é•¿ â†’ æŸ¥ç½‘ç»œ")])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_2-cpu-æ’æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-cpu-æ’æŸ¥"}},[t._v("#")]),t._v(" 2  CPU æ’æŸ¥")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("æ­¥éª¤")]),t._v(" "),a("th",[t._v("å‘½ä»¤")]),t._v(" "),a("th",[t._v("è¯´æ˜")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("â‘  è¿›ç¨‹å®šä½")]),t._v(" "),a("td",[a("code",[t._v("top -H")]),t._v(" / "),a("code",[t._v("htop")])]),t._v(" "),a("td",[t._v("æ‰¾åˆ°é«˜ CPU PID æˆ–çº¿ç¨‹ (TID)")])]),t._v(" "),a("tr",[a("td",[t._v("â‘¡ çº¿ç¨‹æºç å½’ä½")]),t._v(" "),a("td",[a("code",[t._v("ps -Lp <PID>")])]),t._v(" "),a("td",[t._v("å°† TID â†” çº¿ç¨‹å")])]),t._v(" "),a("tr",[a("td",[t._v("â‘¢ è°ƒç”¨æ ˆæŠ“å–")]),t._v(" "),a("td",[a("code",[t._v("perf top -p <PID>")]),t._v(" æˆ– "),a("code",[t._v("perf record -F 99 -p <PID> -- sleep 30")]),t._v("ï¼Œéšå "),a("code",[t._v("perf report")])]),t._v(" "),a("td",[t._v("å–çƒ­ç‚¹å‡½æ•°")])]),t._v(" "),a("tr",[a("td",[t._v("â‘£ Java ä¸“ç”¨")]),t._v(" "),a("td",[a("code",[t._v("jstack -l <PID>")]),t._v(" / async-profiler")]),t._v(" "),a("td",[t._v("å¯¹åº”çº¿ç¨‹çŠ¶æ€ã€æ­»å¾ªç¯ã€GC å¡é¡¿")])]),t._v(" "),a("tr",[a("td",[t._v("â‘¤ å†…æ ¸æŠ¢å ")]),t._v(" "),a("td",[a("code",[t._v("mpstat -P ALL 1")]),t._v("ã€"),a("code",[t._v("pidstat -w")])]),t._v(" "),a("td",[t._v("context-switchã€cpu steal åˆ¤æ–­è™šæœºå™ªéŸ³")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_3-å†…å­˜æ’æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-å†…å­˜æ’æŸ¥"}},[t._v("#")]),t._v(" 3  å†…å­˜æ’æŸ¥")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("æ­¥éª¤")]),t._v(" "),a("th",[t._v("å‘½ä»¤")]),t._v(" "),a("th",[t._v("è¯´æ˜")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("â‘  ëˆ„ìˆ˜åˆåˆ¤")]),t._v(" "),a("td",[a("code",[t._v("free -m")]),t._v("ã€"),a("code",[t._v("vmstat 1")])]),t._v(" "),a("td",[t._v("ç¼“å­˜/ç¼“å­˜å›æ”¶ã€swap in/out")])]),t._v(" "),a("tr",[a("td",[t._v("â‘¡ è¿›ç¨‹çº§")]),t._v(" "),a("td",[a("code",[t._v("top -o %MEM")]),t._v("ã€"),a("code",[t._v("smem -r")])]),t._v(" "),a("td",[t._v("æ‰¾å ç”¨æœ€å¤§çš„è¿›ç¨‹")])]),t._v(" "),a("tr",[a("td",[t._v("â‘¢ æ˜ å°„æ˜ç»†")]),t._v(" "),a("td",[a("code",[t._v("pmap -x <PID>")]),t._v(" / "),a("code",[t._v("cat /proc/<PID>/smaps_rollup")])]),t._v(" "),a("td",[t._v("å † / å…±äº«åº“ / åŒ¿åé¡µ")])]),t._v(" "),a("tr",[a("td",[t._v("â‘£ Java å †")]),t._v(" "),a("td",[a("code",[t._v("jmap -heap <PID>")]),t._v("ã€"),a("code",[t._v("jmap -histo:live")]),t._v("ã€"),a("code",[t._v("jcmd GC.heap_info")])]),t._v(" "),a("td",[t._v("è€å¹´ä»£æº¢å‡ºã€ç±»åŠ è½½é£™å‡")])]),t._v(" "),a("tr",[a("td",[t._v("â‘¤ å † Dump")]),t._v(" "),a("td",[a("code",[t._v("jmap -dump:live,format=b,file=heap.hprof <PID>")]),t._v("ï¼ŒMAT / VisualVM åˆ†æ")]),t._v(" "),a("td",[t._v("æ ¹å› å®šä½ï¼ˆé›†åˆæŒæœ‰ / ç¼“å­˜æœªæ¸…ï¼‰")])]),t._v(" "),a("tr",[a("td",[t._v("â‘¥ å†…æ ¸ç¼“å­˜")]),t._v(" "),a("td",[a("code",[t._v("slabtop")]),t._v("ã€"),a("code",[t._v("kmemleak")])]),t._v(" "),a("td",[t._v("ç½•è§ä½†è¦æ’é™¤ driver æ³„æ¼")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_4-ç£ç›˜-io-æ’æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-ç£ç›˜-io-æ’æŸ¥"}},[t._v("#")]),t._v(" 4  ç£ç›˜ & IO æ’æŸ¥")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("æ­¥éª¤")]),t._v(" "),a("th",[t._v("å‘½ä»¤")]),t._v(" "),a("th",[t._v("è¯´æ˜")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("â‘  è´Ÿè½½æ¦‚è§ˆ")]),t._v(" "),a("td",[a("code",[t._v("iostat -xz 1")])]),t._v(" "),a("td",[a("code",[t._v("%util")]),t._v("ã€"),a("code",[t._v("await")]),t._v("ã€"),a("code",[t._v("avgrq-sz")])])]),t._v(" "),a("tr",[a("td",[t._v("â‘¡ è¿›ç¨‹çº§")]),t._v(" "),a("td",[a("code",[t._v("pidstat -d 1")]),t._v("ã€"),a("code",[t._v("iotop -b -n 3")])]),t._v(" "),a("td",[t._v("å“ªä¸ªè¿›ç¨‹è¯»å†™å¤§")])]),t._v(" "),a("tr",[a("td",[t._v("â‘¢ ç£ç›˜å»¶è¿Ÿ")]),t._v(" "),a("td",[a("code",[t._v("blktrace /dev/sdX")]),t._v(" + "),a("code",[t._v("blkparse")])]),t._v(" "),a("td",[t._v("é˜Ÿåˆ—/è®¾å¤‡å±‚å»¶è¿Ÿ")])]),t._v(" "),a("tr",[a("td",[t._v("â‘£ æ–‡ä»¶å®šä½")]),t._v(" "),a("td",[a("code",[t._v("lsof +D /path")]),t._v(" æˆ– "),a("code",[t._v("fileslower-bpfcc")])]),t._v(" "),a("td",[t._v("é¢‘ç¹è®¿é—®æ–‡ä»¶è·¯å¾„")])]),t._v(" "),a("tr",[a("td",[t._v("â‘¤ FS çº§åˆ«")]),t._v(" "),a("td",[a("code",[t._v("df -ih")]),t._v("ã€"),a("code",[t._v("dumpe2fs -h")])]),t._v(" "),a("td",[t._v("inode è€—å°½ã€ç£ç›˜åå—")])]),t._v(" "),a("tr",[a("td",[t._v("â‘¥ è°ƒä¼˜")]),t._v(" "),a("td",[a("code",[t._v("deadlineâ†’mq-deadline")]),t._v("ã€"),a("code",[t._v("noop")]),t._v("ã€"),a("code",[t._v("fio")]),t._v(" åŸºå‡†")]),t._v(" "),a("td",[t._v("IO è°ƒåº¦ã€RAID/SSD é˜Ÿåˆ—æ·±åº¦")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_5-ç½‘ç»œæ’æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-ç½‘ç»œæ’æŸ¥"}},[t._v("#")]),t._v(" 5  ç½‘ç»œæ’æŸ¥")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("æ­¥éª¤")]),t._v(" "),a("th",[t._v("å‘½ä»¤")]),t._v(" "),a("th",[t._v("è¯´æ˜")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("â‘  é€Ÿç‡ / ä¸¢åŒ…")]),t._v(" "),a("td",[a("code",[t._v("sar -n DEV 1")]),t._v("ã€"),a("code",[t._v("ethtool -S eth0")])]),t._v(" "),a("td",[t._v("TX/RX errors, drops")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("â‘¡ è¿æ¥æ•°")]),t._v(" "),a("td",[a("code",[t._v("ss -s")]),t._v("ã€"),a("code",[t._v("ss -ant state established")])]),t._v(" "),a("td",[t._v("SYN flood? FD è€—å°½?")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("â‘¢ ä¼šè¯è¯¦æƒ…")]),t._v(" "),a("td",[a("code",[t._v("ss -ntp sport = :8080")])]),t._v(" "),a("td",[t._v("å“ªäº›è¿œç«¯è¿æ¥æœ€å¤š")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("â‘£ RTT / è·¯ç”±")]),t._v(" "),a("td",[a("code",[t._v("mtr <ip>")]),t._v("ã€"),a("code",[t._v("tracepath")])]),t._v(" "),a("td",[t._v("è·¨æœºæˆ¿æŠ–åŠ¨æ’é™¤")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("â‘¤ å¾®åŒ…/é‡ä¼ ")]),t._v(" "),a("td",[a("code",[t._v("tcpdump -i eth0 -w cap.pcap")]),t._v(" + Wireshark")]),t._v(" "),a("td",[t._v("Window sizeã€Dup ACK")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("â‘¥ Socket é˜Ÿåˆ—")]),t._v(" "),a("td",[t._v("`netstat -anp")]),t._v(" "),a("td",[t._v("grep "),a("PID",[a("code",[t._v("ã€")]),t._v("ss -ltn`")])],1),t._v(" "),a("td",[t._v("Recv-Q / Send-Q å µå¡")])])])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_6-è·¨èµ„æºç»¼åˆåˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-è·¨èµ„æºç»¼åˆåˆ†æ"}},[t._v("#")]),t._v(" 6  è·¨èµ„æºç»¼åˆåˆ†æ")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("æ—¶é—´è½´å¯¹é½")]),t._v("ï¼šGrafana/Prometheus å°† CPUã€iowaitã€GCã€p99 å»¶è¿Ÿæ”¾åœ¨åŒä¸€ Dashboardã€‚")]),t._v(" "),a("li",[a("strong",[t._v("å†…æ ¸ ebpf")]),t._v("ï¼šç”¨ bcc / bpftrace å³æ—¶è¿½è¸ª (e.g. "),a("code",[t._v("profile")]),t._v(", "),a("code",[t._v("tcpconnlat")]),t._v(", "),a("code",[t._v("biolatency")]),t._v(").")]),t._v(" "),a("li",[a("strong",[t._v("å‹æµ‹å¤ç°")]),t._v("ï¼šab / wrk / vegeta é‡æ”¾æµé‡ï¼Œé…åˆ "),a("code",[t._v("perf/kernexec")]),t._v(" æŠ“çƒ­ç‚¹ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("å®¹å™¨è§†è§’")]),t._v("ï¼š"),a("code",[t._v("docker stats")]),t._v("ã€cgroup "),a("code",[t._v("/sys/fs/cgroup/*/usage_usec")]),t._v("ã€K8s Metrics-Serverã€‚")]),t._v(" "),a("li",[a("strong",[t._v("è‡ªåŠ¨åŒ–")]),t._v("ï¼šæŠŠå¸¸ç”¨é‡‡æ ·è„šæœ¬å†™æˆ "),a("code",[t._v("diag.sh")]),t._v("ï¼Œé…åˆ Ansible/Fabric ä¸€é”®æ”¶é›†ï¼Œé¿å…çº¿ä¸Šæ‰‹åŠ¨è¯¯æ“ä½œã€‚")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"_7-å»ºè®®çš„-é»„é‡‘ä¸‰æ¿æ–§-è„šæœ¬"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-å»ºè®®çš„-é»„é‡‘ä¸‰æ¿æ–§-è„šæœ¬"}},[t._v("#")]),t._v(" 7  å»ºè®®çš„â€œé»„é‡‘ä¸‰æ¿æ–§â€è„šæœ¬")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# gstack + top")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("pid")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("top")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-b")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/^ *[0-9]+/ && $9>500 {print $1;exit}'")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\ngstack "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pid")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /tmp/stack."),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" +%s"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 30s CPU ç«ç„°å›¾")]),t._v("\nperf record "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-F")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("99")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-g")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pid")]),t._v(" -- "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v("\nperf script "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" flamegraph.pl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /tmp/cpu.svg\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ebpf: è¿æ¥å»¶è¿Ÿ")]),t._v("\n/tcpconnectlat-bpfcc "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /tmp/tcplat.log\n")])])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"ç»“è¯­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­"}},[t._v("#")]),t._v(" ç»“è¯­")]),t._v(" "),a("ol",[a("li",[a("strong",[t._v("å…ˆå®šä½èµ„æºç“¶é¢ˆ â†’ å†å®šä½è¿›ç¨‹ â†’ å†çœ‹çº¿ç¨‹ / è°ƒç”¨æ ˆ / ç³»ç»Ÿè°ƒç”¨ / æ•°æ®ç»“æ„")]),t._v("ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("å¤ç°-> é‡‡æ ·-> éªŒè¯")]),t._v("ï¼Œä»»ä½•ä¼˜åŒ–éƒ½è¦æœ‰å®¢è§‚æŒ‡æ ‡å‰åå¯¹æ¯”ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("è„šæœ¬åŒ–ã€è‡ªåŠ¨åŒ–")]),t._v("ï¼šæŠŠä¸Šè¿°é«˜é¢‘æ“ä½œå›ºåŒ–åˆ°ä»“åº“ï¼Œé¿å…â€œå‡­æ„Ÿè§‰â€æ’éšœã€‚")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"âœ…-ä¸€ã€cpu-æ€§èƒ½é—®é¢˜æ’æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-ä¸€ã€cpu-æ€§èƒ½é—®é¢˜æ’æŸ¥"}},[t._v("#")]),t._v(" âœ… ä¸€ã€CPU æ€§èƒ½é—®é¢˜æ’æŸ¥")]),t._v(" "),a("h3",{attrs:{id:"ğŸ”-æ’æŸ¥ç›®æ ‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”-æ’æŸ¥ç›®æ ‡"}},[t._v("#")]),t._v(" ğŸ” æ’æŸ¥ç›®æ ‡ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å“ªä¸ªè¿›ç¨‹/çº¿ç¨‹å ç”¨ CPU é«˜ï¼Ÿ")]),t._v(" "),a("li",[t._v("æ˜¯ç³»ç»Ÿè°ƒç”¨é«˜ï¼Ÿè¿˜æ˜¯ä¸šåŠ¡ä»£ç æ­»å¾ªç¯ï¼Ÿ")]),t._v(" "),a("li",[t._v("å¤šæ ¸æ˜¯å¦å‡è¡¡ï¼Ÿ")])]),t._v(" "),a("h3",{attrs:{id:"ğŸ› ï¸-å¸¸ç”¨å‘½ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ› ï¸-å¸¸ç”¨å‘½ä»¤"}},[t._v("#")]),t._v(" ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤ï¼š")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("å‘½ä»¤")]),t._v(" "),a("th",[t._v("ç”¨é€”")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("top")])]),t._v(" "),a("td",[t._v("æŸ¥çœ‹å®æ—¶ CPU ä½¿ç”¨ç‡ã€è´Ÿè½½ã€å ç”¨è¿›ç¨‹")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("htop")])]),t._v(" "),a("td",[t._v("å›¾å½¢åŒ–æ˜¾ç¤ºå„æ ¸ä½¿ç”¨ï¼Œæ”¯æŒæ’åºå’Œç­›é€‰")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("ps aux --sort=-%cpu")])]),t._v(" "),a("td",[t._v("é™æ€æŸ¥çœ‹å ç”¨ CPU çš„è¿›ç¨‹")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("pidstat -u -p <pid> 1")])]),t._v(" "),a("td",[t._v("æŸ¥çœ‹æŸä¸ªè¿›ç¨‹çš„ CPU ä½¿ç”¨è¯¦æƒ…")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("perf top")]),t._v(" / "),a("code",[t._v("perf record")])]),t._v(" "),a("td",[t._v("æŸ¥çœ‹çƒ­ç‚¹å‡½æ•°ï¼Œåˆ†ææ­»å¾ªç¯")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("jstack <pid>")])]),t._v(" "),a("td",[t._v("Java è¿›ç¨‹çº¿ç¨‹æ ˆåˆ†æï¼Œå®šä½æ­»å¾ªç¯çº¿ç¨‹")])])])]),t._v(" "),a("h3",{attrs:{id:"ğŸš¨-å®æˆ˜æŒ‡æ ‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš¨-å®æˆ˜æŒ‡æ ‡"}},[t._v("#")]),t._v(" ğŸš¨ å®æˆ˜æŒ‡æ ‡ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("load average")]),t._v(" é«˜ï¼Œä½† CPU åˆ©ç”¨ç‡ä½ â†’ IO ç­‰å¾…")]),t._v(" "),a("li",[a("code",[t._v("top")]),t._v(" ä¸­ "),a("code",[t._v("%us")]),t._v("ï¼ˆç”¨æˆ·æ€ï¼‰é«˜ â†’ ä¸šåŠ¡é€»è¾‘é—®é¢˜")]),t._v(" "),a("li",[a("code",[t._v("%sy")]),t._v(" é«˜ â†’ ç³»ç»Ÿè°ƒç”¨å¤šï¼Œå¯èƒ½é¢‘ç¹ç½‘ç»œ/disk æ“ä½œ")]),t._v(" "),a("li",[a("code",[t._v("%id")]),t._v("ï¼ˆç©ºé—²ï¼‰ä½ â†’ CPU æ‰“æ»¡")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"âœ…-äºŒã€å†…å­˜é—®é¢˜æ’æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-äºŒã€å†…å­˜é—®é¢˜æ’æŸ¥"}},[t._v("#")]),t._v(" âœ… äºŒã€å†…å­˜é—®é¢˜æ’æŸ¥")]),t._v(" "),a("h3",{attrs:{id:"ğŸ”-æ’æŸ¥ç›®æ ‡-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”-æ’æŸ¥ç›®æ ‡-2"}},[t._v("#")]),t._v(" ğŸ” æ’æŸ¥ç›®æ ‡ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æ˜¯å¦ OOMï¼ˆå†…å­˜æ‰“çˆ†ï¼‰ï¼Ÿ")]),t._v(" "),a("li",[t._v("æ˜¯å“ªä¸ªè¿›ç¨‹åƒå†…å­˜ï¼Ÿ")]),t._v(" "),a("li",[t._v("æœ‰æ²¡æœ‰å†…å­˜æ³„æ¼ï¼Ÿ")])]),t._v(" "),a("h3",{attrs:{id:"ğŸ› ï¸-å¸¸ç”¨å‘½ä»¤-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ› ï¸-å¸¸ç”¨å‘½ä»¤-2"}},[t._v("#")]),t._v(" ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤ï¼š")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("å‘½ä»¤")]),t._v(" "),a("th",[t._v("ç”¨é€”")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("free -h")])]),t._v(" "),a("td",[t._v("æŸ¥çœ‹æ•´ä½“å†…å­˜å’Œ swap ä½¿ç”¨æƒ…å†µ")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("top")]),t._v(" / "),a("code",[t._v("htop")])]),t._v(" "),a("td",[t._v("æŸ¥çœ‹å“ªä¸ªè¿›ç¨‹åƒå†…å­˜")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("ps aux --sort=-%mem")])]),t._v(" "),a("td",[t._v("å†…å­˜å ç”¨æ’åº")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("vmstat 1")])]),t._v(" "),a("td",[a("code",[t._v("si/so")]),t._v(" ä»£è¡¨ swap in/outï¼ˆé¢‘ç¹è¡¨ç¤ºå†…å­˜ä¸è¶³ï¼‰")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("smem")]),t._v(" / "),a("code",[t._v("pmap <pid>")])]),t._v(" "),a("td",[t._v("æŸ¥çœ‹è¿›ç¨‹å†…å­˜æ˜ å°„")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("jmap -heap <pid>")]),t._v(" / "),a("code",[t._v("jstat -gc <pid>")])]),t._v(" "),a("td",[t._v("Java å †ä¿¡æ¯")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("`dmesg")]),t._v(" "),a("td",[t._v("grep -i oom`")]),t._v(" "),a("td",[t._v("æŸ¥çœ‹æ˜¯å¦æœ‰ OOM æ€æ­»è®°å½•")])])])]),t._v(" "),a("h3",{attrs:{id:"ğŸš¨-å®æˆ˜æŒ‡æ ‡-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš¨-å®æˆ˜æŒ‡æ ‡-2"}},[t._v("#")]),t._v(" ğŸš¨ å®æˆ˜æŒ‡æ ‡ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("swap ä½¿ç”¨è¿‡é«˜ â†’ å†…å­˜ä¸è¶³")]),t._v(" "),a("li",[a("code",[t._v("OOM Killer")]),t._v(" å‡ºç° â†’ æ€æ‰äº†é«˜å ç”¨è¿›ç¨‹")]),t._v(" "),a("li",[t._v("Java å†…å­˜æ³„æ¼ â†’ ç”¨ "),a("code",[t._v("MAT")]),t._v(" å·¥å…·åˆ†æ dump")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"âœ…-ä¸‰ã€ç£ç›˜ç©ºé—´é—®é¢˜æ’æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-ä¸‰ã€ç£ç›˜ç©ºé—´é—®é¢˜æ’æŸ¥"}},[t._v("#")]),t._v(" âœ… ä¸‰ã€ç£ç›˜ç©ºé—´é—®é¢˜æ’æŸ¥")]),t._v(" "),a("h3",{attrs:{id:"ğŸ”-æ’æŸ¥ç›®æ ‡-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”-æ’æŸ¥ç›®æ ‡-3"}},[t._v("#")]),t._v(" ğŸ” æ’æŸ¥ç›®æ ‡ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æ˜¯å¦ç£ç›˜å·²æ»¡ï¼Ÿ")]),t._v(" "),a("li",[t._v("æ˜¯å“ªä¸ªç›®å½•/æ–‡ä»¶å¤ªå¤§ï¼Ÿ")]),t._v(" "),a("li",[t._v("å“ªäº›ä¸´æ—¶æ–‡ä»¶æ²¡æœ‰æ¸…ç†ï¼Ÿ")])]),t._v(" "),a("h3",{attrs:{id:"ğŸ› ï¸-å¸¸ç”¨å‘½ä»¤-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ› ï¸-å¸¸ç”¨å‘½ä»¤-3"}},[t._v("#")]),t._v(" ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤ï¼š")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("å‘½ä»¤")]),t._v(" "),a("th",[t._v("ç”¨é€”")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("df -h")])]),t._v(" "),a("td",[t._v("æŸ¥çœ‹ç£ç›˜å„åˆ†åŒºä½¿ç”¨æƒ…å†µ")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("du -sh *")])]),t._v(" "),a("td",[t._v("æŸ¥çœ‹å½“å‰ç›®å½•å¤§å°")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("ncdu")])]),t._v(" "),a("td",[t._v("äº¤äº’å¼ç›®å½•ä½“ç§¯åˆ†æ")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("find / -type f -size +500M")])]),t._v(" "),a("td",[t._v("æ‰¾å‡ºè¶…è¿‡ 500M çš„æ–‡ä»¶")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("`lsof")]),t._v(" "),a("td",[t._v("grep deleted`")]),t._v(" "),a("td",[t._v("æŸ¥çœ‹å·²åˆ é™¤ä½†ä»å ç”¨ç£ç›˜çš„æ–‡ä»¶ï¼ˆå¸¸è§äºæ—¥å¿—ï¼‰")])])])]),t._v(" "),a("h3",{attrs:{id:"ğŸš¨-å®æˆ˜æŒ‡æ ‡-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš¨-å®æˆ˜æŒ‡æ ‡-3"}},[t._v("#")]),t._v(" ğŸš¨ å®æˆ˜æŒ‡æ ‡ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("/var")]),t._v(" æˆ– "),a("code",[t._v("/tmp")]),t._v(" è¢«æ—¥å¿—æ‰“æ»¡ â†’ æœåŠ¡å¼‚å¸¸")]),t._v(" "),a("li",[t._v("æ—¥å¿—æ–‡ä»¶è¢«åˆ ä½†æ²¡é‡Šæ”¾ â†’ éœ€é‡å¯è¿›ç¨‹")]),t._v(" "),a("li",[a("code",[t._v("docker")]),t._v("/"),a("code",[t._v("log")]),t._v("/"),a("code",[t._v("core dump")]),t._v(" ç­‰å¯¼è‡´ç©ºé—´å¼‚å¸¸æ¶ˆè€—")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"âœ…-å››ã€ç£ç›˜-io-é—®é¢˜æ’æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-å››ã€ç£ç›˜-io-é—®é¢˜æ’æŸ¥"}},[t._v("#")]),t._v(" âœ… å››ã€ç£ç›˜ IO é—®é¢˜æ’æŸ¥")]),t._v(" "),a("h3",{attrs:{id:"ğŸ”-æ’æŸ¥ç›®æ ‡-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”-æ’æŸ¥ç›®æ ‡-4"}},[t._v("#")]),t._v(" ğŸ” æ’æŸ¥ç›®æ ‡ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æ˜¯å¦ç£ç›˜è¯»å†™é€Ÿç‡é™åˆ¶ç³»ç»Ÿï¼Ÿ")]),t._v(" "),a("li",[t._v("å“ªä¸ªè¿›ç¨‹ IO é¢‘ç¹ï¼Ÿ")]),t._v(" "),a("li",[t._v("IO ç­‰å¾…é«˜ï¼Ÿ")])]),t._v(" "),a("h3",{attrs:{id:"ğŸ› ï¸-å¸¸ç”¨å‘½ä»¤-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ› ï¸-å¸¸ç”¨å‘½ä»¤-4"}},[t._v("#")]),t._v(" ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤ï¼š")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("å‘½ä»¤")]),t._v(" "),a("th",[t._v("ç”¨é€”")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("iostat -x 1")])]),t._v(" "),a("td",[t._v("æŸ¥çœ‹æ¯å—ç£ç›˜çš„åˆ©ç”¨ç‡ "),a("code",[t._v("util")]),t._v(" å’Œç­‰å¾… "),a("code",[t._v("await")])])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("iotop")])]),t._v(" "),a("td",[t._v("å®æ—¶æŸ¥çœ‹è¿›ç¨‹çš„è¯»å†™ IO è´Ÿè½½")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("vmstat 1")])]),t._v(" "),a("td",[a("code",[t._v("wa")]),t._v(" å­—æ®µé«˜è¯´æ˜ IO ç­‰å¾…é«˜")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("dstat -d")])]),t._v(" "),a("td",[t._v("ç£ç›˜å†™å…¥é€Ÿç‡")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("sar -d 1 5")])]),t._v(" "),a("td",[t._v("å†å² IO æ•°æ®")])])])]),t._v(" "),a("h3",{attrs:{id:"ğŸš¨-å®æˆ˜æŒ‡æ ‡-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš¨-å®æˆ˜æŒ‡æ ‡-4"}},[t._v("#")]),t._v(" ğŸš¨ å®æˆ˜æŒ‡æ ‡ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("iostat")]),t._v(" ä¸­æŸç£ç›˜ "),a("code",[t._v("util")]),t._v(" > 80% â†’ è¯´æ˜è¯¥ç£ç›˜æ˜¯ç“¶é¢ˆ")]),t._v(" "),a("li",[a("code",[t._v("await")]),t._v(" > 50ms â†’ è¡¨ç¤ºç£ç›˜å“åº”æ…¢")]),t._v(" "),a("li",[t._v("Java æ—¥å¿—å†™å…¥é¢‘ç¹ä¹Ÿä¼šå¯¼è‡´ IO æ‹¥å µ")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"âœ…-äº”ã€ç½‘ç»œæ€§èƒ½é—®é¢˜æ’æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-äº”ã€ç½‘ç»œæ€§èƒ½é—®é¢˜æ’æŸ¥"}},[t._v("#")]),t._v(" âœ… äº”ã€ç½‘ç»œæ€§èƒ½é—®é¢˜æ’æŸ¥")]),t._v(" "),a("h3",{attrs:{id:"ğŸ”-æ’æŸ¥ç›®æ ‡-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”-æ’æŸ¥ç›®æ ‡-5"}},[t._v("#")]),t._v(" ğŸ” æ’æŸ¥ç›®æ ‡ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("ç½‘ç»œå»¶è¿Ÿï¼Ÿä¸¢åŒ…ï¼Ÿå¸¦å®½ä¸å¤Ÿï¼Ÿ")]),t._v(" "),a("li",[t._v("æœåŠ¡ç«¯å£æœªç›‘å¬ï¼Ÿ")]),t._v(" "),a("li",[t._v("æŸæœåŠ¡è¿æ¥æ»¡äº†ï¼Ÿ")])]),t._v(" "),a("h3",{attrs:{id:"ğŸ› ï¸-å¸¸ç”¨å‘½ä»¤-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ› ï¸-å¸¸ç”¨å‘½ä»¤-5"}},[t._v("#")]),t._v(" ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤ï¼š")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("å‘½ä»¤")]),t._v(" "),a("th",[t._v("ç”¨é€”")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("ping")]),t._v(", "),a("code",[t._v("traceroute")])]),t._v(" "),a("td",[t._v("æ£€æŸ¥ç½‘ç»œè¿é€šæ€§ã€è·¯å¾„é—®é¢˜")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("curl")]),t._v(", "),a("code",[t._v("telnet ip port")])]),t._v(" "),a("td",[t._v("æ£€æŸ¥ç«¯å£æ˜¯å¦é€š")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("netstat -anp")]),t._v(" / "),a("code",[t._v("ss -lntp")])]),t._v(" "),a("td",[t._v("æŸ¥çœ‹ç«¯å£ç›‘å¬çŠ¶æ€")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("iftop")]),t._v(", "),a("code",[t._v("nethogs")])]),t._v(" "),a("td",[t._v("æŸ¥çœ‹å®æ—¶å¸¦å®½å ç”¨")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("tcpdump")])]),t._v(" "),a("td",[t._v("æŠ“åŒ…åˆ†æå¼‚å¸¸")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[a("code",[t._v("sar -n DEV 1")])]),t._v(" "),a("td",[t._v("æŸ¥çœ‹ç½‘ç»œè®¾å¤‡æµé‡")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td",[t._v("`conntrack -L")]),t._v(" "),a("td",[t._v("wc -l`")]),t._v(" "),a("td",[t._v("æŸ¥çœ‹è¿æ¥æ•°ï¼ˆé€‚ç”¨äº NAT åœºæ™¯ï¼‰")])])])]),t._v(" "),a("h3",{attrs:{id:"ğŸš¨-å®æˆ˜æŒ‡æ ‡-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš¨-å®æˆ˜æŒ‡æ ‡-5"}},[t._v("#")]),t._v(" ğŸš¨ å®æˆ˜æŒ‡æ ‡ï¼š")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("ping")]),t._v(" å»¶è¿Ÿé«˜ä¸¢åŒ…å¤š â†’ ç½‘ç»œé“¾è·¯é—®é¢˜")]),t._v(" "),a("li",[a("code",[t._v("ss")]),t._v(" å‘ç°ç«¯å£æœªç›‘å¬ â†’ åº”ç”¨æœªå¯åŠ¨æˆ–å´©æºƒ")]),t._v(" "),a("li",[a("code",[t._v("established")]),t._v(" é“¾æ¥æ•°è¿‡å¤š â†’ æœåŠ¡æœªé‡Šæ”¾è¿æ¥æˆ–æœªåŠ è¿æ¥æ± ")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"âœ…-å…­ã€é—®é¢˜æ’æŸ¥æµç¨‹æ€»ç»“å›¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-å…­ã€é—®é¢˜æ’æŸ¥æµç¨‹æ€»ç»“å›¾"}},[t._v("#")]),t._v(" âœ… å…­ã€é—®é¢˜æ’æŸ¥æµç¨‹æ€»ç»“å›¾")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("   ç³»ç»Ÿæ€§èƒ½å¼‚å¸¸\n         â”‚\n  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”\n  â†“             â†“\nCPUé«˜       å†…å­˜çˆ†/GCé¢‘\n  â†“             â†“\ntop/ps       free/vmstat\njstack       jmap/jstat\n  â†“             â†“\nç£ç›˜æ»¡/æ…¢    IO å¡é¡¿ï¼Ÿ\n  â†“             â†“\ndf/du      iostat/iotop\n  â†“             â†“\nç½‘ç»œé—®é¢˜ï¼Ÿ\n  â†“\nping/tcpdump/ss/curl\n")])])]),a("hr"),t._v(" "),a("blockquote",[a("p",[t._v("é‡åˆ°ç³»ç»Ÿå“åº”æ…¢é—®é¢˜ï¼Œæˆ‘ä¼šå…ˆçœ‹ CPU/å†…å­˜æ˜¯å¦å¼‚å¸¸ï¼ˆç”¨ "),a("code",[t._v("top")]),t._v(" / "),a("code",[t._v("vmstat")]),t._v("ï¼‰ï¼Œç„¶åç”¨ "),a("code",[t._v("iostat")]),t._v(" ç¡®è®¤æ˜¯å¦æ˜¯ç£ç›˜ç“¶é¢ˆï¼Œå¦‚æœéƒ½æ­£å¸¸å†æ’æŸ¥ç½‘ç»œï¼ˆ"),a("code",[t._v("ping")]),t._v("ã€"),a("code",[t._v("ss")]),t._v("ã€"),a("code",[t._v("tcpdump")]),t._v("ï¼‰ï¼Œå®é™…ä¸­é…åˆ "),a("code",[t._v("dmesg")]),t._v("/"),a("code",[t._v("journalctl")]),t._v(" æŸ¥å¼‚å¸¸æ—¥å¿—ä¹Ÿå¾ˆé‡è¦ã€‚")])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("æ’æŸ¥ Linux ç³»ç»Ÿä¸­çš„ "),a("strong",[t._v("CPUã€å†…å­˜ã€ç£ç›˜ã€IOã€ç½‘ç»œæ€§èƒ½é—®é¢˜")]),t._v(" é€šå¸¸éµå¾ªã€Œå®šä½ç“¶é¢ˆ â†’ æŸ¥æ‰¾è¿›ç¨‹ â†’ åˆ†æåŸå›  â†’ ä¼˜åŒ–æ–¹æ¡ˆã€è¿™æ¡ä¸»çº¿ã€‚ä»¥ä¸‹æ˜¯å„ä¸ªæ–¹å‘çš„æ’æŸ¥æ€è·¯å’Œå¸¸ç”¨å‘½ä»¤ï¼š")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"ğŸ§ -ä¸€ã€cpu-æ€§èƒ½é—®é¢˜æ’æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§ -ä¸€ã€cpu-æ€§èƒ½é—®é¢˜æ’æŸ¥"}},[t._v("#")]),t._v(" ğŸ§  ä¸€ã€CPU æ€§èƒ½é—®é¢˜æ’æŸ¥")]),t._v(" "),a("h3",{attrs:{id:"_1-1-åˆæ­¥æ’æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-åˆæ­¥æ’æŸ¥"}},[t._v("#")]),t._v(" 1.1 åˆæ­¥æ’æŸ¥")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("top")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("htop")]),t._v("            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ›´ç›´è§‚ï¼ˆéœ€å®‰è£…ï¼‰")]),t._v("\n")])])]),a("ul",[a("li",[t._v("å…³æ³¨ "),a("code",[t._v("%CPU")]),t._v("ï¼Œ"),a("code",[t._v("load average")]),t._v("ï¼ˆæ˜¯å¦è¶…è¿‡æ ¸å¿ƒæ•°ï¼‰")]),t._v(" "),a("li",[t._v("æ‰¾å‡º CPU å ç”¨é«˜çš„è¿›ç¨‹ï¼ˆPIDï¼‰")])]),t._v(" "),a("h3",{attrs:{id:"_1-2-æ·±å…¥åˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-æ·±å…¥åˆ†æ"}},[t._v("#")]),t._v(" 1.2 æ·±å…¥åˆ†æ")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-eo")]),t._v(" pid,ppid,cmd,%mem,%cpu "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--sort")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("-%cpu "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("head")]),t._v("\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("pidstat "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-u")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("PID"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŸ¥çœ‹æŸè¿›ç¨‹ CPU å ç”¨å˜åŒ–")]),t._v("\n")])])]),a("h3",{attrs:{id:"_1-3-java-åº”ç”¨åœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-java-åº”ç”¨åœºæ™¯"}},[t._v("#")]),t._v(" 1.3 Java åº”ç”¨åœºæ™¯")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("jstack "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("PID"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŸ¥çœ‹çº¿ç¨‹æ ˆï¼Œæ’æŸ¥æ­»å¾ªç¯")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("top")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-Hp")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("PID"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ‰¾å‡ºå ç”¨ CPU é«˜çš„çº¿ç¨‹ TIDï¼ˆåè¿›åˆ¶ï¼‰")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("printf")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%x'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[t._v("\\n")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("TID"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è½¬ä¸ºåå…­è¿›åˆ¶åŒ¹é… jstack ä¸­çš„ nid")]),t._v("\n")])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"ğŸ§ -äºŒã€å†…å­˜é—®é¢˜æ’æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§ -äºŒã€å†…å­˜é—®é¢˜æ’æŸ¥"}},[t._v("#")]),t._v(" ğŸ§  äºŒã€å†…å­˜é—®é¢˜æ’æŸ¥")]),t._v(" "),a("h3",{attrs:{id:"_2-1-æŸ¥çœ‹æ•´ä½“ä½¿ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-æŸ¥çœ‹æ•´ä½“ä½¿ç”¨"}},[t._v("#")]),t._v(" 2.1 æŸ¥çœ‹æ•´ä½“ä½¿ç”¨")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("free")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-h")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("top")]),t._v(" / "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("htop")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vmstat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n")])])]),a("ul",[a("li",[t._v("é‡ç‚¹å…³æ³¨ "),a("code",[t._v("free")]),t._v(", "),a("code",[t._v("available")]),t._v(", "),a("code",[t._v("swap")]),t._v(" æ˜¯å¦é¢‘ç¹ä½¿ç”¨")])]),t._v(" "),a("h3",{attrs:{id:"_2-2-æŸ¥æ‰¾å ç”¨é«˜çš„è¿›ç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-æŸ¥æ‰¾å ç”¨é«˜çš„è¿›ç¨‹"}},[t._v("#")]),t._v(" 2.2 æŸ¥æ‰¾å ç”¨é«˜çš„è¿›ç¨‹")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-eo")]),t._v(" pid,ppid,cmd,%mem,%cpu "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--sort")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("-%mem "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("head")]),t._v("\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("smem "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-r")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("head")]),t._v("              "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ›´å‡†ç¡®ç»Ÿè®¡ï¼ˆéœ€å®‰è£…ï¼‰")]),t._v("\n")])])]),a("h3",{attrs:{id:"_2-3-æ£€æŸ¥-oom-å†å²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-æ£€æŸ¥-oom-å†å²"}},[t._v("#")]),t._v(" 2.3 æ£€æŸ¥ OOM å†å²")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dmesg")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v("\n")])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"ğŸ’½-ä¸‰ã€ç£ç›˜ä½¿ç”¨æ’æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’½-ä¸‰ã€ç£ç›˜ä½¿ç”¨æ’æŸ¥"}},[t._v("#")]),t._v(" ğŸ’½ ä¸‰ã€ç£ç›˜ä½¿ç”¨æ’æŸ¥")]),t._v(" "),a("h3",{attrs:{id:"_3-1-ç©ºé—´ä½¿ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-ç©ºé—´ä½¿ç”¨"}},[t._v("#")]),t._v(" 3.1 ç©ºé—´ä½¿ç”¨")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("df")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-h")]),t._v("                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŸ¥çœ‹æŒ‚è½½ç‚¹ä½¿ç”¨ç‡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("du")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-sh")]),t._v(" /var/log/*            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŸ¥çœ‹ç›®å½•å ç”¨")]),t._v("\n")])])]),a("h3",{attrs:{id:"_3-2-æ¸…ç†å»ºè®®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-æ¸…ç†å»ºè®®"}},[t._v("#")]),t._v(" 3.2 æ¸…ç†å»ºè®®")]),t._v(" "),a("ul",[a("li",[t._v("å®šæœŸæ¸…ç†å¤§æ—¥å¿—æ–‡ä»¶")]),t._v(" "),a("li",[t._v("ä½¿ç”¨ logrotate è‡ªåŠ¨å½’æ¡£å‹ç¼©æ—¥å¿—")])]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"ğŸ–´-å››ã€ç£ç›˜-io-æ€§èƒ½æ’æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ–´-å››ã€ç£ç›˜-io-æ€§èƒ½æ’æŸ¥"}},[t._v("#")]),t._v(" ğŸ–´ å››ã€ç£ç›˜ IO æ€§èƒ½æ’æŸ¥")]),t._v(" "),a("h3",{attrs:{id:"_4-1-å®æ—¶-io-çŠ¶æ€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-å®æ—¶-io-çŠ¶æ€"}},[t._v("#")]),t._v(" 4.1 å®æ—¶ IO çŠ¶æ€")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("iostat "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-x")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è§‚å¯Ÿ %utilï¼ˆé«˜è¡¨ç¤º IO é¥±å’Œï¼‰")]),t._v("\n")])])]),a("h3",{attrs:{id:"_4-2-è§‚å¯Ÿè¯»å†™æƒ…å†µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-è§‚å¯Ÿè¯»å†™æƒ…å†µ"}},[t._v("#")]),t._v(" 4.2 è§‚å¯Ÿè¯»å†™æƒ…å†µ")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("iotop                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŸ¥çœ‹è¯»å†™æœ€å¤šçš„è¿›ç¨‹ï¼ˆéœ€ rootï¼‰")]),t._v("\n")])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"ğŸŒ-äº”ã€ç½‘ç»œé—®é¢˜æ’æŸ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒ-äº”ã€ç½‘ç»œé—®é¢˜æ’æŸ¥"}},[t._v("#")]),t._v(" ğŸŒ äº”ã€ç½‘ç»œé—®é¢˜æ’æŸ¥")]),t._v(" "),a("h3",{attrs:{id:"_5-1-åŸºæœ¬å‘½ä»¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-åŸºæœ¬å‘½ä»¤"}},[t._v("#")]),t._v(" 5.1 åŸºæœ¬å‘½ä»¤")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("netstat")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-tnlp")]),t._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŸ¥çœ‹ç«¯å£ç›‘å¬æƒ…å†µ")]),t._v("\nss "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-s")]),t._v("                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# TCP çŠ¶æ€ç»Ÿè®¡")]),t._v("\nss "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ant")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-i")]),t._v(" estab     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å½“å‰æ´»è·ƒè¿æ¥")]),t._v("\n")])])]),a("h3",{attrs:{id:"_5-2-æŸ¥çœ‹æµé‡å’Œè¿æ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-æŸ¥çœ‹æµé‡å’Œè¿æ¥"}},[t._v("#")]),t._v(" 5.2 æŸ¥çœ‹æµé‡å’Œè¿æ¥")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("iftop                       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å®æ—¶æµé‡ï¼ˆéœ€å®‰è£…ï¼‰")]),t._v("\nnethogs                     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è¿›ç¨‹çº§åˆ«çš„ç½‘ç»œæµé‡ï¼ˆéœ€å®‰è£…ï¼‰")]),t._v("\n")])])]),a("h3",{attrs:{id:"_5-3-ping-traceroute"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-ping-traceroute"}},[t._v("#")]),t._v(" 5.3 ping & traceroute")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ping")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ç›®æ ‡åœ°å€"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŸ¥çœ‹ç½‘ç»œæ˜¯å¦é€šç•…ã€å»¶è¿Ÿ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("traceroute")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("ç›®æ ‡åœ°å€"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è·¯ç”±è·³æ•°åˆ†æ")]),t._v("\n")])])]),a("hr"),t._v(" "),a("h2",{attrs:{id:"ğŸ“Œ-å®æˆ˜ç»éªŒæ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Œ-å®æˆ˜ç»éªŒæ€»ç»“"}},[t._v("#")]),t._v(" ğŸ“Œ å®æˆ˜ç»éªŒæ€»ç»“")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("é—®é¢˜ç°è±¡")]),t._v(" "),a("th",[t._v("æ’æŸ¥æ€è·¯")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("CPU é£™é«˜")]),t._v(" "),a("td",[t._v("top â†’ jstack â†’ å®šä½æ­»å¾ªç¯")])]),t._v(" "),a("tr",[a("td",[t._v("å†…å­˜ä¸è¶³")]),t._v(" "),a("td",[t._v("free â†’ ps â†’ OOM æ—¥å¿—")])]),t._v(" "),a("tr",[a("td",[t._v("ç£ç›˜æ»¡äº†")]),t._v(" "),a("td",[t._v("df/du åˆ†æç›®å½•å ç”¨")])]),t._v(" "),a("tr",[a("td",[t._v("IO æ…¢å¡é¡¿")]),t._v(" "),a("td",[t._v("iostat â†’ iotop åˆ†æè¿›ç¨‹")])]),t._v(" "),a("tr",[a("td",[t._v("ç½‘ç»œæ–­è¿/æ…¢")]),t._v(" "),a("td",[t._v("ping/traceroute/iftop")])])])]),t._v(" "),a("hr")])}),[],!1,null,null,null);a.default=_.exports}}]);