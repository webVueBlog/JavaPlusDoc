(window.webpackJsonp=window.webpackJsonp||[]).push([[261],{1055:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"第30天"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第30天"}},[s._v("#")]),s._v(" 第30天")]),s._v(" "),t("p",[s._v("达达JAVA写法思路，这部分学完恭喜结束了，你已经很厉害了，基础，打好基础。")]),s._v(" "),t("h2",{attrs:{id:"java-反射-reflection"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java-反射-reflection"}},[s._v("#")]),s._v(" Java 反射（Reflection）")]),s._v(" "),t("p",[s._v("Java 反射（Reflection）是 Java 语言的一个特性，它允许程序在运行时访问、检查和修改其自身的结构。反射机制提供了一种强大的工具，可以动态地创建对象、调用方法、访问属性，甚至可以处理注解和泛型。以下是 Java 反射的一些关键概念、用途和注意事项：")]),s._v(" "),t("h3",{attrs:{id:"关键概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关键概念"}},[s._v("#")]),s._v(" 关键概念")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("Class 对象")]),s._v("：每个类都有一个与之对应的 Class 对象，它包含了类的元数据，如类的名称、修饰符、字段、方法和构造函数等。")]),s._v(" "),t("li",[t("strong",[s._v("获取 Class 对象")]),s._v("：\n"),t("ul",[t("li",[s._v("通过 "),t("code",[s._v("Class.forName(&quot;className&quot;)")]),s._v(" 获取类的 Class 对象。")]),s._v(" "),t("li",[s._v("通过 "),t("code",[s._v("className.class")]),s._v(" 获取类的 Class 对象。")]),s._v(" "),t("li",[s._v("通过 "),t("code",[s._v("obj.getClass()")]),s._v(" 获取对象的 Class 对象。")])])]),s._v(" "),t("li",[t("strong",[s._v("实例化对象")]),s._v("：通过 "),t("code",[s._v("Class.newInstance()")]),s._v(" 或 "),t("code",[s._v("Constructor.newInstance()")]),s._v(" 可以创建类的实例。")]),s._v(" "),t("li",[t("strong",[s._v("访问字段")]),s._v("：通过 "),t("code",[s._v("Field")]),s._v(" 对象可以获取和修改类的字段值。")]),s._v(" "),t("li",[t("strong",[s._v("调用方法")]),s._v("：通过 "),t("code",[s._v("Method")]),s._v(" 对象可以调用类的实例方法。")]),s._v(" "),t("li",[t("strong",[s._v("获取构造函数")]),s._v("：通过 "),t("code",[s._v("Constructor")]),s._v(" 对象可以获取类的构造函数。")])]),s._v(" "),t("h3",{attrs:{id:"用途"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用途"}},[s._v("#")]),s._v(" 用途")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("开发框架")]),s._v("：反射在许多 Java 框架中广泛使用，如 Spring、Hibernate 等，用于动态地加载和配置类。")]),s._v(" "),t("li",[t("strong",[s._v("测试工具")]),s._v("：测试框架（如 JUnit）使用反射来动态调用测试方法。")]),s._v(" "),t("li",[t("strong",[s._v("工具类")]),s._v("：一些工具类（如 Java 反射工具包）利用反射来简化代码，如动态代理、序列化等。")]),s._v(" "),t("li",[t("strong",[s._v("插件系统")]),s._v("：反射可以用于实现插件系统，插件可以在运行时动态加载和执行。")])]),s._v(" "),t("h3",{attrs:{id:"注意事项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[s._v("#")]),s._v(" 注意事项")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("性能开销")]),s._v("：反射操作通常比直接代码调用要慢，因为它们需要额外的类型检查和动态方法查找。")]),s._v(" "),t("li",[t("strong",[s._v("安全问题")]),s._v("：反射可以访问和修改私有成员，这可能导致安全问题，特别是在处理不受信任的代码时。")]),s._v(" "),t("li",[t("strong",[s._v("代码可读性")]),s._v("：使用反射的代码通常难以理解和维护，因为它打破了代码的封装性。")]),s._v(" "),t("li",[t("strong",[s._v("兼容性")]),s._v("：反射依赖于 JVM 的实现，不同的 JVM 可能会有不同的行为，这可能导致兼容性问题。")])]),s._v(" "),t("h3",{attrs:{id:"示例代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例代码"}},[s._v("#")]),s._v(" 示例代码")]),s._v(" "),t("p",[s._v("以下是一个简单的反射示例，展示了如何获取类的 Class 对象、创建实例、访问字段和调用方法：")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("reflect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Field")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("lang"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("reflect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ReflectionExample")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 获取类的 Class 对象")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" clazz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("forName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java.util.ArrayList"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 创建实例")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" list "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" clazz"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getDeclaredConstructor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("newInstance")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 获取字段")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Field")]),s._v(" sizeField "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" clazz"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getDeclaredField")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        sizeField"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setAccessible")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置可访问私有字段")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 调用方法")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),s._v(" addMethod "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" clazz"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getDeclaredMethod")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"add"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        addMethod"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("invoke")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("list"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 访问字段")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Size: "')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" sizeField"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("list"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])])]),t("p",[s._v("这个示例展示了如何使用反射来操作 "),t("code",[s._v("ArrayList")]),s._v(" 类，包括获取类的 Class 对象、创建实例、访问私有字段和调用方法。")]),s._v(" "),t("hr"),s._v(" "),t("blockquote",[t("p",[s._v("今天的内容消化得如何？下一篇会带来更多精彩内容哦～")])])])}),[],!1,null,null,null);t.default=e.exports}}]);