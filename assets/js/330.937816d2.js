(window.webpackJsonp=window.webpackJsonp||[]).push([[330],{1147:function(a,t,s){"use strict";s.r(t);var e=s(1),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"linux上搭建elasticsearch-8-x集群以及安装kibana"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#linux上搭建elasticsearch-8-x集群以及安装kibana"}},[a._v("#")]),a._v(" Linux上搭建ElasticSearch-8.x集群以及安装Kibana")]),a._v(" "),t("h2",{attrs:{id:"前言"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[a._v("#")]),a._v(" 前言")]),a._v(" "),t("p",[a._v("ElasticSearch是一个分布式、RESTful风格的搜索和数据分析引擎，能够解决不断涌现出的各种用例。作为Elastic Stack的核心，它集中存储您的数据，帮助您发现意料之中以及意料之外的情况。")]),a._v(" "),t("p",[a._v("本文将详细介绍如何在Linux环境下搭建ElasticSearch 8.x版本的集群，并安装配置Kibana进行可视化管理。")]),a._v(" "),t("h2",{attrs:{id:"环境准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境准备"}},[a._v("#")]),a._v(" 环境准备")]),a._v(" "),t("h3",{attrs:{id:"系统要求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#系统要求"}},[a._v("#")]),a._v(" 系统要求")]),a._v(" "),t("ul",[t("li",[a._v("Linux操作系统（CentOS 7/8、Ubuntu 18.04/20.04等）")]),a._v(" "),t("li",[a._v("JDK 17或更高版本（ElasticSearch 8.x要求）")]),a._v(" "),t("li",[a._v("至少2GB RAM（生产环境建议8GB以上）")]),a._v(" "),t("li",[a._v("足够的磁盘空间")])]),a._v(" "),t("h3",{attrs:{id:"服务器配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器配置"}},[a._v("#")]),a._v(" 服务器配置")]),a._v(" "),t("p",[a._v("本教程使用3台服务器搭建集群，配置如下：")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("服务器IP")]),a._v(" "),t("th",[a._v("主机名")]),a._v(" "),t("th",[a._v("角色")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("192.168.1.101")]),a._v(" "),t("td",[a._v("es-master")]),a._v(" "),t("td",[a._v("主节点")])]),a._v(" "),t("tr",[t("td",[a._v("192.168.1.102")]),a._v(" "),t("td",[a._v("es-data1")]),a._v(" "),t("td",[a._v("数据节点")])]),a._v(" "),t("tr",[t("td",[a._v("192.168.1.103")]),a._v(" "),t("td",[a._v("es-data2")]),a._v(" "),t("td",[a._v("数据节点")])])])]),a._v(" "),t("h2",{attrs:{id:"安装elasticsearch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装elasticsearch"}},[a._v("#")]),a._v(" 安装ElasticSearch")]),a._v(" "),t("h3",{attrs:{id:"_1-下载elasticsearch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载elasticsearch"}},[a._v("#")]),a._v(" 1. 下载ElasticSearch")]),a._v(" "),t("p",[a._v("在所有节点上执行以下命令，下载ElasticSearch 8.x版本：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-8.9.0-linux-x86_64.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-8.9.0-linux-x86_64.tar.gz.sha512\nshasum "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("512")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" elasticsearch-8.9.0-linux-x86_64.tar.gz.sha512\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-xzf")]),a._v(" elasticsearch-8.9.0-linux-x86_64.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" elasticsearch-8.9.0/\n")])])]),t("h3",{attrs:{id:"_2-创建elasticsearch用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建elasticsearch用户"}},[a._v("#")]),a._v(" 2. 创建ElasticSearch用户")]),a._v(" "),t("p",[a._v("ElasticSearch不能以root用户运行，需要创建专门的用户：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("useradd")]),a._v(" elastic\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("passwd")]),a._v(" elastic\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chown")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-R")]),a._v(" elastic:elastic elasticsearch-8.9.0\n")])])]),t("h3",{attrs:{id:"_3-修改系统配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改系统配置"}},[a._v("#")]),a._v(" 3. 修改系统配置")]),a._v(" "),t("h4",{attrs:{id:"增加文件描述符限制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#增加文件描述符限制"}},[a._v("#")]),a._v(" 增加文件描述符限制")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/security/limits.conf\n")])])]),t("p",[a._v("添加以下内容：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("elastic soft nofile 65535\nelastic hard nofile 65535\n")])])]),t("h4",{attrs:{id:"修改虚拟内存配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改虚拟内存配置"}},[a._v("#")]),a._v(" 修改虚拟内存配置")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/sysctl.conf\n")])])]),t("p",[a._v("添加以下内容：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("vm.max_map_count=262144\n")])])]),t("p",[a._v("应用配置：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sysctl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v("\n")])])]),t("h3",{attrs:{id:"_4-配置elasticsearch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置elasticsearch"}},[a._v("#")]),a._v(" 4. 配置ElasticSearch")]),a._v(" "),t("h4",{attrs:{id:"主节点配置-192-168-1-101"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主节点配置-192-168-1-101"}},[a._v("#")]),a._v(" 主节点配置 (192.168.1.101)")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" elasticsearch-8.9.0/\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" config/elasticsearch.yml\n")])])]),t("p",[a._v("配置内容：")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 集群名称")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cluster.name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" es"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("cluster\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 节点名称")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("node.name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" es"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("master\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 是否可以成为主节点")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("node.master")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 是否存储数据")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("node.data")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 网络设置")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("network.host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 192.168.1.101\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9200")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("transport.port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9300")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 集群发现设置")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("discovery.seed_hosts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"192.168.1.101:9300"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"192.168.1.102:9300"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"192.168.1.103:9300"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cluster.initial_master_nodes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"es-master"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 跨域设置")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.cors.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.cors.allow-origin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"*"')]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 禁用安全设置（仅用于测试环境，生产环境请配置适当的安全措施）")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.enrollment.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.http.ssl.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.transport.ssl.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n")])])]),t("h4",{attrs:{id:"数据节点1配置-192-168-1-102"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据节点1配置-192-168-1-102"}},[a._v("#")]),a._v(" 数据节点1配置 (192.168.1.102)")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 集群名称")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cluster.name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" es"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("cluster\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 节点名称")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("node.name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" es"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("data1\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 是否可以成为主节点")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("node.master")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 是否存储数据")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("node.data")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 网络设置")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("network.host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 192.168.1.102\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9200")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("transport.port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9300")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 集群发现设置")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("discovery.seed_hosts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"192.168.1.101:9300"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"192.168.1.102:9300"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"192.168.1.103:9300"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cluster.initial_master_nodes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"es-master"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 跨域设置")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.cors.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.cors.allow-origin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"*"')]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 禁用安全设置（仅用于测试环境，生产环境请配置适当的安全措施）")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.enrollment.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.http.ssl.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.transport.ssl.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n")])])]),t("h4",{attrs:{id:"数据节点2配置-192-168-1-103"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据节点2配置-192-168-1-103"}},[a._v("#")]),a._v(" 数据节点2配置 (192.168.1.103)")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 集群名称")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cluster.name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" es"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("cluster\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 节点名称")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("node.name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" es"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("data2\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 是否可以成为主节点")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("node.master")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 是否存储数据")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("node.data")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 网络设置")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("network.host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" 192.168.1.103\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9200")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("transport.port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9300")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 集群发现设置")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("discovery.seed_hosts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"192.168.1.101:9300"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"192.168.1.102:9300"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"192.168.1.103:9300"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cluster.initial_master_nodes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"es-master"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 跨域设置")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.cors.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("http.cors.allow-origin")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"*"')]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 禁用安全设置（仅用于测试环境，生产环境请配置适当的安全措施）")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.enrollment.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.http.ssl.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.transport.ssl.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n")])])]),t("h3",{attrs:{id:"_5-启动elasticsearch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-启动elasticsearch"}},[a._v("#")]),a._v(" 5. 启动ElasticSearch")]),a._v(" "),t("p",[a._v("在所有节点上执行以下命令启动ElasticSearch：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("su")]),a._v(" - elastic\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" elasticsearch-8.9.0/\n./bin/elasticsearch "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v("\n")])])]),t("h3",{attrs:{id:"_6-验证集群状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-验证集群状态"}},[a._v("#")]),a._v(" 6. 验证集群状态")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-X")]),a._v(" GET "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://192.168.1.101:9200/_cluster/health?pretty"')]),a._v("\n")])])]),t("p",[a._v("正常情况下，应该看到类似以下输出：")]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"cluster_name"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"es-cluster"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"status"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"green"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"timed_out"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"number_of_nodes"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"number_of_data_nodes"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"active_primary_shards"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"active_shards"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"relocating_shards"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"initializing_shards"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"unassigned_shards"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"delayed_unassigned_shards"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"number_of_pending_tasks"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"number_of_in_flight_fetch"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"task_max_waiting_in_queue_millis"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"active_shards_percent_as_number"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("100.0")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("h2",{attrs:{id:"安装kibana"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装kibana"}},[a._v("#")]),a._v(" 安装Kibana")]),a._v(" "),t("h3",{attrs:{id:"_1-下载kibana"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载kibana"}},[a._v("#")]),a._v(" 1. 下载Kibana")]),a._v(" "),t("p",[a._v("在主节点（192.168.1.101）上执行以下命令：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://artifacts.elastic.co/downloads/kibana/kibana-8.9.0-linux-x86_64.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://artifacts.elastic.co/downloads/kibana/kibana-8.9.0-linux-x86_64.tar.gz.sha512\nshasum "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-a")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("512")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" kibana-8.9.0-linux-x86_64.tar.gz.sha512\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-xzf")]),a._v(" kibana-8.9.0-linux-x86_64.tar.gz\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" kibana-8.9.0/\n")])])]),t("h3",{attrs:{id:"_2-配置kibana"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置kibana"}},[a._v("#")]),a._v(" 2. 配置Kibana")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" config/kibana.yml\n")])])]),t("p",[a._v("配置内容：")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 服务器主机名")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server.host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"192.168.1.101"')]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Kibana服务端口")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("server.port")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5601")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ElasticSearch连接设置")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("elasticsearch.hosts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://192.168.1.101:9200"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 禁用安全设置（仅用于测试环境，生产环境请配置适当的安全措施）")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("elasticsearch.ssl.verificationMode")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" none\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n")])])]),t("h3",{attrs:{id:"_3-启动kibana"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-启动kibana"}},[a._v("#")]),a._v(" 3. 启动Kibana")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./bin/kibana "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n")])])]),t("h3",{attrs:{id:"_4-访问kibana"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-访问kibana"}},[a._v("#")]),a._v(" 4. 访问Kibana")]),a._v(" "),t("p",[a._v("在浏览器中访问："),t("code",[a._v("http://192.168.1.101:5601")])]),a._v(" "),t("h2",{attrs:{id:"安全配置-生产环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安全配置-生产环境"}},[a._v("#")]),a._v(" 安全配置（生产环境）")]),a._v(" "),t("p",[a._v("对于生产环境，强烈建议启用安全功能。以下是基本的安全配置步骤：")]),a._v(" "),t("h3",{attrs:{id:"_1-启用x-pack安全功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-启用x-pack安全功能"}},[a._v("#")]),a._v(" 1. 启用X-Pack安全功能")]),a._v(" "),t("p",[a._v("修改所有节点的"),t("code",[a._v("elasticsearch.yml")]),a._v("：")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.enrollment.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.http.ssl.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("xpack.security.transport.ssl.enabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n")])])]),t("h3",{attrs:{id:"_2-设置内置用户密码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-设置内置用户密码"}},[a._v("#")]),a._v(" 2. 设置内置用户密码")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./bin/elasticsearch-setup-passwords interactive\n")])])]),t("h3",{attrs:{id:"_3-配置kibana连接安全的elasticsearch"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置kibana连接安全的elasticsearch"}},[a._v("#")]),a._v(" 3. 配置Kibana连接安全的ElasticSearch")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("elasticsearch.username")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"kibana_system"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("elasticsearch.password")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"your_password"')]),a._v("\n")])])]),t("h2",{attrs:{id:"集群维护"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#集群维护"}},[a._v("#")]),a._v(" 集群维护")]),a._v(" "),t("h3",{attrs:{id:"添加新节点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加新节点"}},[a._v("#")]),a._v(" 添加新节点")]),a._v(" "),t("ol",[t("li",[a._v("在新节点上安装ElasticSearch")]),a._v(" "),t("li",[a._v("配置"),t("code",[a._v("elasticsearch.yml")]),a._v("，确保"),t("code",[a._v("cluster.name")]),a._v("与现有集群一致")]),a._v(" "),t("li",[a._v("设置"),t("code",[a._v("discovery.seed_hosts")]),a._v("包含现有集群节点")]),a._v(" "),t("li",[a._v("启动新节点，它将自动加入集群")])]),a._v(" "),t("h3",{attrs:{id:"集群扩容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#集群扩容"}},[a._v("#")]),a._v(" 集群扩容")]),a._v(" "),t("p",[a._v("随着数据量增长，可能需要扩展集群：")]),a._v(" "),t("ol",[t("li",[a._v("添加更多数据节点")]),a._v(" "),t("li",[a._v("调整分片数量和副本数量")]),a._v(" "),t("li",[a._v("考虑使用热-温-冷架构管理数据生命周期")])]),a._v(" "),t("h2",{attrs:{id:"常见问题排查"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见问题排查"}},[a._v("#")]),a._v(" 常见问题排查")]),a._v(" "),t("h3",{attrs:{id:"集群状态为黄色或红色"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#集群状态为黄色或红色"}},[a._v("#")]),a._v(" 集群状态为黄色或红色")]),a._v(" "),t("ul",[t("li",[a._v("黄色：部分副本分片未分配")]),a._v(" "),t("li",[a._v("红色：部分主分片未分配")])]),a._v(" "),t("p",[a._v("解决方法：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 查看未分配分片的原因")]),a._v("\nGET /_cluster/allocation/explain\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 检查集群健康状态")]),a._v("\nGET /_cluster/health?pretty\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 检查节点状态")]),a._v("\nGET /_cat/nodes?v\n")])])]),t("h3",{attrs:{id:"jvm内存问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jvm内存问题"}},[a._v("#")]),a._v(" JVM内存问题")]),a._v(" "),t("p",[a._v("调整"),t("code",[a._v("jvm.options")]),a._v("文件中的堆内存设置：")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("-Xms4g\n-Xmx4g\n")])])]),t("h2",{attrs:{id:"结论"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结论"}},[a._v("#")]),a._v(" 结论")]),a._v(" "),t("p",[a._v("通过本教程，我们成功在Linux环境下搭建了ElasticSearch 8.x集群，并安装配置了Kibana进行可视化管理。ElasticSearch集群为大规模数据搜索和分析提供了强大的基础，而Kibana则提供了直观的界面来监控和管理集群。")]),a._v(" "),t("p",[a._v("在生产环境中，还需要考虑更多因素，如安全性、高可用性、备份策略等，以确保集群的稳定运行。")])])}),[],!1,null,null,null);t.default=n.exports}}]);