(window.webpackJsonp=window.webpackJsonp||[]).push([[303],{1120:function(t,s,a){"use strict";a.r(s);var r=a(1),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"docker配置国内源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker配置国内源"}},[t._v("#")]),t._v(" Docker配置国内源")]),t._v(" "),s("p",[t._v("在国内使用Docker时，从Docker Hub拉取镜像可能会很慢，甚至出现超时的情况。配置国内镜像源可以显著提高镜像下载速度，本文将详细介绍如何在各种操作系统上配置Docker国内镜像源。")]),t._v(" "),s("h2",{attrs:{id:"常用的docker国内镜像源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用的docker国内镜像源"}},[t._v("#")]),t._v(" 常用的Docker国内镜像源")]),t._v(" "),s("p",[t._v("以下是一些常用的Docker国内镜像源：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("镜像源名称")]),t._v(" "),s("th",[t._v("镜像源地址")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Docker中国官方镜像")]),t._v(" "),s("td",[t._v("https://registry.docker-cn.com")]),t._v(" "),s("td",[t._v("Docker官方提供的中国区镜像")])]),t._v(" "),s("tr",[s("td",[t._v("阿里云镜像")]),t._v(" "),s("td",[t._v("https://[您的ID].mirror.aliyuncs.com")]),t._v(" "),s("td",[t._v("需要登录阿里云获取专属地址")])]),t._v(" "),s("tr",[s("td",[t._v("网易云镜像")]),t._v(" "),s("td",[t._v("https://hub-mirror.c.163.com")]),t._v(" "),s("td",[t._v("网易提供的镜像源")])]),t._v(" "),s("tr",[s("td",[t._v("腾讯云镜像")]),t._v(" "),s("td",[t._v("https://mirror.ccs.tencentyun.com")]),t._v(" "),s("td",[t._v("腾讯云提供的镜像源")])]),t._v(" "),s("tr",[s("td",[t._v("百度云镜像")]),t._v(" "),s("td",[t._v("https://mirror.baidubce.com")]),t._v(" "),s("td",[t._v("百度云提供的镜像源")])]),t._v(" "),s("tr",[s("td",[t._v("中科大镜像")]),t._v(" "),s("td",[t._v("https://docker.mirrors.ustc.edu.cn")]),t._v(" "),s("td",[t._v("中国科学技术大学提供的镜像源")])]),t._v(" "),s("tr",[s("td",[t._v("清华大学镜像")]),t._v(" "),s("td",[t._v("https://docker.mirrors.sjtug.sjtu.edu.cn")]),t._v(" "),s("td",[t._v("清华大学提供的镜像源")])])])]),t._v(" "),s("h2",{attrs:{id:"linux系统配置docker镜像源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux系统配置docker镜像源"}},[t._v("#")]),t._v(" Linux系统配置Docker镜像源")]),t._v(" "),s("h3",{attrs:{id:"方法一-修改daemon-json文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方法一-修改daemon-json文件"}},[t._v("#")]),t._v(" 方法一：修改daemon.json文件")]),t._v(" "),s("ol",[s("li",[t._v("创建或修改Docker守护进程配置文件：")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" /etc/docker\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" /etc/docker/daemon.json\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("在文件中添加以下内容（可以选择一个或多个镜像源）：")])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"registry-mirrors"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://registry.docker-cn.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://hub-mirror.c.163.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://mirror.baidubce.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://docker.mirrors.ustc.edu.cn"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("重启Docker服务以应用更改：")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl daemon-reload\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl restart "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v("\n")])])]),s("h3",{attrs:{id:"方法二-使用阿里云镜像加速器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#方法二-使用阿里云镜像加速器"}},[t._v("#")]),t._v(" 方法二：使用阿里云镜像加速器")]),t._v(" "),s("p",[t._v("阿里云提供了专属的镜像加速地址，性能更好：")]),t._v(" "),s("ol",[s("li",[t._v("登录阿里云控制台，搜索「容器镜像服务」")]),t._v(" "),s("li",[t._v("在左侧菜单选择「镜像工具」>「镜像加速器」")]),t._v(" "),s("li",[t._v("获取您的专属加速器地址")]),t._v(" "),s("li",[t._v("根据页面提供的操作指南配置Docker")])]),t._v(" "),s("p",[t._v("以下是使用阿里云镜像加速器的配置示例：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" /etc/docker\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tee")]),t._v(" /etc/docker/daemon.json "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<-")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'EOF\'\n{\n  "registry-mirrors": ["https://abcdefg.mirror.aliyuncs.com"]\n}\nEOF')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl daemon-reload\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl restart "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v("\n")])])]),s("h3",{attrs:{id:"不同linux发行版的特殊配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#不同linux发行版的特殊配置"}},[t._v("#")]),t._v(" 不同Linux发行版的特殊配置")]),t._v(" "),s("h4",{attrs:{id:"ubuntu-debian系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-debian系统"}},[t._v("#")]),t._v(" Ubuntu/Debian系统")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl daemon-reload\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl restart "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v("\n")])])]),s("h4",{attrs:{id:"centos-rhel系统"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#centos-rhel系统"}},[t._v("#")]),t._v(" CentOS/RHEL系统")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl daemon-reload\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" systemctl restart "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v("\n")])])]),s("h4",{attrs:{id:"alpine-linux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#alpine-linux"}},[t._v("#")]),t._v(" Alpine Linux")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" rc-service "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" restart\n")])])]),s("h2",{attrs:{id:"windows系统配置docker镜像源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#windows系统配置docker镜像源"}},[t._v("#")]),t._v(" Windows系统配置Docker镜像源")]),t._v(" "),s("h3",{attrs:{id:"docker-desktop-for-windows"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-desktop-for-windows"}},[t._v("#")]),t._v(" Docker Desktop for Windows")]),t._v(" "),s("ol",[s("li",[t._v("右键点击系统托盘中的Docker图标，选择「Settings」（设置）")]),t._v(" "),s("li",[t._v("在左侧菜单中选择「Docker Engine」")]),t._v(" "),s("li",[t._v("在右侧JSON配置中添加或修改"),s("code",[t._v("registry-mirrors")]),t._v("字段：")])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"registry-mirrors"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://registry.docker-cn.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://hub-mirror.c.163.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://mirror.baidubce.com"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("点击「Apply & Restart」应用更改并重启Docker")])]),t._v(" "),s("h2",{attrs:{id:"macos系统配置docker镜像源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#macos系统配置docker镜像源"}},[t._v("#")]),t._v(" macOS系统配置Docker镜像源")]),t._v(" "),s("h3",{attrs:{id:"docker-desktop-for-mac"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-desktop-for-mac"}},[t._v("#")]),t._v(" Docker Desktop for Mac")]),t._v(" "),s("ol",[s("li",[t._v("点击系统状态栏中的Docker图标，选择「Preferences」（偏好设置）")]),t._v(" "),s("li",[t._v("在左侧菜单中选择「Docker Engine」")]),t._v(" "),s("li",[t._v("在右侧JSON配置中添加或修改"),s("code",[t._v("registry-mirrors")]),t._v("字段：")])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"registry-mirrors"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://registry.docker-cn.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://hub-mirror.c.163.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://mirror.baidubce.com"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[t._v("点击「Apply & Restart」应用更改并重启Docker")])]),t._v(" "),s("h2",{attrs:{id:"验证镜像源配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证镜像源配置"}},[t._v("#")]),t._v(" 验证镜像源配置")]),t._v(" "),s("p",[t._v("配置完成后，可以通过以下命令验证镜像源是否生效：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" info\n")])])]),s("p",[t._v("在输出信息中，查找"),s("code",[t._v("Registry Mirrors")]),t._v("部分，应该能看到您配置的镜像源地址。")]),t._v(" "),s("h2",{attrs:{id:"使用镜像源拉取镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用镜像源拉取镜像"}},[t._v("#")]),t._v(" 使用镜像源拉取镜像")]),t._v(" "),s("p",[t._v("配置镜像源后，使用"),s("code",[t._v("docker pull")]),t._v("命令拉取镜像时会自动使用配置的镜像源：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 拉取Nginx镜像")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" pull nginx\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 拉取特定版本的MySQL镜像")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" pull mysql:8.0\n")])])]),s("h2",{attrs:{id:"针对单次拉取使用镜像源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#针对单次拉取使用镜像源"}},[t._v("#")]),t._v(" 针对单次拉取使用镜像源")]),t._v(" "),s("p",[t._v("如果只想在单次拉取时使用镜像源，而不想修改全局配置，可以使用"),s("code",[t._v("--registry-mirror")]),t._v("参数：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" --registry-mirror"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("https://hub-mirror.c.163.com pull nginx\n")])])]),s("h2",{attrs:{id:"常见问题排查"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见问题排查"}},[t._v("#")]),t._v(" 常见问题排查")]),t._v(" "),s("h3",{attrs:{id:"配置后镜像拉取仍然很慢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置后镜像拉取仍然很慢"}},[t._v("#")]),t._v(" 配置后镜像拉取仍然很慢")]),t._v(" "),s("ol",[s("li",[t._v("确认配置文件格式正确，没有语法错误")]),t._v(" "),s("li",[t._v("确认Docker服务已经重启")]),t._v(" "),s("li",[t._v("尝试使用不同的镜像源")]),t._v(" "),s("li",[t._v("检查网络连接是否正常")])]),t._v(" "),s("h3",{attrs:{id:"无法连接到镜像源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#无法连接到镜像源"}},[t._v("#")]),t._v(" 无法连接到镜像源")]),t._v(" "),s("ol",[s("li",[t._v("检查镜像源地址是否正确")]),t._v(" "),s("li",[t._v("检查网络连接是否正常")]),t._v(" "),s("li",[t._v("尝试使用其他镜像源")])]),t._v(" "),s("h3",{attrs:{id:"配置文件被覆盖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置文件被覆盖"}},[t._v("#")]),t._v(" 配置文件被覆盖")]),t._v(" "),s("p",[t._v("某些Docker版本更新可能会覆盖配置文件，更新Docker后需要检查配置是否仍然有效。")]),t._v(" "),s("h2",{attrs:{id:"企业级镜像源解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#企业级镜像源解决方案"}},[t._v("#")]),t._v(" 企业级镜像源解决方案")]),t._v(" "),s("p",[t._v("对于企业用户，建议：")]),t._v(" "),s("ol",[s("li",[t._v("搭建私有Docker Registry")]),t._v(" "),s("li",[t._v("使用Harbor等企业级镜像仓库管理系统")]),t._v(" "),s("li",[t._v("配置镜像同步任务，定期从Docker Hub同步常用镜像")])]),t._v(" "),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("p",[t._v("通过配置Docker国内镜像源，可以显著提高Docker镜像的下载速度，解决在国内网络环境下使用Docker的痛点。根据自己的网络环境和需求，选择合适的镜像源，并正确配置，可以获得最佳的使用体验。")]),t._v(" "),s("h2",{attrs:{id:"相关资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#相关资源"}},[t._v("#")]),t._v(" 相关资源")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://docs.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker官方文档"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://cr.console.aliyun.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("阿里云容器镜像服务"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/docker/docker-install.html"}},[t._v("Docker安装指南")])],1),t._v(" "),s("li",[s("RouterLink",{attrs:{to:"/docker/docker-images.html"}},[t._v("Docker镜像管理")])],1)])])}),[],!1,null,null,null);s.default=e.exports}}]);