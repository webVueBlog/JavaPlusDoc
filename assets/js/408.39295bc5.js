(window.webpackJsonp=window.webpackJsonp||[]).push([[408],{1239:function(t,e,s){"use strict";s.r(e);var a=s(1),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("blockquote",[e("p",[t._v("点击勘误"),e("a",{attrs:{href:"https://github.com/webVueBlog/JavaPlusDoc/issues",target:"_blank",rel:"noopener noreferrer"}},[t._v("issues"),e("OutboundLink")],1),t._v("，哪吒感谢大家的阅读")])]),t._v(" "),e("img",{attrs:{align:"right",width:"100",src:"https://cdn.jsdelivr.net/gh/YunYouJun/yun/images/yun-alpha-compressed.png"}}),t._v(" "),e("h2",{attrs:{id:"完整的用户注册登录系统"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#完整的用户注册登录系统"}},[t._v("#")]),t._v(" 完整的用户注册登录系统")]),t._v(" "),e("p",[t._v("完整的用户注册/登录系统，支持 密码、验证码、第三方登录（微信、支付宝、GitHub），这也是常见的用户认证体系。")]),t._v(" "),e("h2",{attrs:{id:"🧩-一、模块化用户登录功能结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🧩-一、模块化用户登录功能结构"}},[t._v("#")]),t._v(" 🧩 一、模块化用户登录功能结构")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("用户认证模块\n├── 账号密码登录（传统登录）\n├── 验证码登录（短信、邮箱验证码）\n├── 第三方登录\n│   ├── 微信登录（扫码、公众号、小程序）\n│   ├── 支付宝登录（扫码/授权）\n│   └── GitHub 登录（OAuth2）\n├── 注册流程（支持邀请码）\n├── 用户资料补充 / 修改\n├── 登录态管理（JWT / Token / Session）\n└── 安全控制（风控、设备校验、防暴力破解）\n")])])]),e("p",[t._v("🔐 二、账号密码登录")]),t._v(" "),e("p",[t._v("✅ 接口流程")]),t._v(" "),e("ul",[e("li",[t._v("用户提交手机号/邮箱 + 密码")]),t._v(" "),e("li"),t._v(" "),e("li",[t._v("服务端验证账号密码")]),t._v(" "),e("li"),t._v(" "),e("li",[t._v("验证通过后生成登录 token（JWT / Session）")]),t._v(" "),e("li"),t._v(" "),e("li",[t._v("返回给前端保存（如保存在 Cookie）")])]),t._v(" "),e("h3",{attrs:{id:"🔧-示例代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🔧-示例代码"}},[t._v("#")]),t._v(" 🔧 示例代码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('@PostMapping("/login")\npublic ResponseEntity<?> login(@RequestBody LoginRequest request) {\n    User user = userService.findByUsername(request.getUsername());\n\n    if (user == null || !passwordEncoder.matches(request.getPassword(), user.getPassword())) {\n        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body("账号或密码错误");\n    }\n\n    String token = jwtUtil.generateToken(user.getId());\n    return ResponseEntity.ok(Map.of("token", token));\n}\n')])])]),e("h2",{attrs:{id:"📩-三、验证码登录-短信-邮箱"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#📩-三、验证码登录-短信-邮箱"}},[t._v("#")]),t._v(" 📩 三、验证码登录（短信/邮箱）")]),t._v(" "),e("h3",{attrs:{id:"✅-流程说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#✅-流程说明"}},[t._v("#")]),t._v(" ✅ 流程说明")]),t._v(" "),e("ol",[e("li",[t._v("用户输入手机号/邮箱请求验证码")]),t._v(" "),e("li",[t._v("后端生成验证码并通过短信/邮件发送")]),t._v(" "),e("li",[t._v("用户输入验证码登录")]),t._v(" "),e("li",[t._v("验证通过后注册或登录，生成 token")])]),t._v(" "),e("h3",{attrs:{id:"🔧-核心点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🔧-核心点"}},[t._v("#")]),t._v(" 🔧 核心点")]),t._v(" "),e("ul",[e("li",[t._v("验证码缓存：使用 Redis 缓存验证码，有效期如 5 分钟")]),t._v(" "),e("li",[t._v("发送接口：接入阿里云短信、腾讯云短信、SendGrid、SMTP 邮件等")])]),t._v(" "),e("h2",{attrs:{id:"🌐-四、第三方登录-oauth2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🌐-四、第三方登录-oauth2"}},[t._v("#")]),t._v(" 🌐 四、第三方登录（OAuth2）")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("平台")]),t._v(" "),e("th",[t._v("关键步骤")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("微信")]),t._v(" "),e("td",[t._v("获取二维码 -> 用户扫码授权 -> 获取 code -> 换 access_token -> 获取 openid/userinfo")])]),t._v(" "),e("tr",[e("td",[t._v("支付宝")]),t._v(" "),e("td",[t._v("同上")])]),t._v(" "),e("tr",[e("td",[t._v("GitHub")]),t._v(" "),e("td",[t._v("GitHub 授权页 -> 获取 code -> 换 access_token -> 拉用户信息")])])])]),t._v(" "),e("h3",{attrs:{id:"🔧-示例-github-oauth2-登录流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🔧-示例-github-oauth2-登录流程"}},[t._v("#")]),t._v(" 🔧 示例：GitHub OAuth2 登录流程")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('@GetMapping("/github/callback")\npublic void githubCallback(@RequestParam String code, HttpServletResponse response) throws IOException {\n    // 用 code 换取 access_token\n    String accessToken = githubService.getAccessToken(code);\n    \n    // 用 access_token 获取用户信息\n    GitHubUser user = githubService.getUserInfo(accessToken);\n    \n    // 登录或注册用户\n    String userId = userService.loginOrRegisterByGitHub(user);\n    \n    // 返回 JWT\n    String token = jwtUtil.generateToken(userId);\n    response.sendRedirect("/login-success?token=" + token);\n}\n')])])]),e("h2",{attrs:{id:"🧾-五、注册接口建议"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🧾-五、注册接口建议"}},[t._v("#")]),t._v(" 🧾 五、注册接口建议")]),t._v(" "),e("p",[t._v("支持：")]),t._v(" "),e("ul",[e("li",[t._v("账号密码注册")]),t._v(" "),e("li",[t._v("验证码注册")]),t._v(" "),e("li",[t._v("第三方授权后补全资料注册")])]),t._v(" "),e("p",[t._v("可以加入：")]),t._v(" "),e("ul",[e("li",[t._v("图形验证码（防刷）")]),t._v(" "),e("li",[t._v("邀请码 / 渠道来源标记")]),t._v(" "),e("li",[t._v("注册来源追踪（Web、H5、小程序）")])]),t._v(" "),e("h2",{attrs:{id:"🧰-六、技术栈推荐"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🧰-六、技术栈推荐"}},[t._v("#")]),t._v(" 🧰 六、技术栈推荐")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("组件")]),t._v(" "),e("th",[t._v("推荐")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("框架")]),t._v(" "),e("td",[t._v("Spring Boot + Spring Security")])]),t._v(" "),e("tr",[e("td",[t._v("密码加密")]),t._v(" "),e("td",[t._v("BCryptPasswordEncoder")])]),t._v(" "),e("tr",[e("td",[t._v("Token")]),t._v(" "),e("td",[t._v("JWT（jjwt）或 Spring Security OAuth2")])]),t._v(" "),e("tr",[e("td",[t._v("数据库")]),t._v(" "),e("td",[t._v("MySQL + MyBatis Plus")])]),t._v(" "),e("tr",[e("td",[t._v("验证码")]),t._v(" "),e("td",[t._v("Redis + 自定义验证码组件")])]),t._v(" "),e("tr",[e("td",[t._v("邮件")]),t._v(" "),e("td",[t._v("Spring Mail")])]),t._v(" "),e("tr",[e("td",[t._v("第三方登录")]),t._v(" "),e("td",[t._v("手动集成 OAuth2（或用 Spring Social / OAuth2 Client）")])])])])])}),[],!1,null,null,null);e.default=r.exports}}]);