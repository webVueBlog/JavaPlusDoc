(window.webpackJsonp=window.webpackJsonp||[]).push([[408],{1239:function(t,e,s){"use strict";s.r(e);var a=s(1),r=Object(a.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("blockquote",[e("p",[t._v("ç‚¹å‡»å‹˜è¯¯"),e("a",{attrs:{href:"https://github.com/webVueBlog/JavaPlusDoc/issues",target:"_blank",rel:"noopener noreferrer"}},[t._v("issues"),e("OutboundLink")],1),t._v("ï¼Œå“ªå’æ„Ÿè°¢å¤§å®¶çš„é˜…è¯»")])]),t._v(" "),e("img",{attrs:{align:"right",width:"100",src:"https://cdn.jsdelivr.net/gh/YunYouJun/yun/images/yun-alpha-compressed.png"}}),t._v(" "),e("h2",{attrs:{id:"å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œç™»å½•ç³»ç»Ÿ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œç™»å½•ç³»ç»Ÿ"}},[t._v("#")]),t._v(" å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œç™»å½•ç³»ç»Ÿ")]),t._v(" "),e("p",[t._v("å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œ/ç™»å½•ç³»ç»Ÿï¼Œæ”¯æŒ å¯†ç ã€éªŒè¯ç ã€ç¬¬ä¸‰æ–¹ç™»å½•ï¼ˆå¾®ä¿¡ã€æ”¯ä»˜å®ã€GitHubï¼‰ï¼Œè¿™ä¹Ÿæ˜¯å¸¸è§çš„ç”¨æˆ·è®¤è¯ä½“ç³»ã€‚")]),t._v(" "),e("h2",{attrs:{id:"ğŸ§©-ä¸€ã€æ¨¡å—åŒ–ç”¨æˆ·ç™»å½•åŠŸèƒ½ç»“æ„"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§©-ä¸€ã€æ¨¡å—åŒ–ç”¨æˆ·ç™»å½•åŠŸèƒ½ç»“æ„"}},[t._v("#")]),t._v(" ğŸ§© ä¸€ã€æ¨¡å—åŒ–ç”¨æˆ·ç™»å½•åŠŸèƒ½ç»“æ„")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("ç”¨æˆ·è®¤è¯æ¨¡å—\nâ”œâ”€â”€ è´¦å·å¯†ç ç™»å½•ï¼ˆä¼ ç»Ÿç™»å½•ï¼‰\nâ”œâ”€â”€ éªŒè¯ç ç™»å½•ï¼ˆçŸ­ä¿¡ã€é‚®ç®±éªŒè¯ç ï¼‰\nâ”œâ”€â”€ ç¬¬ä¸‰æ–¹ç™»å½•\nâ”‚   â”œâ”€â”€ å¾®ä¿¡ç™»å½•ï¼ˆæ‰«ç ã€å…¬ä¼—å·ã€å°ç¨‹åºï¼‰\nâ”‚   â”œâ”€â”€ æ”¯ä»˜å®ç™»å½•ï¼ˆæ‰«ç /æˆæƒï¼‰\nâ”‚   â””â”€â”€ GitHub ç™»å½•ï¼ˆOAuth2ï¼‰\nâ”œâ”€â”€ æ³¨å†Œæµç¨‹ï¼ˆæ”¯æŒé‚€è¯·ç ï¼‰\nâ”œâ”€â”€ ç”¨æˆ·èµ„æ–™è¡¥å…… / ä¿®æ”¹\nâ”œâ”€â”€ ç™»å½•æ€ç®¡ç†ï¼ˆJWT / Token / Sessionï¼‰\nâ””â”€â”€ å®‰å…¨æ§åˆ¶ï¼ˆé£æ§ã€è®¾å¤‡æ ¡éªŒã€é˜²æš´åŠ›ç ´è§£ï¼‰\n")])])]),e("p",[t._v("ğŸ” äºŒã€è´¦å·å¯†ç ç™»å½•")]),t._v(" "),e("p",[t._v("âœ… æ¥å£æµç¨‹")]),t._v(" "),e("ul",[e("li",[t._v("ç”¨æˆ·æäº¤æ‰‹æœºå·/é‚®ç®± + å¯†ç ")]),t._v(" "),e("li"),t._v(" "),e("li",[t._v("æœåŠ¡ç«¯éªŒè¯è´¦å·å¯†ç ")]),t._v(" "),e("li"),t._v(" "),e("li",[t._v("éªŒè¯é€šè¿‡åç”Ÿæˆç™»å½• tokenï¼ˆJWT / Sessionï¼‰")]),t._v(" "),e("li"),t._v(" "),e("li",[t._v("è¿”å›ç»™å‰ç«¯ä¿å­˜ï¼ˆå¦‚ä¿å­˜åœ¨ Cookieï¼‰")])]),t._v(" "),e("h3",{attrs:{id:"ğŸ”§-ç¤ºä¾‹ä»£ç "}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”§-ç¤ºä¾‹ä»£ç "}},[t._v("#")]),t._v(" ğŸ”§ ç¤ºä¾‹ä»£ç ")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('@PostMapping("/login")\npublic ResponseEntity<?> login(@RequestBody LoginRequest request) {\n    User user = userService.findByUsername(request.getUsername());\n\n    if (user == null || !passwordEncoder.matches(request.getPassword(), user.getPassword())) {\n        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body("è´¦å·æˆ–å¯†ç é”™è¯¯");\n    }\n\n    String token = jwtUtil.generateToken(user.getId());\n    return ResponseEntity.ok(Map.of("token", token));\n}\n')])])]),e("h2",{attrs:{id:"ğŸ“©-ä¸‰ã€éªŒè¯ç ç™»å½•-çŸ­ä¿¡-é‚®ç®±"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“©-ä¸‰ã€éªŒè¯ç ç™»å½•-çŸ­ä¿¡-é‚®ç®±"}},[t._v("#")]),t._v(" ğŸ“© ä¸‰ã€éªŒè¯ç ç™»å½•ï¼ˆçŸ­ä¿¡/é‚®ç®±ï¼‰")]),t._v(" "),e("h3",{attrs:{id:"âœ…-æµç¨‹è¯´æ˜"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#âœ…-æµç¨‹è¯´æ˜"}},[t._v("#")]),t._v(" âœ… æµç¨‹è¯´æ˜")]),t._v(" "),e("ol",[e("li",[t._v("ç”¨æˆ·è¾“å…¥æ‰‹æœºå·/é‚®ç®±è¯·æ±‚éªŒè¯ç ")]),t._v(" "),e("li",[t._v("åç«¯ç”ŸæˆéªŒè¯ç å¹¶é€šè¿‡çŸ­ä¿¡/é‚®ä»¶å‘é€")]),t._v(" "),e("li",[t._v("ç”¨æˆ·è¾“å…¥éªŒè¯ç ç™»å½•")]),t._v(" "),e("li",[t._v("éªŒè¯é€šè¿‡åæ³¨å†Œæˆ–ç™»å½•ï¼Œç”Ÿæˆ token")])]),t._v(" "),e("h3",{attrs:{id:"ğŸ”§-æ ¸å¿ƒç‚¹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”§-æ ¸å¿ƒç‚¹"}},[t._v("#")]),t._v(" ğŸ”§ æ ¸å¿ƒç‚¹")]),t._v(" "),e("ul",[e("li",[t._v("éªŒè¯ç ç¼“å­˜ï¼šä½¿ç”¨ Redis ç¼“å­˜éªŒè¯ç ï¼Œæœ‰æ•ˆæœŸå¦‚ 5 åˆ†é’Ÿ")]),t._v(" "),e("li",[t._v("å‘é€æ¥å£ï¼šæ¥å…¥é˜¿é‡Œäº‘çŸ­ä¿¡ã€è…¾è®¯äº‘çŸ­ä¿¡ã€SendGridã€SMTP é‚®ä»¶ç­‰")])]),t._v(" "),e("h2",{attrs:{id:"ğŸŒ-å››ã€ç¬¬ä¸‰æ–¹ç™»å½•-oauth2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒ-å››ã€ç¬¬ä¸‰æ–¹ç™»å½•-oauth2"}},[t._v("#")]),t._v(" ğŸŒ å››ã€ç¬¬ä¸‰æ–¹ç™»å½•ï¼ˆOAuth2ï¼‰")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("å¹³å°")]),t._v(" "),e("th",[t._v("å…³é”®æ­¥éª¤")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("å¾®ä¿¡")]),t._v(" "),e("td",[t._v("è·å–äºŒç»´ç  -> ç”¨æˆ·æ‰«ç æˆæƒ -> è·å– code -> æ¢ access_token -> è·å– openid/userinfo")])]),t._v(" "),e("tr",[e("td",[t._v("æ”¯ä»˜å®")]),t._v(" "),e("td",[t._v("åŒä¸Š")])]),t._v(" "),e("tr",[e("td",[t._v("GitHub")]),t._v(" "),e("td",[t._v("GitHub æˆæƒé¡µ -> è·å– code -> æ¢ access_token -> æ‹‰ç”¨æˆ·ä¿¡æ¯")])])])]),t._v(" "),e("h3",{attrs:{id:"ğŸ”§-ç¤ºä¾‹-github-oauth2-ç™»å½•æµç¨‹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”§-ç¤ºä¾‹-github-oauth2-ç™»å½•æµç¨‹"}},[t._v("#")]),t._v(" ğŸ”§ ç¤ºä¾‹ï¼šGitHub OAuth2 ç™»å½•æµç¨‹")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('@GetMapping("/github/callback")\npublic void githubCallback(@RequestParam String code, HttpServletResponse response) throws IOException {\n    // ç”¨ code æ¢å– access_token\n    String accessToken = githubService.getAccessToken(code);\n    \n    // ç”¨ access_token è·å–ç”¨æˆ·ä¿¡æ¯\n    GitHubUser user = githubService.getUserInfo(accessToken);\n    \n    // ç™»å½•æˆ–æ³¨å†Œç”¨æˆ·\n    String userId = userService.loginOrRegisterByGitHub(user);\n    \n    // è¿”å› JWT\n    String token = jwtUtil.generateToken(userId);\n    response.sendRedirect("/login-success?token=" + token);\n}\n')])])]),e("h2",{attrs:{id:"ğŸ§¾-äº”ã€æ³¨å†Œæ¥å£å»ºè®®"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§¾-äº”ã€æ³¨å†Œæ¥å£å»ºè®®"}},[t._v("#")]),t._v(" ğŸ§¾ äº”ã€æ³¨å†Œæ¥å£å»ºè®®")]),t._v(" "),e("p",[t._v("æ”¯æŒï¼š")]),t._v(" "),e("ul",[e("li",[t._v("è´¦å·å¯†ç æ³¨å†Œ")]),t._v(" "),e("li",[t._v("éªŒè¯ç æ³¨å†Œ")]),t._v(" "),e("li",[t._v("ç¬¬ä¸‰æ–¹æˆæƒåè¡¥å…¨èµ„æ–™æ³¨å†Œ")])]),t._v(" "),e("p",[t._v("å¯ä»¥åŠ å…¥ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("å›¾å½¢éªŒè¯ç ï¼ˆé˜²åˆ·ï¼‰")]),t._v(" "),e("li",[t._v("é‚€è¯·ç  / æ¸ é“æ¥æºæ ‡è®°")]),t._v(" "),e("li",[t._v("æ³¨å†Œæ¥æºè¿½è¸ªï¼ˆWebã€H5ã€å°ç¨‹åºï¼‰")])]),t._v(" "),e("h2",{attrs:{id:"ğŸ§°-å…­ã€æŠ€æœ¯æ ˆæ¨è"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§°-å…­ã€æŠ€æœ¯æ ˆæ¨è"}},[t._v("#")]),t._v(" ğŸ§° å…­ã€æŠ€æœ¯æ ˆæ¨è")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("ç»„ä»¶")]),t._v(" "),e("th",[t._v("æ¨è")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("æ¡†æ¶")]),t._v(" "),e("td",[t._v("Spring Boot + Spring Security")])]),t._v(" "),e("tr",[e("td",[t._v("å¯†ç åŠ å¯†")]),t._v(" "),e("td",[t._v("BCryptPasswordEncoder")])]),t._v(" "),e("tr",[e("td",[t._v("Token")]),t._v(" "),e("td",[t._v("JWTï¼ˆjjwtï¼‰æˆ– Spring Security OAuth2")])]),t._v(" "),e("tr",[e("td",[t._v("æ•°æ®åº“")]),t._v(" "),e("td",[t._v("MySQL + MyBatis Plus")])]),t._v(" "),e("tr",[e("td",[t._v("éªŒè¯ç ")]),t._v(" "),e("td",[t._v("Redis + è‡ªå®šä¹‰éªŒè¯ç ç»„ä»¶")])]),t._v(" "),e("tr",[e("td",[t._v("é‚®ä»¶")]),t._v(" "),e("td",[t._v("Spring Mail")])]),t._v(" "),e("tr",[e("td",[t._v("ç¬¬ä¸‰æ–¹ç™»å½•")]),t._v(" "),e("td",[t._v("æ‰‹åŠ¨é›†æˆ OAuth2ï¼ˆæˆ–ç”¨ Spring Social / OAuth2 Clientï¼‰")])])])])])}),[],!1,null,null,null);e.default=r.exports}}]);