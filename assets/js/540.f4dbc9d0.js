(window.webpackJsonp=window.webpackJsonp||[]).push([[540],{1411:function(t,s,a){"use strict";a.r(s);var r=a(1),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"å¼ºåˆ¶æ›´æ–°åŠŸèƒ½è¯´æ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼ºåˆ¶æ›´æ–°åŠŸèƒ½è¯´æ˜"}},[t._v("#")]),t._v(" å¼ºåˆ¶æ›´æ–°åŠŸèƒ½è¯´æ˜")]),t._v(" "),s("h2",{attrs:{id:"åŠŸèƒ½æ¦‚è¿°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŠŸèƒ½æ¦‚è¿°"}},[t._v("#")]),t._v(" åŠŸèƒ½æ¦‚è¿°")]),t._v(" "),s("p",[t._v("æœ¬æ–‡æ¡£ç½‘ç«™å·²é›†æˆå¼ºåˆ¶æ›´æ–°åŠŸèƒ½ï¼ŒåŸºäº PWA (Progressive Web App) æŠ€æœ¯å®ç°ï¼Œç¡®ä¿ç”¨æˆ·å§‹ç»ˆèƒ½å¤Ÿè·å–åˆ°æœ€æ–°çš„å†…å®¹å’ŒåŠŸèƒ½ã€‚")]),t._v(" "),s("h2",{attrs:{id:"ä¸»è¦ç‰¹æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»è¦ç‰¹æ€§"}},[t._v("#")]),t._v(" ä¸»è¦ç‰¹æ€§")]),t._v(" "),s("h3",{attrs:{id:"ğŸ”„-è‡ªåŠ¨æ£€æµ‹æ›´æ–°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”„-è‡ªåŠ¨æ£€æµ‹æ›´æ–°"}},[t._v("#")]),t._v(" ğŸ”„ è‡ªåŠ¨æ£€æµ‹æ›´æ–°")]),t._v(" "),s("ul",[s("li",[t._v("æ¯30åˆ†é’Ÿè‡ªåŠ¨æ£€æŸ¥ä¸€æ¬¡æ–°ç‰ˆæœ¬")]),t._v(" "),s("li",[t._v("é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ£€æµ‹æ˜¯å¦æœ‰æ›´æ–°")]),t._v(" "),s("li",[t._v("Service Worker åå°ç›‘æ§æ–‡ä»¶å˜åŒ–")])]),t._v(" "),s("h3",{attrs:{id:"ğŸ“±-æ™ºèƒ½æ›´æ–°æç¤º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“±-æ™ºèƒ½æ›´æ–°æç¤º"}},[t._v("#")]),t._v(" ğŸ“± æ™ºèƒ½æ›´æ–°æç¤º")]),t._v(" "),s("ul",[s("li",[t._v("ç¾è§‚çš„æ›´æ–°æç¤ºå¼¹çª—")]),t._v(" "),s("li",[t._v("æ”¯æŒç«‹å³æ›´æ–°æˆ–ç¨åæé†’")]),t._v(" "),s("li",[t._v("ç§»åŠ¨ç«¯å‹å¥½çš„å“åº”å¼è®¾è®¡")])]),t._v(" "),s("h3",{attrs:{id:"ğŸ’¾-ç¦»çº¿ç¼“å­˜ç®¡ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’¾-ç¦»çº¿ç¼“å­˜ç®¡ç†"}},[t._v("#")]),t._v(" ğŸ’¾ ç¦»çº¿ç¼“å­˜ç®¡ç†")]),t._v(" "),s("ul",[s("li",[t._v("æ™ºèƒ½ç¼“å­˜ç­–ç•¥ï¼Œæå‡åŠ è½½é€Ÿåº¦")]),t._v(" "),s("li",[t._v("è‡ªåŠ¨æ¸…ç†è¿‡æœŸç¼“å­˜")]),t._v(" "),s("li",[t._v("æ”¯æŒç¦»çº¿æµè§ˆ")])]),t._v(" "),s("h3",{attrs:{id:"ğŸ¯-ç‰ˆæœ¬ç®¡ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¯-ç‰ˆæœ¬ç®¡ç†"}},[t._v("#")]),t._v(" ğŸ¯ ç‰ˆæœ¬ç®¡ç†")]),t._v(" "),s("ul",[s("li",[t._v("å®æ—¶ç‰ˆæœ¬ä¿¡æ¯æ˜¾ç¤º")]),t._v(" "),s("li",[t._v("æ›´æ–°å†å²è®°å½•")]),t._v(" "),s("li",[t._v("ç‰ˆæœ¬å¯¹æ¯”åŠŸèƒ½")])]),t._v(" "),s("h2",{attrs:{id:"æŠ€æœ¯å®ç°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æŠ€æœ¯å®ç°"}},[t._v("#")]),t._v(" æŠ€æœ¯å®ç°")]),t._v(" "),s("h3",{attrs:{id:"æ ¸å¿ƒæ–‡ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ ¸å¿ƒæ–‡ä»¶"}},[t._v("#")]),t._v(" æ ¸å¿ƒæ–‡ä»¶")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("Service Worker")]),t._v(" ("),s("code",[t._v("/public/sw.js")]),t._v(")")]),t._v(" "),s("ul",[s("li",[t._v("ç¼“å­˜ç®¡ç†")]),t._v(" "),s("li",[t._v("æ›´æ–°æ£€æµ‹")]),t._v(" "),s("li",[t._v("ç¦»çº¿æ”¯æŒ")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("å¼ºåˆ¶æ›´æ–°è„šæœ¬")]),t._v(" ("),s("code",[t._v("/public/js/force-update.js")]),t._v(")")]),t._v(" "),s("ul",[s("li",[t._v("ç”¨æˆ·ç•Œé¢äº¤äº’")]),t._v(" "),s("li",[t._v("æ›´æ–°æç¤ºæ˜¾ç¤º")]),t._v(" "),s("li",[t._v("ç”¨æˆ·æ“ä½œå¤„ç†")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("ç‰ˆæœ¬ç®¡ç†å™¨")]),t._v(" ("),s("code",[t._v("/public/js/version-manager.js")]),t._v(")")]),t._v(" "),s("ul",[s("li",[t._v("ç‰ˆæœ¬ä¿¡æ¯ç®¡ç†")]),t._v(" "),s("li",[t._v("æ›´æ–°é€šçŸ¥")]),t._v(" "),s("li",[t._v("æœ¬åœ°å­˜å‚¨ç®¡ç†")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("æ›´æ–°çŠ¶æ€ç»„ä»¶")]),t._v(" ("),s("code",[t._v("/components/UpdateStatus.vue")]),t._v(")")]),t._v(" "),s("ul",[s("li",[t._v("Vue ç»„ä»¶å½¢å¼çš„çŠ¶æ€æ˜¾ç¤º")]),t._v(" "),s("li",[t._v("å®æ—¶æ›´æ–°çŠ¶æ€")]),t._v(" "),s("li",[t._v("æ‰‹åŠ¨æ“ä½œç•Œé¢")])])])]),t._v(" "),s("h3",{attrs:{id:"é…ç½®è¯´æ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®è¯´æ˜"}},[t._v("#")]),t._v(" é…ç½®è¯´æ˜")]),t._v(" "),s("p",[t._v("åœ¨ "),s("code",[t._v("config.js")]),t._v(" ä¸­çš„ PWA é…ç½®ï¼š")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@vuepress/plugin-pwa"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("serviceWorker")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("updatePopup")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¦ç”¨é»˜è®¤å¼¹çª—ï¼Œä½¿ç”¨è‡ªå®šä¹‰æ›´æ–°æç¤º")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("generateSWConfig")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("skipWaiting")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸è‡ªåŠ¨è·³è¿‡ç­‰å¾…ï¼Œç”±ç”¨æˆ·æ‰‹åŠ¨è§¦å‘")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("clientsClaim")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸è‡ªåŠ¨å£°æ˜å®¢æˆ·ç«¯æ§åˆ¶æƒ")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("runtimeCaching")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å­—ä½“ç¼“å­˜ç­–ç•¥")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("urlPattern")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^https:\\/\\/fonts\\.googleapis\\.com\\/")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("handler")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'StaleWhileRevalidate'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("cacheName")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'google-fonts-stylesheets'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("urlPattern")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^https:\\/\\/fonts\\.gstatic\\.com\\/")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("handler")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CacheFirst'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("options")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("cacheName")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'google-fonts-webfonts'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("expiration")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("maxEntries")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n              "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("maxAgeSeconds")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("365")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1å¹´")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("h2",{attrs:{id:"ç”¨æˆ·ä½“éªŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç”¨æˆ·ä½“éªŒ"}},[t._v("#")]),t._v(" ç”¨æˆ·ä½“éªŒ")]),t._v(" "),s("h3",{attrs:{id:"æ›´æ–°æµç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ›´æ–°æµç¨‹"}},[t._v("#")]),t._v(" æ›´æ–°æµç¨‹")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("æ£€æµ‹é˜¶æ®µ")])]),t._v(" "),s("ul",[s("li",[t._v("ç³»ç»Ÿè‡ªåŠ¨æ£€æµ‹æ–°ç‰ˆæœ¬")]),t._v(" "),s("li",[t._v("åå°ä¸‹è½½æ›´æ–°å†…å®¹")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("æç¤ºé˜¶æ®µ")])]),t._v(" "),s("ul",[s("li",[t._v("æ˜¾ç¤ºæ›´æ–°æç¤ºå¼¹çª—")]),t._v(" "),s("li",[t._v("ç”¨æˆ·å¯é€‰æ‹©ç«‹å³æ›´æ–°æˆ–ç¨å")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("æ›´æ–°é˜¶æ®µ")])]),t._v(" "),s("ul",[s("li",[t._v("æ¿€æ´»æ–°çš„ Service Worker")]),t._v(" "),s("li",[t._v("æ¸…ç†æ—§ç¼“å­˜")]),t._v(" "),s("li",[t._v("åˆ·æ–°é¡µé¢å†…å®¹")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("å®Œæˆé˜¶æ®µ")])]),t._v(" "),s("ul",[s("li",[t._v("æ˜¾ç¤ºæ›´æ–°æˆåŠŸæç¤º")]),t._v(" "),s("li",[t._v("å±•ç¤ºæ–°ç‰ˆæœ¬ç‰¹æ€§")])])])]),t._v(" "),s("h3",{attrs:{id:"ç•Œé¢å…ƒç´ "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç•Œé¢å…ƒç´ "}},[t._v("#")]),t._v(" ç•Œé¢å…ƒç´ ")]),t._v(" "),s("h4",{attrs:{id:"æ›´æ–°æç¤ºå¼¹çª—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ›´æ–°æç¤ºå¼¹çª—"}},[t._v("#")]),t._v(" æ›´æ–°æç¤ºå¼¹çª—")]),t._v(" "),s("ul",[s("li",[t._v("ä½ç½®ï¼šé¡µé¢é¡¶éƒ¨å±…ä¸­")]),t._v(" "),s("li",[t._v("æ ·å¼ï¼šç°ä»£åŒ–å¡ç‰‡è®¾è®¡")]),t._v(" "),s("li",[t._v("æ“ä½œï¼šç«‹å³æ›´æ–° / ç¨åæé†’")]),t._v(" "),s("li",[t._v("åŠ¨ç”»ï¼šå¹³æ»‘çš„æ»‘å…¥æ»‘å‡ºæ•ˆæœ")])]),t._v(" "),s("h4",{attrs:{id:"çŠ¶æ€æŒ‡ç¤ºå™¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#çŠ¶æ€æŒ‡ç¤ºå™¨"}},[t._v("#")]),t._v(" çŠ¶æ€æŒ‡ç¤ºå™¨")]),t._v(" "),s("ul",[s("li",[t._v("ä½ç½®ï¼šé¡µé¢å³ä¸‹è§’")]),t._v(" "),s("li",[t._v("åŠŸèƒ½ï¼šæ˜¾ç¤ºå½“å‰ç‰ˆæœ¬å’Œæ›´æ–°çŠ¶æ€")]),t._v(" "),s("li",[t._v("äº¤äº’ï¼šç‚¹å‡»å±•å¼€è¯¦ç»†ä¿¡æ¯")])]),t._v(" "),s("h2",{attrs:{id:"å¼€å‘è€…æŒ‡å—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å‘è€…æŒ‡å—"}},[t._v("#")]),t._v(" å¼€å‘è€…æŒ‡å—")]),t._v(" "),s("h3",{attrs:{id:"è‡ªå®šä¹‰é…ç½®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è‡ªå®šä¹‰é…ç½®"}},[t._v("#")]),t._v(" è‡ªå®šä¹‰é…ç½®")]),t._v(" "),s("h4",{attrs:{id:"ä¿®æ”¹æ£€æŸ¥é—´éš”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¿®æ”¹æ£€æŸ¥é—´éš”"}},[t._v("#")]),t._v(" ä¿®æ”¹æ£€æŸ¥é—´éš”")]),t._v(" "),s("p",[t._v("åœ¨ "),s("code",[t._v("version-manager.js")]),t._v(" ä¸­ä¿®æ”¹ï¼š")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CHECK_INTERVAL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 30åˆ†é’Ÿ")]),t._v("\n")])])]),s("h4",{attrs:{id:"è‡ªå®šä¹‰æ›´æ–°æç¤ºæ ·å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è‡ªå®šä¹‰æ›´æ–°æç¤ºæ ·å¼"}},[t._v("#")]),t._v(" è‡ªå®šä¹‰æ›´æ–°æç¤ºæ ·å¼")]),t._v(" "),s("p",[t._v("ä¿®æ”¹ "),s("code",[t._v("force-update.js")]),t._v(" ä¸­çš„ CSS æ ·å¼ï¼š")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" styles "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\n  .force-update-modal {\n    /* è‡ªå®šä¹‰æ ·å¼ */\n  }\n")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"ç‰ˆæœ¬ä¿¡æ¯é…ç½®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç‰ˆæœ¬ä¿¡æ¯é…ç½®"}},[t._v("#")]),t._v(" ç‰ˆæœ¬ä¿¡æ¯é…ç½®")]),t._v(" "),s("p",[t._v("åœ¨ "),s("code",[t._v("version-manager.js")]),t._v(" ä¸­æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯ï¼š")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" currentVersion "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("version")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1.0.0'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("buildTime")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toISOString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("features")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ–°åŠŸèƒ½1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ–°åŠŸèƒ½2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ä¿®å¤çš„é—®é¢˜'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"è°ƒè¯•å·¥å…·"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è°ƒè¯•å·¥å…·"}},[t._v("#")]),t._v(" è°ƒè¯•å·¥å…·")]),t._v(" "),s("h4",{attrs:{id:"æµè§ˆå™¨æ§åˆ¶å°å‘½ä»¤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨æ§åˆ¶å°å‘½ä»¤"}},[t._v("#")]),t._v(" æµè§ˆå™¨æ§åˆ¶å°å‘½ä»¤")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–ç‰ˆæœ¬ä¿¡æ¯")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getVersionInfo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¸…é™¤ç‰ˆæœ¬ç¼“å­˜")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearVersionCache")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰‹åŠ¨è§¦å‘æ›´æ–°æ£€æŸ¥")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkForUpdates")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼ºåˆ¶æ›´æ–°")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forceUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h4",{attrs:{id:"service-worker-è°ƒè¯•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service-worker-è°ƒè¯•"}},[t._v("#")]),t._v(" Service Worker è°ƒè¯•")]),t._v(" "),s("ol",[s("li",[t._v("æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·")]),t._v(" "),s("li",[t._v("è¿›å…¥ Application æ ‡ç­¾")]),t._v(" "),s("li",[t._v("æŸ¥çœ‹ Service Workers éƒ¨åˆ†")]),t._v(" "),s("li",[t._v("å¯ä»¥æ‰‹åŠ¨æ›´æ–°æˆ–å¸è½½ Service Worker")])]),t._v(" "),s("h2",{attrs:{id:"æœ€ä½³å®è·µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœ€ä½³å®è·µ"}},[t._v("#")]),t._v(" æœ€ä½³å®è·µ")]),t._v(" "),s("h3",{attrs:{id:"éƒ¨ç½²å»ºè®®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#éƒ¨ç½²å»ºè®®"}},[t._v("#")]),t._v(" éƒ¨ç½²å»ºè®®")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("ç‰ˆæœ¬å·ç®¡ç†")])]),t._v(" "),s("ul",[s("li",[t._v("æ¯æ¬¡å‘å¸ƒæ›´æ–°ç‰ˆæœ¬å·")]),t._v(" "),s("li",[t._v("ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶")]),t._v(" "),s("li",[t._v("è®°å½•æ›´æ–°æ—¥å¿—")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("ç¼“å­˜ç­–ç•¥")])]),t._v(" "),s("ul",[s("li",[t._v("é™æ€èµ„æºä½¿ç”¨é•¿æœŸç¼“å­˜")]),t._v(" "),s("li",[t._v("HTML æ–‡ä»¶ä½¿ç”¨ç½‘ç»œä¼˜å…ˆç­–ç•¥")]),t._v(" "),s("li",[t._v("å›¾ç‰‡èµ„æºä½¿ç”¨ç¼“å­˜ä¼˜å…ˆç­–ç•¥")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("ç”¨æˆ·ä½“éªŒ")])]),t._v(" "),s("ul",[s("li",[t._v("é¿å…å¼ºåˆ¶ç«‹å³æ›´æ–°")]),t._v(" "),s("li",[t._v("æä¾›æ¸…æ™°çš„æ›´æ–°è¯´æ˜")]),t._v(" "),s("li",[t._v("ä¿æŒæ›´æ–°æç¤ºçš„ä¸€è‡´æ€§")])])])]),t._v(" "),s("h3",{attrs:{id:"æ€§èƒ½ä¼˜åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€§èƒ½ä¼˜åŒ–"}},[t._v("#")]),t._v(" æ€§èƒ½ä¼˜åŒ–")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("å‡å°‘æ£€æŸ¥é¢‘ç‡")])]),t._v(" "),s("ul",[s("li",[t._v("æ ¹æ®å†…å®¹æ›´æ–°é¢‘ç‡è°ƒæ•´æ£€æŸ¥é—´éš”")]),t._v(" "),s("li",[t._v("é¿å…åœ¨ç”¨æˆ·æ´»è·ƒæ—¶é¢‘ç¹æ£€æŸ¥")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("ç¼“å­˜ä¼˜åŒ–")])]),t._v(" "),s("ul",[s("li",[t._v("åˆç†è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´")]),t._v(" "),s("li",[t._v("å®šæœŸæ¸…ç†æ— ç”¨ç¼“å­˜")]),t._v(" "),s("li",[t._v("å‹ç¼©é™æ€èµ„æº")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("ç½‘ç»œä¼˜åŒ–")])]),t._v(" "),s("ul",[s("li",[t._v("ä½¿ç”¨ CDN åŠ é€Ÿ")]),t._v(" "),s("li",[t._v("å¯ç”¨ Gzip å‹ç¼©")]),t._v(" "),s("li",[t._v("ä¼˜åŒ–å›¾ç‰‡æ ¼å¼")])])])]),t._v(" "),s("h2",{attrs:{id:"æ•…éšœæ’é™¤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ•…éšœæ’é™¤"}},[t._v("#")]),t._v(" æ•…éšœæ’é™¤")]),t._v(" "),s("h3",{attrs:{id:"å¸¸è§é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸è§é—®é¢˜"}},[t._v("#")]),t._v(" å¸¸è§é—®é¢˜")]),t._v(" "),s("h4",{attrs:{id:"æ›´æ–°æ£€æµ‹ä¸å·¥ä½œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ›´æ–°æ£€æµ‹ä¸å·¥ä½œ"}},[t._v("#")]),t._v(" æ›´æ–°æ£€æµ‹ä¸å·¥ä½œ")]),t._v(" "),s("p",[s("strong",[t._v("å¯èƒ½åŸå› ï¼š")])]),t._v(" "),s("ul",[s("li",[t._v("Service Worker æœªæ­£ç¡®æ³¨å†Œ")]),t._v(" "),s("li",[t._v("æµè§ˆå™¨ä¸æ”¯æŒ Service Worker")]),t._v(" "),s("li",[t._v("ç½‘ç»œè¿æ¥é—®é¢˜")])]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³æ–¹æ¡ˆï¼š")])]),t._v(" "),s("ol",[s("li",[t._v("æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯")]),t._v(" "),s("li",[t._v("ç¡®è®¤ Service Worker æ³¨å†ŒçŠ¶æ€")]),t._v(" "),s("li",[t._v("æ¸…é™¤æµè§ˆå™¨ç¼“å­˜é‡è¯•")])]),t._v(" "),s("h4",{attrs:{id:"æ›´æ–°æç¤ºä¸æ˜¾ç¤º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ›´æ–°æç¤ºä¸æ˜¾ç¤º"}},[t._v("#")]),t._v(" æ›´æ–°æç¤ºä¸æ˜¾ç¤º")]),t._v(" "),s("p",[s("strong",[t._v("å¯èƒ½åŸå› ï¼š")])]),t._v(" "),s("ul",[s("li",[t._v("CSS æ ·å¼å†²çª")]),t._v(" "),s("li",[t._v("JavaScript é”™è¯¯")]),t._v(" "),s("li",[t._v("æƒé™é—®é¢˜")])]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³æ–¹æ¡ˆï¼š")])]),t._v(" "),s("ol",[s("li",[t._v("æ£€æŸ¥æ§åˆ¶å°é”™è¯¯")]),t._v(" "),s("li",[t._v("ç¡®è®¤è„šæœ¬åŠ è½½é¡ºåº")]),t._v(" "),s("li",[t._v("éªŒè¯ DOM ç»“æ„")])]),t._v(" "),s("h4",{attrs:{id:"ç¦»çº¿åŠŸèƒ½å¼‚å¸¸"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¦»çº¿åŠŸèƒ½å¼‚å¸¸"}},[t._v("#")]),t._v(" ç¦»çº¿åŠŸèƒ½å¼‚å¸¸")]),t._v(" "),s("p",[s("strong",[t._v("å¯èƒ½åŸå› ï¼š")])]),t._v(" "),s("ul",[s("li",[t._v("ç¼“å­˜ç­–ç•¥é…ç½®é”™è¯¯")]),t._v(" "),s("li",[t._v("Service Worker æ›´æ–°å¤±è´¥")]),t._v(" "),s("li",[t._v("å­˜å‚¨ç©ºé—´ä¸è¶³")])]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³æ–¹æ¡ˆï¼š")])]),t._v(" "),s("ol",[s("li",[t._v("æ£€æŸ¥ç¼“å­˜é…ç½®")]),t._v(" "),s("li",[t._v("æ‰‹åŠ¨æ›´æ–° Service Worker")]),t._v(" "),s("li",[t._v("æ¸…ç†æµè§ˆå™¨å­˜å‚¨")])]),t._v(" "),s("h2",{attrs:{id:"æ›´æ–°æ—¥å¿—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ›´æ–°æ—¥å¿—"}},[t._v("#")]),t._v(" æ›´æ–°æ—¥å¿—")]),t._v(" "),s("h3",{attrs:{id:"v1-0-0-å½“å‰ç‰ˆæœ¬"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v1-0-0-å½“å‰ç‰ˆæœ¬"}},[t._v("#")]),t._v(" v1.0.0 (å½“å‰ç‰ˆæœ¬)")]),t._v(" "),s("p",[s("strong",[t._v("æ–°å¢åŠŸèƒ½ï¼š")])]),t._v(" "),s("ul",[s("li",[t._v("âœ¨ å¼ºåˆ¶æ›´æ–°åŠŸèƒ½")]),t._v(" "),s("li",[t._v("ğŸ“± PWA ç¦»çº¿æ”¯æŒ")]),t._v(" "),s("li",[t._v("ğŸ”„ è‡ªåŠ¨ç‰ˆæœ¬æ£€æµ‹")]),t._v(" "),s("li",[t._v("ğŸ’¾ æ™ºèƒ½ç¼“å­˜ç®¡ç†")]),t._v(" "),s("li",[t._v("ğŸ¯ ç‰ˆæœ¬çŠ¶æ€æ˜¾ç¤º")]),t._v(" "),s("li",[t._v("ğŸ“Š æ›´æ–°ç»Ÿè®¡åŠŸèƒ½")])]),t._v(" "),s("p",[s("strong",[t._v("æŠ€æœ¯æ”¹è¿›ï¼š")])]),t._v(" "),s("ul",[s("li",[t._v("ğŸš€ ä¼˜åŒ–åŠ è½½æ€§èƒ½")]),t._v(" "),s("li",[t._v("ğŸ›¡ï¸ å¢å¼ºå®‰å…¨æ€§")]),t._v(" "),s("li",[t._v("ğŸ“ å“åº”å¼è®¾è®¡ä¼˜åŒ–")]),t._v(" "),s("li",[t._v("ğŸ¨ ç•Œé¢ç¾åŒ–å‡çº§")])]),t._v(" "),s("p",[s("strong",[t._v("ä¿®å¤é—®é¢˜ï¼š")])]),t._v(" "),s("ul",[s("li",[t._v("ğŸ› ä¿®å¤ç¼“å­˜æ¸…ç†é—®é¢˜")]),t._v(" "),s("li",[t._v("ğŸ”§ ä¼˜åŒ–å†…å­˜ä½¿ç”¨")]),t._v(" "),s("li",[t._v("ğŸ“± ä¿®å¤ç§»åŠ¨ç«¯å…¼å®¹æ€§")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"æŠ€æœ¯æ”¯æŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æŠ€æœ¯æ”¯æŒ"}},[t._v("#")]),t._v(" æŠ€æœ¯æ”¯æŒ")]),t._v(" "),s("p",[t._v("å¦‚æœåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š")]),t._v(" "),s("ol",[s("li",[t._v("æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯")]),t._v(" "),s("li",[t._v("æ£€æŸ¥ç½‘ç»œè¿æ¥çŠ¶æ€")]),t._v(" "),s("li",[t._v("å°è¯•æ¸…é™¤æµè§ˆå™¨ç¼“å­˜")]),t._v(" "),s("li",[t._v("è”ç³»æŠ€æœ¯æ”¯æŒå›¢é˜Ÿ")])]),t._v(" "),s("p",[s("strong",[t._v("æ³¨æ„ï¼š")]),t._v(" å¼ºåˆ¶æ›´æ–°åŠŸèƒ½éœ€è¦ç°ä»£æµè§ˆå™¨æ”¯æŒï¼Œå»ºè®®ä½¿ç”¨ Chrome 60+ã€Firefox 55+ã€Safari 11+ æˆ– Edge 17+ ç‰ˆæœ¬ã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);